(function(){function a(a,b,c){var d=b&&c||0,e=0;for(b=b||[],a.toLowerCase().replace(/[0-9a-f]{2}/g,function(a){16>e&&(b[d+e++]=m[a])});16>e;)b[d+e++]=0;return b}function b(a,b){var c=b||0,d=l;return d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+"-"+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]+d[a[c++]]}function c(a,c,d){var e=c&&d||0,f=c||[];a=a||{};var g=null!=a.clockseq?a.clockseq:q,h=null!=a.msecs?a.msecs:(new Date).getTime(),i=null!=a.nsecs?a.nsecs:s+1,j=h-r+(i-s)/1e4;if(0>j&&null==a.clockseq&&(g=g+1&16383),(0>j||h>r)&&null==a.nsecs&&(i=0),i>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");r=h,s=i,q=g,h+=122192928e5;var k=(1e4*(268435455&h)+i)%4294967296;f[e++]=k>>>24&255,f[e++]=k>>>16&255,f[e++]=k>>>8&255,f[e++]=255&k;var l=h/4294967296*1e4&268435455;f[e++]=l>>>8&255,f[e++]=255&l,f[e++]=l>>>24&15|16,f[e++]=l>>>16&255,f[e++]=g>>>8|128,f[e++]=255&g;for(var m=a.node||p,n=0;6>n;n++)f[e+n]=m[n];return c?c:b(f)}function d(a,c,d){var f=c&&d||0;"string"==typeof a&&(c="binary"==a?new k(16):null,a=null),a=a||{};var g=a.random||(a.rng||e)();if(g[6]=15&g[6]|64,g[8]=63&g[8]|128,c)for(var h=0;16>h;h++)c[f+h]=g[h];return c||b(g)}var e,f=this;if("function"==typeof f.require)try{var g=f.require("crypto").randomBytes;e=g&&function(){return g(16)}}catch(h){}if(!e&&f.crypto&&crypto.getRandomValues){var i=new Uint8Array(16);e=function(){return crypto.getRandomValues(i),i}}if(!e){var j=new Array(16);e=function(){for(var a,b=0;16>b;b++)0===(3&b)&&(a=4294967296*Math.random()),j[b]=a>>>((3&b)<<3)&255;return j}}for(var k="function"==typeof f.Buffer?f.Buffer:Array,l=[],m={},n=0;256>n;n++)l[n]=(n+256).toString(16).substr(1),m[l[n]]=n;var o=e(),p=[1|o[0],o[1],o[2],o[3],o[4],o[5]],q=16383&(o[6]<<8|o[7]),r=0,s=0,t=d;if(t.v1=c,t.v4=d,t.parse=a,t.unparse=b,t.BufferClass=k,"undefined"!=typeof module&&module.exports)module.exports=t;else if("function"==typeof define&&define.amd)define(function(){return t});else{var u=f.uuid;t.noConflict=function(){return f.uuid=u,t},f.uuid=t}}).call(this);var rootScopeUuid=uuid,DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){a.uuid=rootScopeUuid}(b=a.RFC4122||(a.RFC4122={}))}(b=a.UUID||(a.UUID={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={})),!function(a){"use strict";var b=-1,c={onVisible:function(a){var b=c.isSupported();if(!b||!c.hidden())return a(),b;var d=c.change(function(){c.hidden()||(c.unbind(d),a())});return d},change:function(a){if(!c.isSupported())return!1;b+=1;var d=b;return c._callbacks[d]=a,c._listen(),d},unbind:function(a){delete c._callbacks[a]},afterPrerendering:function(a){var b=c.isSupported(),d="prerender";if(!b||d!=c.state())return a(),b;var e=c.change(function(b,f){d!=f&&(c.unbind(e),a())});return e},hidden:function(){return!(!c._doc.hidden&&!c._doc.webkitHidden)},state:function(){return c._doc.visibilityState||c._doc.webkitVisibilityState||"visible"},isSupported:function(){return!(!c._doc.visibilityState&&!c._doc.webkitVisibilityState)},_doc:document||{},_callbacks:{},_change:function(a){var b=c.state();for(var d in c._callbacks)c._callbacks[d].call(c._doc,a,b)},_listen:function(){if(!c._init){var a="visibilitychange";c._doc.webkitVisibilityState&&(a="webkit"+a);var b=function(){c._change.apply(c,arguments)};c._doc.addEventListener?c._doc.addEventListener(a,b):c._doc.attachEvent(a,b),c._init=!0}}};"undefined"!=typeof module&&module.exports?module.exports=c:a.Visibility=c}(this),function(a){"use strict";var b=-1,c=function(c){return c.every=function(a,d,e){c._time(),e||(e=d,d=null),b+=1;var f=b;return c._timers[f]={visible:a,hidden:d,callback:e},c._run(f,!1),c.isSupported()&&c._listen(),f},c.stop=function(a){return c._timers[a]?(c._stop(a),delete c._timers[a],!0):!1},c._timers={},c._time=function(){c._timed||(c._timed=!0,c._wasHidden=c.hidden(),c.change(function(){c._stopRun(),c._wasHidden=c.hidden()}))},c._run=function(b,d){var e,f=c._timers[b];if(c.hidden()){if(null===f.hidden)return;e=f.hidden}else e=f.visible;var g=function(){f.last=new Date,f.callback.call(a)};if(d){var h=new Date,i=h-f.last;e>i?f.delay=setTimeout(function(){g(),f.id=setInterval(g,e)},e-i):(g(),f.id=setInterval(g,e))}else f.id=setInterval(g,e)},c._stop=function(a){var b=c._timers[a];clearInterval(b.id),clearTimeout(b.delay),delete b.id,delete b.delay},c._stopRun=function(){var a=c.hidden(),b=c._wasHidden;if(a&&!b||!a&&b)for(var d in c._timers)c._stop(d),c._run(d,!a)},c};"undefined"!=typeof module&&module.exports?module.exports=c(require("./visibility.core")):c(a.Visibility)}(window),function(a,b){a(function(){"use strict";function a(a,b){return null!=a&&null!=b&&a.toLowerCase()===b.toLowerCase()}function c(a){for(var b in a)g.call(a,b)&&(a[b]=new RegExp(a[b],"i"))}function d(a,b){this.ua=a||"",this._cache={},this.maxPhoneWidth=b||600}var e={};e.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925",Samsung:"Samsung|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)|^.*Android.*Nexus(?:(?!Mobile).)*$",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-I9205|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237P|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD",LenovoTablet:"Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.*\\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",Hudl:"Hudl HT7S3",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bJolla\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",Tizen:"Tizen",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:"Firefox/[VER]",Fennec:"Fennec/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]",
"Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},e.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var f,g=Object.prototype.hasOwnProperty;return e.FALLBACK_PHONE="UnknownPhone",e.FALLBACK_TABLET="UnknownTablet",e.FALLBACK_MOBILE="UnknownMobile",f="isArray"in Array?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},function(){var a,b,d,h,i,j,k=e.mobileDetectRules;for(a in k.props)if(g.call(k.props,a)){for(b=k.props[a],f(b)||(b=[b]),i=b.length,h=0;i>h;++h)d=b[h],j=d.indexOf("[VER]"),j>=0&&(d=d.substring(0,j)+"([\\w._\\+]+)"+d.substring(j+5)),b[h]=new RegExp(d,"i");k.props[a]=b}c(k.oss),c(k.phones),c(k.tablets),c(k.uas),c(k.utils),k.oss0={WindowsPhoneOS:k.oss.WindowsPhoneOS,WindowsMobileOS:k.oss.WindowsMobileOS}}(),e.findMatch=function(a,b){for(var c in a)if(g.call(a,c)&&a[c].test(b))return c;return null},e.getVersionStr=function(a,b){var c,d,f,h,i=e.mobileDetectRules.props;if(g.call(i,a))for(c=i[a],f=c.length,d=0;f>d;++d)if(h=c[d].exec(b),null!==h)return h[1];return null},e.getVersion=function(a,b){var c=e.getVersionStr(a,b);return c?e.prepareVersionNo(c):NaN},e.prepareVersionNo=function(a){var b;return b=a.split(/[a-z._ \/\-]/i),1===b.length&&(a=b[0]),b.length>1&&(a=b[0]+".",b.shift(),a+=b.join("")),Number(a)},e.isMobileFallback=function(a){return e.detectMobileBrowsers.fullPattern.test(a)||e.detectMobileBrowsers.shortPattern.test(a.substr(0,4))},e.isTabletFallback=function(a){return e.detectMobileBrowsers.tabletPattern.test(a)},e.prepareDetectionCache=function(a,c,f){if(a.mobile===b){var g,h,i;return(h=e.findMatch(e.mobileDetectRules.tablets,c))?(a.mobile=a.tablet=h,void(a.phone=null)):(g=e.findMatch(e.mobileDetectRules.phones,c))?(a.mobile=a.phone=g,void(a.tablet=null)):void(e.isMobileFallback(c)?(i=d.isPhoneSized(f),i===b?(a.mobile=e.FALLBACK_MOBILE,a.tablet=a.phone=null):i?(a.mobile=a.phone=e.FALLBACK_PHONE,a.tablet=null):(a.mobile=a.tablet=e.FALLBACK_TABLET,a.phone=null)):e.isTabletFallback(c)?(a.mobile=a.tablet=e.FALLBACK_TABLET,a.phone=null):a.mobile=a.tablet=a.phone=null)}},e.mobileGrade=function(a){var b=null!==a.mobile();return a.os("iOS")&&a.version("iPad")>=4.3||a.os("iOS")&&a.version("iPhone")>=3.1||a.os("iOS")&&a.version("iPod")>=3.1||a.version("Android")>2.1&&a.is("Webkit")||a.version("Windows Phone OS")>=7||a.is("BlackBerry")&&a.version("BlackBerry")>=6||a.match("Playbook.*Tablet")||a.version("webOS")>=1.4&&a.match("Palm|Pre|Pixi")||a.match("hp.*TouchPad")||a.is("Firefox")&&a.version("Firefox")>=12||a.is("Chrome")&&a.is("AndroidOS")&&a.version("Android")>=4||a.is("Skyfire")&&a.version("Skyfire")>=4.1&&a.is("AndroidOS")&&a.version("Android")>=2.3||a.is("Opera")&&a.version("Opera Mobi")>11&&a.is("AndroidOS")||a.is("MeeGoOS")||a.is("Tizen")||a.is("Dolfin")&&a.version("Bada")>=2||(a.is("UC Browser")||a.is("Dolfin"))&&a.version("Android")>=2.3||a.match("Kindle Fire")||a.is("Kindle")&&a.version("Kindle")>=3||a.is("AndroidOS")&&a.is("NookTablet")||a.version("Chrome")>=11&&!b||a.version("Safari")>=5&&!b||a.version("Firefox")>=4&&!b||a.version("MSIE")>=7&&!b||a.version("Opera")>=10&&!b?"A":a.os("iOS")&&a.version("iPad")<4.3||a.os("iOS")&&a.version("iPhone")<3.1||a.os("iOS")&&a.version("iPod")<3.1||a.is("Blackberry")&&a.version("BlackBerry")>=5&&a.version("BlackBerry")<6||a.version("Opera Mini")>=5&&a.version("Opera Mini")<=6.5&&(a.version("Android")>=2.3||a.is("iOS"))||a.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||a.version("Opera Mobi")>=11&&a.is("SymbianOS")?"B":(a.version("BlackBerry")<5||a.match("MSIEMobile|Windows CE.*Mobile")||a.version("Windows Mobile")<=5.2,"C")},e.detectOS=function(a){return e.findMatch(e.mobileDetectRules.oss0,a)||e.findMatch(e.mobileDetectRules.oss,a)},e.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},d.prototype={constructor:d,mobile:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return e.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===b&&(this._cache.userAgent=e.findMatch(e.mobileDetectRules.uas,this.ua)),this._cache.userAgent},os:function(){return this._cache.os===b&&(this._cache.os=e.detectOS(this.ua)),this._cache.os},version:function(a){return e.getVersion(a,this.ua)},versionStr:function(a){return e.getVersionStr(a,this.ua)},is:function(b){return a(b,this.userAgent())||a(b,this.os())||a(b,this.phone())||a(b,this.tablet())||a(b,e.findMatch(e.mobileDetectRules.utils,this.ua))},match:function(a){return a instanceof RegExp||(a=new RegExp(a,"i")),a.test(this.ua)},isPhoneSized:function(a){return d.isPhoneSized(a||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===b&&(this._cache.grade=e.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?d.isPhoneSized=function(a){return 0>a?b:e.getDeviceSmallerSide()<=a}:d.isPhoneSized=function(){},d._impl=e,d})}(function(a){if("undefined"!=typeof module&&module.exports)return function(a){module.exports=a()};if("function"==typeof define&&define.amd)return define;if("undefined"!=typeof window)return function(a){window.MobileDetect=a()};throw new Error("unknown environment")}()),!function(){var a={},b=null,c=!0,d=!1;try{"undefined"!=typeof AudioContext?b=new AudioContext:"undefined"!=typeof webkitAudioContext?b=new webkitAudioContext:c=!1}catch(e){c=!1}if(!c)if("undefined"!=typeof Audio)try{new Audio}catch(e){d=!0}else d=!0;if(c){var f="undefined"==typeof b.createGain?b.createGainNode():b.createGain();f.gain.value=1,f.connect(b.destination)}var g=function(a){this._volume=1,this._muted=!1,this.usingWebAudio=c,this.ctx=b,this.noAudio=d,this._howls=[],this._codecs=a,this.iOSAutoEnable=!0};g.prototype={volume:function(a){var b=this;if(a=parseFloat(a),a>=0&&1>=a){b._volume=a,c&&(f.gain.value=a);for(var d in b._howls)if(b._howls.hasOwnProperty(d)&&b._howls[d]._webAudio===!1)for(var e=0;e<b._howls[d]._audioNode.length;e++)b._howls[d]._audioNode[e].volume=b._howls[d]._volume*b._volume;return b}return c?f.gain.value:b._volume},mute:function(){return this._setMuted(!0),this},unmute:function(){return this._setMuted(!1),this},_setMuted:function(a){var b=this;b._muted=a,c&&(f.gain.value=a?0:b._volume);for(var d in b._howls)if(b._howls.hasOwnProperty(d)&&b._howls[d]._webAudio===!1)for(var e=0;e<b._howls[d]._audioNode.length;e++)b._howls[d]._audioNode[e].muted=a},codecs:function(a){return this._codecs[a]},_enableiOSAudio:function(){var a=this;if(!b||!a._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){a._iOSEnabled=!1;var c=function(){var d=b.createBuffer(1,1,22050),e=b.createBufferSource();e.buffer=d,e.connect(b.destination),"undefined"==typeof e.start?e.noteOn(0):e.start(0),setTimeout(function(){(e.playbackState===e.PLAYING_STATE||e.playbackState===e.FINISHED_STATE)&&(a._iOSEnabled=!0,a.iOSAutoEnable=!1,window.removeEventListener("touchstart",c,!1))},0)};return window.addEventListener("touchstart",c,!1),a}}};var h=null,i={};d||(h=new Audio,i={mp3:!!h.canPlayType("audio/mpeg;").replace(/^no$/,""),opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!h.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")});var j=new g(i),k=function(a){var d=this;d._autoplay=a.autoplay||!1,d._buffer=a.buffer||!1,d._duration=a.duration||0,d._format=a.format||null,d._loop=a.loop||!1,d._loaded=!1,d._sprite=a.sprite||{},d._src=a.src||"",d._pos3d=a.pos3d||[0,0,-.5],d._volume=void 0!==a.volume?a.volume:1,d._urls=a.urls||[],d._rate=a.rate||1,d._model=a.model||null,d._onload=[a.onload||function(){}],d._onloaderror=[a.onloaderror||function(){}],d._onend=[a.onend||function(){}],d._onpause=[a.onpause||function(){}],d._onplay=[a.onplay||function(){}],d._onendTimer=[],d._webAudio=c&&!d._buffer,d._audioNode=[],d._webAudio&&d._setupAudioNode(),"undefined"!=typeof b&&b&&j.iOSAutoEnable&&j._enableiOSAudio(),j._howls.push(d),d.load()};if(k.prototype={load:function(){var a=this,b=null;if(d)return void a.on("loaderror");for(var c=0;c<a._urls.length;c++){var e,f;if(a._format)e=a._format;else{if(f=a._urls[c],e=/^data:audio\/([^;,]+);/i.exec(f),e||(e=/\.([^.]+)$/.exec(f.split("?",1)[0])),!e)return void a.on("loaderror");e=e[1].toLowerCase()}if(i[e]){b=a._urls[c];break}}if(!b)return void a.on("loaderror");if(a._src=b,a._webAudio)l(a,b);else{var h=new Audio;h.addEventListener("error",function(){h.error&&4===h.error.code&&(g.noAudio=!0),a.on("loaderror",{type:h.error?h.error.code:0})},!1),a._audioNode.push(h),h.src=b,h._pos=0,h.preload="auto",h.volume=j._muted?0:a._volume*j.volume();var k=function(){a._duration=Math.ceil(10*h.duration)/10,0===Object.getOwnPropertyNames(a._sprite).length&&(a._sprite={_default:[0,1e3*a._duration]}),a._loaded||(a._loaded=!0,a.on("load")),a._autoplay&&a.play(),h.removeEventListener("canplaythrough",k,!1)};h.addEventListener("canplaythrough",k,!1),h.load()}return a},urls:function(a){var b=this;return a?(b.stop(),b._urls="string"==typeof a?[a]:a,b._loaded=!1,b.load(),b):b._urls},play:function(a,c){var d=this;return"function"==typeof a&&(c=a),a&&"function"!=typeof a||(a="_default"),d._loaded?d._sprite[a]?(d._inactiveNode(function(e){e._sprite=a;var f=e._pos>0?e._pos:d._sprite[a][0]/1e3,g=0;d._webAudio?(g=d._sprite[a][1]/1e3-e._pos,e._pos>0&&(f=d._sprite[a][0]/1e3+f)):g=d._sprite[a][1]/1e3-(f-d._sprite[a][0]/1e3);var h,i=!(!d._loop&&!d._sprite[a][2]),k="string"==typeof c?c:Math.round(Date.now()*Math.random())+"";if(function(){var b={id:k,sprite:a,loop:i};h=setTimeout(function(){!d._webAudio&&i&&d.stop(b.id).play(a,b.id),d._webAudio&&!i&&(d._nodeById(b.id).paused=!0,d._nodeById(b.id)._pos=0,d._clearEndTimer(b.id)),d._webAudio||i||d.stop(b.id),d.on("end",k)},1e3*g),d._onendTimer.push({timer:h,id:b.id})}(),d._webAudio){var l=d._sprite[a][0]/1e3,m=d._sprite[a][1]/1e3;e.id=k,e.paused=!1,o(d,[i,l,m],k),d._playStart=b.currentTime,e.gain.value=d._volume,"undefined"==typeof e.bufferSource.start?i?e.bufferSource.noteGrainOn(0,f,86400):e.bufferSource.noteGrainOn(0,f,g):i?e.bufferSource.start(0,f,86400):e.bufferSource.start(0,f,g)}else{if(4!==e.readyState&&(e.readyState||!navigator.isCocoonJS))return d._clearEndTimer(k),function(){var b=d,f=a,g=c,h=e,i=function(){b.play(f,g),h.removeEventListener("canplaythrough",i,!1)};h.addEventListener("canplaythrough",i,!1)}(),d;e.readyState=4,e.id=k,e.currentTime=f,e.muted=j._muted||e.muted,e.volume=d._volume*j.volume(),setTimeout(function(){e.play()},0)}return d.on("play"),"function"==typeof c&&c(k),d}),d):("function"==typeof c&&c(),d):(d.on("load",function(){d.play(a,c)}),d)},pause:function(a){var b=this;if(!b._loaded)return b.on("play",function(){b.pause(a)}),b;b._clearEndTimer(a);var c=a?b._nodeById(a):b._activeNode();if(c)if(c._pos=b.pos(null,a),b._webAudio){if(!c.bufferSource||c.paused)return b;c.paused=!0,"undefined"==typeof c.bufferSource.stop?c.bufferSource.noteOff(0):c.bufferSource.stop(0)}else c.pause();return b.on("pause"),b},stop:function(a){var b=this;if(!b._loaded)return b.on("play",function(){b.stop(a)}),b;b._clearEndTimer(a);var c=a?b._nodeById(a):b._activeNode();if(c)if(c._pos=0,b._webAudio){if(!c.bufferSource||c.paused)return b;c.paused=!0,"undefined"==typeof c.bufferSource.stop?c.bufferSource.noteOff(0):c.bufferSource.stop(0)}else isNaN(c.duration)||(c.pause(),c.currentTime=0);return b},mute:function(a){var b=this;if(!b._loaded)return b.on("play",function(){b.mute(a)}),b;var c=a?b._nodeById(a):b._activeNode();return c&&(b._webAudio?c.gain.value=0:c.muted=!0),b},unmute:function(a){var b=this;if(!b._loaded)return b.on("play",function(){b.unmute(a)}),b;var c=a?b._nodeById(a):b._activeNode();return c&&(b._webAudio?c.gain.value=b._volume:c.muted=!1),b},volume:function(a,b){var c=this;if(a=parseFloat(a),a>=0&&1>=a){if(c._volume=a,!c._loaded)return c.on("play",function(){c.volume(a,b)}),c;var d=b?c._nodeById(b):c._activeNode();return d&&(c._webAudio?d.gain.value=a:d.volume=a*j.volume()),c}return c._volume},loop:function(a){var b=this;return"boolean"==typeof a?(b._loop=a,b):b._loop},sprite:function(a){var b=this;return"object"==typeof a?(b._sprite=a,b):b._sprite},pos:function(a,c){var d=this;if(!d._loaded)return d.on("load",function(){d.pos(a)}),"number"==typeof a?d:d._pos||0;a=parseFloat(a);var e=c?d._nodeById(c):d._activeNode();if(e)return a>=0?(d.pause(c),e._pos=a,d.play(e._sprite,c),d):d._webAudio?e._pos+(b.currentTime-d._playStart):e.currentTime;if(a>=0)return d;for(var f=0;f<d._audioNode.length;f++)if(d._audioNode[f].paused&&4===d._audioNode[f].readyState)return d._webAudio?d._audioNode[f]._pos:d._audioNode[f].currentTime},pos3d:function(a,b,c,d){var e=this;if(b="undefined"!=typeof b&&b?b:0,c="undefined"!=typeof c&&c?c:-.5,!e._loaded)return e.on("play",function(){e.pos3d(a,b,c,d)}),e;if(!(a>=0||0>a))return e._pos3d;if(e._webAudio){var f=d?e._nodeById(d):e._activeNode();f&&(e._pos3d=[a,b,c],f.panner.setPosition(a,b,c),f.panner.panningModel=e._model||"HRTF")}return e},fade:function(a,b,c,d,e){var f=this,g=Math.abs(a-b),h=a>b?"down":"up",i=g/.01,j=c/i;if(!f._loaded)return f.on("load",function(){f.fade(a,b,c,d,e)}),f;f.volume(a,e);for(var k=1;i>=k;k++)!function(){var a=f._volume+("up"===h?.01:-.01)*k,c=Math.round(1e3*a)/1e3,g=b;setTimeout(function(){f.volume(c,e),c===g&&d&&d()},j*k)}()},fadeIn:function(a,b,c){return this.volume(0).play().fade(0,a,b,c)},fadeOut:function(a,b,c,d){var e=this;return e.fade(e._volume,a,b,function(){c&&c(),e.pause(d),e.on("end")},d)},_nodeById:function(a){for(var b=this,c=b._audioNode[0],d=0;d<b._audioNode.length;d++)if(b._audioNode[d].id===a){c=b._audioNode[d];break}return c},_activeNode:function(){for(var a=this,b=null,c=0;c<a._audioNode.length;c++)if(!a._audioNode[c].paused){b=a._audioNode[c];break}return a._drainPool(),b},_inactiveNode:function(a){for(var b=this,c=null,d=0;d<b._audioNode.length;d++)if(b._audioNode[d].paused&&4===b._audioNode[d].readyState){a(b._audioNode[d]),c=!0;break}if(b._drainPool(),!c){var e;if(b._webAudio)e=b._setupAudioNode(),a(e);else{b.load(),e=b._audioNode[b._audioNode.length-1];var f=navigator.isCocoonJS?"canplaythrough":"loadedmetadata",g=function(){e.removeEventListener(f,g,!1),a(e)};e.addEventListener(f,g,!1)}}},_drainPool:function(){var a,b=this,c=0;for(a=0;a<b._audioNode.length;a++)b._audioNode[a].paused&&c++;for(a=b._audioNode.length-1;a>=0&&!(5>=c);a--)b._audioNode[a].paused&&(b._webAudio&&b._audioNode[a].disconnect(0),c--,b._audioNode.splice(a,1))},_clearEndTimer:function(a){for(var b=this,c=0,d=0;d<b._onendTimer.length;d++)if(b._onendTimer[d].id===a){c=d;break}var e=b._onendTimer[c];e&&(clearTimeout(e.timer),b._onendTimer.splice(c,1))},_setupAudioNode:function(){var a=this,c=a._audioNode,d=a._audioNode.length;return c[d]="undefined"==typeof b.createGain?b.createGainNode():b.createGain(),c[d].gain.value=a._volume,c[d].paused=!0,c[d]._pos=0,c[d].readyState=4,c[d].connect(f),c[d].panner=b.createPanner(),c[d].panner.panningModel=a._model||"equalpower",c[d].panner.setPosition(a._pos3d[0],a._pos3d[1],a._pos3d[2]),c[d].panner.connect(c[d]),c[d]},on:function(a,b){var c=this,d=c["_on"+a];if("function"==typeof b)d.push(b);else for(var e=0;e<d.length;e++)b?d[e].call(c,b):d[e].call(c);return c},off:function(a,b){var c=this,d=c["_on"+a],e=b?b.toString():null;if(e){for(var f=0;f<d.length;f++)if(e===d[f].toString()){d.splice(f,1);break}}else c["_on"+a]=[];return c},unload:function(){for(var b=this,c=b._audioNode,d=0;d<b._audioNode.length;d++)c[d].paused||(b.stop(c[d].id),b.on("end",c[d].id)),b._webAudio?c[d].disconnect(0):c[d].src="";for(d=0;d<b._onendTimer.length;d++)clearTimeout(b._onendTimer[d].timer);var e=j._howls.indexOf(b);null!==e&&e>=0&&j._howls.splice(e,1),delete a[b._src],b=null}},c)var l=function(b,c){if(c in a)return b._duration=a[c].duration,void n(b);if(/^data:[^;]+;base64,/.test(c)){for(var d=atob(c.split(",")[1]),e=new Uint8Array(d.length),f=0;f<d.length;++f)e[f]=d.charCodeAt(f);m(e.buffer,b,c)}else{var g=new XMLHttpRequest;g.open("GET",c,!0),g.responseType="arraybuffer",g.onload=function(){m(g.response,b,c)},g.onerror=function(){b._webAudio&&(b._buffer=!0,b._webAudio=!1,b._audioNode=[],delete b._gainNode,delete a[c],b.load())};try{g.send()}catch(h){g.onerror()}}},m=function(c,d,e){b.decodeAudioData(c,function(b){b&&(a[e]=b,n(d,b))},function(a){d.on("loaderror")})},n=function(a,b){a._duration=b?b.duration:a._duration,0===Object.getOwnPropertyNames(a._sprite).length&&(a._sprite={_default:[0,1e3*a._duration]}),a._loaded||(a._loaded=!0,a.on("load")),a._autoplay&&a.play()},o=function(c,d,e){var f=c._nodeById(e);f.bufferSource=b.createBufferSource(),f.bufferSource.buffer=a[c._src],f.bufferSource.connect(f.panner),f.bufferSource.loop=d[0],d[0]&&(f.bufferSource.loopStart=d[1],f.bufferSource.loopEnd=d[1]+d[2]),f.bufferSource.playbackRate.value=c._rate};"function"==typeof define&&define.amd&&define(function(){return{Howler:j,Howl:k}}),"undefined"!=typeof exports&&(exports.Howler=j,exports.Howl=k),"undefined"!=typeof window&&(window.Howler=j,window.Howl=k)}(),function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.PIXI=a()}}(function(){var a;return function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){a("./polyfill");var d=b.exports=a("./core");d.extras=a("./extras"),d.filters=a("./filters"),d.interaction=a("./interaction"),d.loaders=a("./loaders"),d.mesh=a("./mesh"),d.loader=new d.loaders.Loader,Object.assign(d,a("./deprecation")),c.PIXI=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":29,"./deprecation":78,"./extras":85,"./filters":102,"./interaction":117,"./loaders":120,"./mesh":126,"./polyfill":130}],2:[function(b,c,d){(function(b){!function(){function d(a){var b=!1;return function(){if(b)throw new Error("Callback was already called.");b=!0,a.apply(e,arguments)}}var e,f,g={};e=this,null!=e&&(f=e.async),g.noConflict=function(){return e.async=f,g};var h=Object.prototype.toString,i=Array.isArray||function(a){return"[object Array]"===h.call(a)},j=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},k=function(a,b){if(a.map)return a.map(b);var c=[];return j(a,function(a,d,e){c.push(b(a,d,e))}),c},l=function(a,b,c){return a.reduce?a.reduce(b,c):(j(a,function(a,d,e){c=b(c,a,d,e)}),c)},m=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!=typeof b&&b.nextTick?(g.nextTick=b.nextTick,"undefined"!=typeof setImmediate?g.setImmediate=function(a){setImmediate(a)}:g.setImmediate=g.nextTick):"function"==typeof setImmediate?(g.nextTick=function(a){setImmediate(a)},g.setImmediate=g.nextTick):(g.nextTick=function(a){setTimeout(a,0)},g.setImmediate=g.nextTick),g.each=function(a,b,c){function e(b){b?(c(b),c=function(){}):(f+=1,f>=a.length&&c())}if(c=c||function(){},!a.length)return c();var f=0;j(a,function(a){b(a,d(e))})},g.forEach=g.each,g.eachSeries=function(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()},g.forEachSeries=g.eachSeries,g.eachLimit=function(a,b,c,d){var e=n(b);e.apply(null,[a,c,d])},g.forEachLimit=g.eachLimit;var n=function(a){return function(b,c,d){if(d=d||function(){},!b.length||0>=a)return d();var e=0,f=0,g=0;!function h(){if(e>=b.length)return d();for(;a>g&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():h())})}()}},o=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[g.each].concat(b))}},p=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[n(a)].concat(c))}},q=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[g.eachSeries].concat(b))}},r=function(a,b,c,d){if(b=k(b,function(a,b){return{index:b,value:a}}),d){var e=[];a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){d(a,e)})}else a(b,function(a,b){c(a.value,function(a){b(a)})})};g.map=o(r),g.mapSeries=q(r),g.mapLimit=function(a,b,c,d){return s(b)(a,c,d)};var s=function(a){return p(a,r)};g.reduce=function(a,b,c,d){g.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c,d(a)})},function(a){d(a,b)})},g.inject=g.reduce,g.foldl=g.reduce,g.reduceRight=function(a,b,c,d){var e=k(a,function(a){return a}).reverse();g.reduce(e,b,c,d)},g.foldr=g.reduceRight;var t=function(a,b,c,d){var e=[];b=k(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&e.push(a),b()})},function(a){d(k(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};g.filter=o(t),g.filterSeries=q(t),g.select=g.filter,g.selectSeries=g.filterSeries;var u=function(a,b,c,d){var e=[];b=k(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||e.push(a),b()})},function(a){d(k(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};g.reject=o(u),g.rejectSeries=q(u);var v=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(a){d()})};g.detect=o(v),g.detectSeries=q(v),g.some=function(a,b,c){g.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){}),d()})},function(a){c(!1)})},g.any=g.some,g.every=function(a,b,c){g.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){}),d()})},function(a){c(!0)})},g.all=g.every,g.sortBy=function(a,b,c){g.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);var d=function(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0};c(null,k(b.sort(d),function(a){return a.value}))})},g.auto=function(a,b){b=b||function(){};var c=m(a),d=c.length;if(!d)return b();var e={},f=[],h=function(a){f.unshift(a)},k=function(a){for(var b=0;b<f.length;b+=1)if(f[b]===a)return void f.splice(b,1)},n=function(){d--,j(f.slice(0),function(a){a()})};h(function(){if(!d){var a=b;b=function(){},a(null,e)}}),j(c,function(c){var d=i(a[c])?a[c]:[a[c]],f=function(a){var d=Array.prototype.slice.call(arguments,1);if(d.length<=1&&(d=d[0]),a){var f={};j(m(e),function(a){f[a]=e[a]}),f[c]=d,b(a,f),b=function(){}}else e[c]=d,g.setImmediate(n)},o=d.slice(0,Math.abs(d.length-1))||[],p=function(){return l(o,function(a,b){return a&&e.hasOwnProperty(b)},!0)&&!e.hasOwnProperty(c)};if(p())d[d.length-1](f,e);else{var q=function(){p()&&(k(q),d[d.length-1](f,e))};h(q)}})},g.retry=function(a,b,c){var d=5,e=[];"function"==typeof a&&(c=b,b=a,a=d),a=parseInt(a,10)||d;var f=function(d,f){for(var h=function(a,b){return function(c){a(function(a,d){c(!a||b,{err:a,result:d})},f)}};a;)e.push(h(b,!(a-=1)));g.series(e,function(a,b){b=b[b.length-1],(d||c)(b.err,b.result)})};return c?f():f},g.waterfall=function(a,b){if(b=b||function(){},!i(a)){var c=new Error("First argument to waterfall must be an array of functions");return b(c)}if(!a.length)return b();var d=function(a){return function(c){if(c)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),f=a.next();f?e.push(d(f)):e.push(b),g.setImmediate(function(){a.apply(null,e)})}}};d(g.iterator(a))()};var w=function(a,b,c){if(c=c||function(){},i(b))a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.each(m(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}};g.parallel=function(a,b){w({map:g.map,each:g.each},a,b)},g.parallelLimit=function(a,b,c){w({map:s(b),each:n(b)},a,c)},g.series=function(a,b){if(b=b||function(){},i(a))g.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},b);else{var c={};g.eachSeries(m(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})}},g.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},g.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var x=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};g.concat=o(x),g.concatSeries=q(x),g.whilst=function(a,b,c){a()?b(function(d){return d?c(d):void g.whilst(a,b,c)}):c()},g.doWhilst=function(a,b,c){a(function(d){if(d)return c(d);var e=Array.prototype.slice.call(arguments,1);b.apply(null,e)?g.doWhilst(a,b,c):c()})},g.until=function(a,b,c){a()?c():b(function(d){return d?c(d):void g.until(a,b,c)})},g.doUntil=function(a,b,c){a(function(d){if(d)return c(d);var e=Array.prototype.slice.call(arguments,1);b.apply(null,e)?c():g.doUntil(a,b,c)})},g.queue=function(a,b){function c(a,b,c,d){return a.started||(a.started=!0),i(b)||(b=[b]),0==b.length?g.setImmediate(function(){a.drain&&a.drain()}):void j(b,function(b){var e={data:b,callback:"function"==typeof d?d:null};c?a.tasks.unshift(e):a.tasks.push(e),a.saturated&&a.tasks.length===a.concurrency&&a.saturated(),g.setImmediate(a.process)})}void 0===b&&(b=1);var e=0,f={tasks:[],concurrency:b,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(a,b){c(f,a,!1,b)},kill:function(){f.drain=null,f.tasks=[]},unshift:function(a,b){c(f,a,!0,b)},process:function(){if(!f.paused&&e<f.concurrency&&f.tasks.length){var b=f.tasks.shift();f.empty&&0===f.tasks.length&&f.empty(),e+=1;var c=function(){e-=1,b.callback&&b.callback.apply(b,arguments),f.drain&&f.tasks.length+e===0&&f.drain(),f.process()},g=d(c);a(b.data,g)}},length:function(){return f.tasks.length},running:function(){return e},idle:function(){return f.tasks.length+e===0},pause:function(){f.paused!==!0&&(f.paused=!0,f.process())},resume:function(){f.paused!==!1&&(f.paused=!1,f.process())}};return f},g.priorityQueue=function(a,b){function c(a,b){return a.priority-b.priority}function d(a,b,c){for(var d=-1,e=a.length-1;e>d;){var f=d+(e-d+1>>>1);c(b,a[f])>=0?d=f:e=f-1}return d}function e(a,b,e,f){return a.started||(a.started=!0),i(b)||(b=[b]),0==b.length?g.setImmediate(function(){a.drain&&a.drain()}):void j(b,function(b){var h={data:b,priority:e,callback:"function"==typeof f?f:null};a.tasks.splice(d(a.tasks,h,c)+1,0,h),a.saturated&&a.tasks.length===a.concurrency&&a.saturated(),g.setImmediate(a.process)})}var f=g.queue(a,b);return f.push=function(a,b,c){e(f,a,b,c)},delete f.unshift,f},g.cargo=function(a,b){var c=!1,d=[],e={tasks:d,payload:b,saturated:null,empty:null,drain:null,drained:!0,push:function(a,c){i(a)||(a=[a]),j(a,function(a){d.push({data:a,callback:"function"==typeof c?c:null}),e.drained=!1,e.saturated&&d.length===b&&e.saturated()}),g.setImmediate(e.process)},process:function f(){if(!c){if(0===d.length)return e.drain&&!e.drained&&e.drain(),void(e.drained=!0);var g="number"==typeof b?d.splice(0,b):d.splice(0,d.length),h=k(g,function(a){return a.data});e.empty&&e.empty(),c=!0,a(h,function(){c=!1;var a=arguments;j(g,function(b){b.callback&&b.callback.apply(null,a)}),f()})}},length:function(){return d.length},running:function(){return c}};return e};var y=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&j(c,function(b){console[a](b)}))}]))}};g.log=y("log"),g.dir=y("dir"),g.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),h=b.apply(null,e);h in c?g.nextTick(function(){f.apply(null,c[h])}):h in d?d[h].push(f):(d[h]=[f],a.apply(null,e.concat([function(){c[h]=arguments;var a=d[h];delete d[h];for(var b=0,e=a.length;e>b;b++)a[b].apply(null,arguments)}])))};return e.memo=c,e.unmemoized=a,e},g.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},g.times=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return g.map(d,b,c)},g.timesSeries=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return g.mapSeries(d,b,c)},g.seq=function(){var a=arguments;return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();
g.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}},g.compose=function(){return g.seq.apply(null,Array.prototype.reverse.call(arguments))};var z=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};g.applyEach=o(z),g.applyEachSeries=q(z),g.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d}a(c)}c()},"undefined"!=typeof c&&c.exports?c.exports=g:"undefined"!=typeof a&&a.amd?a([],function(){return g}):e.async=g}()}).call(this,b("_process"))},{_process:4}],3:[function(a,b,c){(function(a){function b(a,b){for(var c=0,d=a.length-1;d>=0;d--){var e=a[d];"."===e?a.splice(d,1):".."===e?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function d(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,f=function(a){return e.exec(a).slice(1)};c.resolve=function(){for(var c="",e=!1,f=arguments.length-1;f>=-1&&!e;f--){var g=f>=0?arguments[f]:a.cwd();if("string"!=typeof g)throw new TypeError("Arguments to path.resolve must be strings");g&&(c=g+"/"+c,e="/"===g.charAt(0))}return c=b(d(c.split("/"),function(a){return!!a}),!e).join("/"),(e?"/":"")+c||"."},c.normalize=function(a){var e=c.isAbsolute(a),f="/"===g(a,-1);return a=b(d(a.split("/"),function(a){return!!a}),!e).join("/"),a||e||(a="."),a&&f&&(a+="/"),(e?"/":"")+a},c.isAbsolute=function(a){return"/"===a.charAt(0)},c.join=function(){var a=Array.prototype.slice.call(arguments,0);return c.normalize(d(a,function(a,b){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))},c.relative=function(a,b){function d(a){for(var b=0;b<a.length&&""===a[b];b++);for(var c=a.length-1;c>=0&&""===a[c];c--);return b>c?[]:a.slice(b,c-b+1)}a=c.resolve(a).substr(1),b=c.resolve(b).substr(1);for(var e=d(a.split("/")),f=d(b.split("/")),g=Math.min(e.length,f.length),h=g,i=0;g>i;i++)if(e[i]!==f[i]){h=i;break}for(var j=[],i=h;i<e.length;i++)j.push("..");return j=j.concat(f.slice(h)),j.join("/")},c.sep="/",c.delimiter=":",c.dirname=function(a){var b=f(a),c=b[0],d=b[1];return c||d?(d&&(d=d.substr(0,d.length-1)),c+d):"."},c.basename=function(a,b){var c=f(a)[2];return b&&c.substr(-1*b.length)===b&&(c=c.substr(0,c.length-b.length)),c},c.extname=function(a){return f(a)[3]};var g="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,a("_process"))},{_process:4}],4:[function(a,b,c){function d(){if(!h){h=!0;for(var a,b=g.length;b;){a=g,g=[];for(var c=-1;++c<b;)a[c]();b=g.length}h=!1}}function e(){}var f=b.exports={},g=[],h=!1;f.nextTick=function(a){g.push(a),h||setTimeout(d,0)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=e,f.addListener=e,f.once=e,f.off=e,f.removeListener=e,f.removeAllListeners=e,f.emit=e,f.binding=function(a){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(a){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],5:[function(b,c,d){(function(b){!function(e){function f(a){throw RangeError(I[a])}function g(a,b){for(var c=a.length;c--;)a[c]=b(a[c]);return a}function h(a,b){return g(a.split(H),b).join(".")}function i(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function j(a){return g(a,function(a){var b="";return a>65535&&(a-=65536,b+=L(a>>>10&1023|55296),a=56320|1023&a),b+=L(a)}).join("")}function k(a){return 10>a-48?a-22:26>a-65?a-65:26>a-97?a-97:x}function l(a,b){return a+22+75*(26>a)-((0!=b)<<5)}function m(a,b,c){var d=0;for(a=c?K(a/B):a>>1,a+=K(a/b);a>J*z>>1;d+=x)a=K(a/J);return K(d+(J+1)*a/(a+A))}function n(a){var b,c,d,e,g,h,i,l,n,o,p=[],q=a.length,r=0,s=D,t=C;for(c=a.lastIndexOf(E),0>c&&(c=0),d=0;c>d;++d)a.charCodeAt(d)>=128&&f("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;q>e;){for(g=r,h=1,i=x;e>=q&&f("invalid-input"),l=k(a.charCodeAt(e++)),(l>=x||l>K((w-r)/h))&&f("overflow"),r+=l*h,n=t>=i?y:i>=t+z?z:i-t,!(n>l);i+=x)o=x-n,h>K(w/o)&&f("overflow"),h*=o;b=p.length+1,t=m(r-g,b,0==g),K(r/b)>w-s&&f("overflow"),s+=K(r/b),r%=b,p.splice(r++,0,s)}return j(p)}function o(a){var b,c,d,e,g,h,j,k,n,o,p,q,r,s,t,u=[];for(a=i(a),q=a.length,b=D,c=0,g=C,h=0;q>h;++h)p=a[h],128>p&&u.push(L(p));for(d=e=u.length,e&&u.push(E);q>d;){for(j=w,h=0;q>h;++h)p=a[h],p>=b&&j>p&&(j=p);for(r=d+1,j-b>K((w-c)/r)&&f("overflow"),c+=(j-b)*r,b=j,h=0;q>h;++h)if(p=a[h],b>p&&++c>w&&f("overflow"),p==b){for(k=c,n=x;o=g>=n?y:n>=g+z?z:n-g,!(o>k);n+=x)t=k-o,s=x-o,u.push(L(l(o+t%s,0))),k=K(t/s);u.push(L(l(k,0))),g=m(c,r,d==e),c=0,++d}++c,++b}return u.join("")}function p(a){return h(a,function(a){return F.test(a)?n(a.slice(4).toLowerCase()):a})}function q(a){return h(a,function(a){return G.test(a)?"xn--"+o(a):a})}var r="object"==typeof d&&d,s="object"==typeof c&&c&&c.exports==r&&c,t="object"==typeof b&&b;(t.global===t||t.window===t)&&(e=t);var u,v,w=2147483647,x=36,y=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^ -~]/,H=/\x2E|\u3002|\uFF0E|\uFF61/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=x-y,K=Math.floor,L=String.fromCharCode;if(u={version:"1.2.4",ucs2:{decode:i,encode:j},decode:n,encode:o,toASCII:q,toUnicode:p},"function"==typeof a&&"object"==typeof a.amd&&a.amd)a("punycode",function(){return u});else if(r&&!r.nodeType)if(s)s.exports=u;else for(v in u)u.hasOwnProperty(v)&&(r[v]=u[v]);else e.punycode=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,c,f){b=b||"&",c=c||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;j>k;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(c);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),d(g,n)?e(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],7:[function(a,b,c){"use strict";function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,h){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"==typeof a?d(g(a),function(g){var h=encodeURIComponent(e(g))+c;return f(a[g])?d(a[g],function(a){return h+encodeURIComponent(e(a))}).join(b):h+encodeURIComponent(e(a[g]))}).join(b):h?encodeURIComponent(e(h))+c+encodeURIComponent(e(a)):""};var f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],8:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":6,"./encode":7}],9:[function(a,b,c){function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return i(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}function i(a){return"string"==typeof a}function j(a){return"object"==typeof a&&null!==a}function k(a){return null===a}function l(a){return null==a}var m=a("punycode");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var n=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,p=["<",">",'"',"`"," ","\r","\n","	"],q=["{","}","|","\\","^","`"].concat(p),r=["'"].concat(q),s=["%","/","?",";","#"].concat(r),t=["/","?","#"],u=255,v=/^[a-z0-9A-Z_-]{0,63}$/,w=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},z={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=a("querystring");d.prototype.parse=function(a,b,c){if(!i(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a;d=d.trim();var e=n.exec(d);if(e){e=e[0];var f=e.toLowerCase();this.protocol=f,d=d.substr(e.length)}if(c||e||d.match(/^\/\/[^@\/]+@[^@\/]+/)){var g="//"===d.substr(0,2);!g||e&&y[e]||(d=d.substr(2),this.slashes=!0)}if(!y[e]&&(g||e&&!z[e])){for(var h=-1,j=0;j<t.length;j++){var k=d.indexOf(t[j]);-1!==k&&(-1===h||h>k)&&(h=k)}var l,o;o=-1===h?d.lastIndexOf("@"):d.lastIndexOf("@",h),-1!==o&&(l=d.slice(0,o),d=d.slice(o+1),this.auth=decodeURIComponent(l)),h=-1;for(var j=0;j<s.length;j++){var k=d.indexOf(s[j]);-1!==k&&(-1===h||h>k)&&(h=k)}-1===h&&(h=d.length),this.host=d.slice(0,h),d=d.slice(h),this.parseHost(),this.hostname=this.hostname||"";var p="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!p)for(var q=this.hostname.split(/\./),j=0,B=q.length;B>j;j++){var C=q[j];if(C&&!C.match(v)){for(var D="",E=0,F=C.length;F>E;E++)D+=C.charCodeAt(E)>127?"x":C[E];if(!D.match(v)){var G=q.slice(0,j),H=q.slice(j+1),I=C.match(w);I&&(G.push(I[1]),H.unshift(I[2])),H.length&&(d="/"+H.join(".")+d),this.hostname=G.join(".");break}}}if(this.hostname.length>u?this.hostname="":this.hostname=this.hostname.toLowerCase(),!p){for(var J=this.hostname.split("."),K=[],j=0;j<J.length;++j){var L=J[j];K.push(L.match(/[^A-Za-z0-9_-]/)?"xn--"+m.encode(L):L)}this.hostname=K.join(".")}var M=this.port?":"+this.port:"",N=this.hostname||"";this.host=N+M,this.href+=this.host,p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==d[0]&&(d="/"+d))}if(!x[f])for(var j=0,B=r.length;B>j;j++){var O=r[j],P=encodeURIComponent(O);P===O&&(P=escape(O)),d=d.split(O).join(P)}var Q=d.indexOf("#");-1!==Q&&(this.hash=d.substr(Q),d=d.slice(0,Q));var R=d.indexOf("?");if(-1!==R?(this.search=d.substr(R),this.query=d.substr(R+1),b&&(this.query=A.parse(this.query)),d=d.slice(0,R)):b&&(this.search="",this.query={}),d&&(this.pathname=d),z[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var M=this.pathname||"",L=this.search||"";this.path=M+L}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j(this.query)&&Object.keys(this.query).length&&(f=A.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||z[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(i(a)){var b=new d;b.parse(a,!1,!0),a=b}var c=new d;if(Object.keys(this).forEach(function(a){c[a]=this[a]},this),c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol)return Object.keys(a).forEach(function(b){"protocol"!==b&&(c[b]=a[b])}),z[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(a.protocol&&a.protocol!==c.protocol){if(!z[a.protocol])return Object.keys(a).forEach(function(b){c[b]=a[b]}),c.href=c.format(),c;if(c.protocol=a.protocol,a.host||y[a.protocol])c.pathname=a.pathname;else{for(var e=(a.pathname||"").split("/");e.length&&!(a.host=e.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==e[0]&&e.unshift(""),e.length<2&&e.unshift(""),c.pathname=e.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var f=c.pathname||"",g=c.search||"";c.path=f+g}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var h=c.pathname&&"/"===c.pathname.charAt(0),j=a.host||a.pathname&&"/"===a.pathname.charAt(0),m=j||h||c.host&&a.pathname,n=m,o=c.pathname&&c.pathname.split("/")||[],e=a.pathname&&a.pathname.split("/")||[],p=c.protocol&&!z[c.protocol];if(p&&(c.hostname="",c.port=null,c.host&&(""===o[0]?o[0]=c.host:o.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===e[0]?e[0]=a.host:e.unshift(a.host)),a.host=null),m=m&&(""===e[0]||""===o[0])),j)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,o=e;else if(e.length)o||(o=[]),o.pop(),o=o.concat(e),c.search=a.search,c.query=a.query;else if(!l(a.search)){if(p){c.hostname=c.host=o.shift();var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return c.search=a.search,c.query=a.query,k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!o.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var r=o.slice(-1)[0],s=(c.host||a.host)&&("."===r||".."===r)||""===r,t=0,u=o.length;u>=0;u--)r=o[u],"."==r?o.splice(u,1):".."===r?(o.splice(u,1),t++):t&&(o.splice(u,1),t--);if(!m&&!n)for(;t--;t)o.unshift("..");!m||""===o[0]||o[0]&&"/"===o[0].charAt(0)||o.unshift(""),s&&"/"!==o.join("/").substr(-1)&&o.push("");var v=""===o[0]||o[0]&&"/"===o[0].charAt(0);if(p){c.hostname=c.host=v?"":o.length?o.shift():"";var q=c.host&&c.host.indexOf("@")>0?c.host.split("@"):!1;q&&(c.auth=q.shift(),c.host=c.hostname=q.shift())}return m=m||c.host&&o.length,m&&!v&&o.unshift(""),o.length?c.pathname=o.join("/"):(c.pathname=null,c.path=null),k(c.pathname)&&k(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=o.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{punycode:5,querystring:8}],10:[function(a,b,c){"use strict";function d(a,b,c){c=c||2;var d=b&&b.length,h=d?b[0]*c:a.length,i=f(a,e(a,0,h,c,!0)),j=[];if(!i)return j;var l,m,n,o,p,q,r;if(d&&(i=k(a,b,i,c)),a.length>80*c){l=n=a[0],m=o=a[1];for(var s=c;h>s;s+=c)p=a[s],q=a[s+1],l>p&&(l=p),m>q&&(m=q),p>n&&(n=p),q>o&&(o=q);r=Math.max(n-l,o-m)}return g(a,i,j,c,l,m,r),j}function e(a,b,c,d,e){var f,g,h,i=0;for(f=b,g=c-d;c>f;f+=d)i+=(a[g]-a[f])*(a[f+1]+a[g+1]),g=f;if(e===i>0)for(f=b;c>f;f+=d)h=z(f,h);else for(f=c-d;f>=b;f-=d)h=z(f,h);return h}function f(a,b,c){c||(c=b);var d,e=b;do if(d=!1,t(a,e.i,e.next.i)||0===s(a,e.prev.i,e.i,e.next.i)){if(e.prev.next=e.next,e.next.prev=e.prev,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ),e=c=e.prev,e===e.next)return null;d=!0}else e=e.next;while(d||e!==c);return c}function g(a,b,c,d,e,k,l,m){if(b){m||void 0===e||n(a,b,e,k,l);for(var o,p,q=b;b.prev!==b.next;)if(o=b.prev,p=b.next,h(a,b,e,k,l))c.push(o.i/d),c.push(b.i/d),c.push(p.i/d),p.prev=o,o.next=p,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ),b=p.next,q=p.next;else if(b=p,b===q){m?1===m?(b=i(a,b,c,d),g(a,b,c,d,e,k,l,2)):2===m&&j(a,b,c,d,e,k,l):g(a,f(a,b),c,d,e,k,l,1);break}}}function h(a,b,c,d,e){var f=b.prev.i,g=b.i,h=b.next.i,i=a[f],j=a[f+1],k=a[g],l=a[g+1],m=a[h],n=a[h+1],o=i*l-j*k,q=i*n-j*m,r=m*l-n*k,s=o-q-r;if(0>=s)return!1;var t,u,v,w,x,y,z,A=n-j,B=i-m,C=j-l,D=k-i;if(void 0!==c){var E=k>i?m>i?i:m:m>k?k:m,F=l>j?n>j?j:n:n>l?l:n,G=i>k?i>m?i:m:k>m?k:m,H=j>l?j>n?j:n:l>n?l:n,I=p(E,F,c,d,e),J=p(G,H,c,d,e);for(z=b.nextZ;z&&z.z<=J;)if(t=z.i,z=z.nextZ,t!==f&&t!==h&&(u=a[t],v=a[t+1],w=A*u+B*v-q,w>=0&&(x=C*u+D*v+o,x>=0&&(y=s-w-x,y>=0&&(w&&x||w&&y||x&&y)))))return!1;for(z=b.prevZ;z&&z.z>=I;)if(t=z.i,z=z.prevZ,t!==f&&t!==h&&(u=a[t],v=a[t+1],w=A*u+B*v-q,w>=0&&(x=C*u+D*v+o,x>=0&&(y=s-w-x,y>=0&&(w&&x||w&&y||x&&y)))))return!1}else for(z=b.next.next;z!==b.prev;)if(t=z.i,z=z.next,u=a[t],v=a[t+1],w=A*u+B*v-q,w>=0&&(x=C*u+D*v+o,x>=0&&(y=s-w-x,y>=0&&(w&&x||w&&y||x&&y))))return!1;return!0}function i(a,b,c,d){var e=b;do{var f=e.prev,g=e.next.next;if(f.i!==g.i&&u(a,f.i,e.i,e.next.i,g.i)&&w(a,f,g)&&w(a,g,f)){c.push(f.i/d),c.push(e.i/d),c.push(g.i/d),f.next=g,g.prev=f;var h=e.prevZ,i=e.nextZ&&e.nextZ.nextZ;h&&(h.nextZ=i),i&&(i.prevZ=h),e=b=g}e=e.next}while(e!==b);return e}function j(a,b,c,d,e,h,i){var j=b;do{for(var k=j.next.next;k!==j.prev;){if(j.i!==k.i&&r(a,j,k)){var l=y(j,k);return j=f(a,j,j.next),l=f(a,l,l.next),g(a,j,c,d,e,h,i),void g(a,l,c,d,e,h,i)}k=k.next}j=j.next}while(j!==b)}function k(a,b,c,d){var g,h,i,j,k,m=[];for(g=0,h=b.length;h>g;g++)i=b[g]*d,j=h-1>g?b[g+1]*d:a.length,k=f(a,e(a,i,j,d,!1)),k&&m.push(q(a,k));for(m.sort(function(b,c){return a[b.i]-a[c.i]}),g=0;g<m.length;g++)l(a,m[g],c),c=f(a,c,c.next);return c}function l(a,b,c){if(c=m(a,b,c)){var d=y(c,b);f(a,d,d.next)}}function m(a,b,c){var d,e,f,g=c,h=b.i,i=a[h],j=a[h+1],k=-(1/0);do{if(e=g.i,f=g.next.i,j<=a[e+1]&&j>=a[f+1]){var l=a[e]+(j-a[e+1])*(a[f]-a[e])/(a[f+1]-a[e+1]);i>=l&&l>k&&(k=l,d=a[e]<a[f]?g:g.next)}g=g.next}while(g!==c);if(!d)return null;var m,n,o,p,q,r,s=a[d.i],t=a[d.i+1],u=i*t-j*s,v=i*j-j*k,x=j-j,y=i-k,z=j-t,A=s-i,B=u-v-(k*t-j*s),C=0>=B?-1:1,D=d,E=1/0;for(g=d.next;g!==D;)m=a[g.i],n=a[g.i+1],o=i-m,o>=0&&m>=s&&(p=(x*m+y*n-v)*C,p>=0&&(q=(z*m+A*n+u)*C,q>=0&&B*C-p-q>=0&&(r=Math.abs(j-n)/o,E>r&&w(a,g,b)&&(d=g,E=r)))),g=g.next;return d}function n(a,b,c,d,e){var f=b;do null===f.z&&(f.z=p(a[f.i],a[f.i+1],c,d,e)),f.prevZ=f.prev,f.nextZ=f.next,f=f.next;while(f!==b);f.prevZ.nextZ=null,f.prevZ=null,o(f)}function o(a){var b,c,d,e,f,g,h,i,j=1;do{for(c=a,a=null,f=null,g=0;c;){for(g++,d=c,h=0,b=0;j>b&&(h++,d=d.nextZ,d);b++);for(i=j;h>0||i>0&&d;)0===h?(e=d,d=d.nextZ,i--):0!==i&&d?c.z<=d.z?(e=c,c=c.nextZ,h--):(e=d,d=d.nextZ,i--):(e=c,c=c.nextZ,h--),f?f.nextZ=e:a=e,e.prevZ=f,f=e;c=d}f.nextZ=null,j*=2}while(g>1);return a}function p(a,b,c,d,e){return a=1e3*(a-c)/e,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b=1e3*(b-d)/e,b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a|b<<1}function q(a,b){var c=b,d=b;do a[c.i]<a[d.i]&&(d=c),c=c.next;while(c!==b);return d}function r(a,b,c){return!v(a,b,b.i,c.i)&&w(a,b,c)&&w(a,c,b)&&x(a,b,b.i,c.i)}function s(a,b,c,d){var e=(a[c+1]-a[b+1])*(a[d]-a[c])-(a[c]-a[b])*(a[d+1]-a[c+1]);return e>0?1:0>e?-1:0}function t(a,b,c){return a[b]===a[c]&&a[b+1]===a[c+1]}function u(a,b,c,d,e){return s(a,b,c,d)!==s(a,b,c,e)&&s(a,d,e,b)!==s(a,d,e,c)}function v(a,b,c,d){var e=b;do{var f=e.i,g=e.next.i;if(f!==c&&g!==c&&f!==d&&g!==d&&u(a,f,g,c,d))return!0;e=e.next}while(e!==b);return!1}function w(a,b,c){return-1===s(a,b.prev.i,b.i,b.next.i)?-1!==s(a,b.i,c.i,b.next.i)&&-1!==s(a,b.i,b.prev.i,c.i):-1===s(a,b.i,c.i,b.prev.i)||-1===s(a,b.i,b.next.i,c.i)}function x(a,b,c,d){var e=b,f=!1,g=(a[c]+a[d])/2,h=(a[c+1]+a[d+1])/2;do{var i=e.i,j=e.next.i;a[i+1]>h!=a[j+1]>h&&g<(a[j]-a[i])*(h-a[i+1])/(a[j+1]-a[i+1])+a[i]&&(f=!f),e=e.next}while(e!==b);return f}function y(a,b){var c=new A(a.i),d=new A(b.i),e=a.next,f=b.prev;return a.next=b,b.prev=a,c.next=e,e.prev=c,d.next=c,c.prev=d,f.next=d,d.prev=f,d}function z(a,b){var c=new A(a);return b?(c.next=b.next,c.prev=b,b.next.prev=c,b.next=c):(c.prev=c,c.next=c),c}function A(a){this.i=a,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null}b.exports=d},{}],11:[function(a,b,c){"use strict";function d(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function e(){}var f="function"!=typeof Object.create?"~":!1;e.prototype._events=void 0,e.prototype.listeners=function(a,b){var c=f?f+a:a,d=this._events&&this._events[c];if(b)return!!d;if(!d)return[];if(this._events[c].fn)return[this._events[c].fn];for(var e=0,g=this._events[c].length,h=new Array(g);g>e;e++)h[e]=this._events[c][e].fn;return h},e.prototype.emit=function(a,b,c,d,e,g){var h=f?f+a:a;if(!this._events||!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if("function"==typeof k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,e),!0;case 6:return k.fn.call(k.context,b,c,d,e,g),!0}for(j=1,i=new Array(l-1);l>j;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;n>j;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;default:if(!i)for(m=1,i=new Array(l-1);l>m;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},e.prototype.on=function(a,b,c){var e=new d(b,c||this),g=f?f+a:a;return this._events||(this._events=f?{}:Object.create(null)),this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],e]:this._events[g].push(e):this._events[g]=e,this},e.prototype.once=function(a,b,c){var e=new d(b,c||this,!0),g=f?f+a:a;return this._events||(this._events=f?{}:Object.create(null)),this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],e]:this._events[g].push(e):this._events[g]=e,this},e.prototype.removeListener=function(a,b,c,d){var e=f?f+a:a;if(!this._events||!this._events[e])return this;var g=this._events[e],h=[];if(b)if(g.fn)(g.fn!==b||d&&!g.once||c&&g.context!==c)&&h.push(g);else for(var i=0,j=g.length;j>i;i++)(g[i].fn!==b||d&&!g[i].once||c&&g[i].context!==c)&&h.push(g[i]);return h.length?this._events[e]=1===h.length?h[0]:h:delete this._events[e],this},e.prototype.removeAllListeners=function(a){return this._events?(a?delete this._events[f?f+a:a]:this._events=f?{}:Object.create(null),this):this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prototype.setMaxListeners=function(){return this},e.prefixed=f,b.exports=e},{}],12:[function(a,b,c){"use strict";function d(a){if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}b.exports=Object.assign||function(a,b){for(var c,e,f=d(a),g=1;g<arguments.length;g++){c=arguments[g],e=Object.keys(Object(c));for(var h=0;h<e.length;h++)f[e[h]]=c[e[h]]}return f}},{}],13:[function(b,c,d){(function(b){!function(){function d(a){var b=!1;return function(){if(b)throw new Error("Callback was already called.");b=!0,a.apply(e,arguments)}}var e,f,g={};e=this,null!=e&&(f=e.async),g.noConflict=function(){return e.async=f,g};var h=Object.prototype.toString,i=Array.isArray||function(a){return"[object Array]"===h.call(a)},j=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},k=function(a,b){if(a.map)return a.map(b);var c=[];return j(a,function(a,d,e){c.push(b(a,d,e))}),c},l=function(a,b,c){return a.reduce?a.reduce(b,c):(j(a,function(a,d,e){c=b(c,a,d,e)}),c)},m=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!=typeof b&&b.nextTick?(g.nextTick=b.nextTick,"undefined"!=typeof setImmediate?g.setImmediate=function(a){setImmediate(a)}:g.setImmediate=g.nextTick):"function"==typeof setImmediate?(g.nextTick=function(a){setImmediate(a)},g.setImmediate=g.nextTick):(g.nextTick=function(a){setTimeout(a,0)},g.setImmediate=g.nextTick),g.each=function(a,b,c){function e(b){b?(c(b),c=function(){}):(f+=1,f>=a.length&&c())}if(c=c||function(){},!a.length)return c();var f=0;j(a,function(a){b(a,d(e))})},g.forEach=g.each,g.eachSeries=function(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()},g.forEachSeries=g.eachSeries,g.eachLimit=function(a,b,c,d){var e=n(b);e.apply(null,[a,c,d])},g.forEachLimit=g.eachLimit;var n=function(a){return function(b,c,d){if(d=d||function(){},!b.length||0>=a)return d();var e=0,f=0,g=0;!function h(){if(e>=b.length)return d();for(;a>g&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():h())})}()}},o=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[g.each].concat(b))}},p=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[n(a)].concat(c))}},q=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[g.eachSeries].concat(b))}},r=function(a,b,c,d){if(b=k(b,function(a,b){return{index:b,value:a}}),d){var e=[];a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){d(a,e)})}else a(b,function(a,b){c(a.value,function(a){b(a)})})};g.map=o(r),g.mapSeries=q(r),g.mapLimit=function(a,b,c,d){return s(b)(a,c,d)};var s=function(a){return p(a,r)};g.reduce=function(a,b,c,d){g.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c,d(a)})},function(a){d(a,b)})},g.inject=g.reduce,g.foldl=g.reduce,g.reduceRight=function(a,b,c,d){var e=k(a,function(a){return a}).reverse();g.reduce(e,b,c,d)},g.foldr=g.reduceRight;var t=function(a,b,c,d){var e=[];b=k(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&e.push(a),b()})},function(a){d(k(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};g.filter=o(t),g.filterSeries=q(t),g.select=g.filter,g.selectSeries=g.filterSeries;var u=function(a,b,c,d){var e=[];b=k(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||e.push(a),b()})},function(a){d(k(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};g.reject=o(u),g.rejectSeries=q(u);var v=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(a){d()})};g.detect=o(v),g.detectSeries=q(v),g.some=function(a,b,c){g.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){}),d()})},function(a){c(!1)})},g.any=g.some,g.every=function(a,b,c){g.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){}),d()})},function(a){c(!0)})},g.all=g.every,g.sortBy=function(a,b,c){g.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);var d=function(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0};c(null,k(b.sort(d),function(a){return a.value}))})},g.auto=function(a,b){b=b||function(){};var c=m(a),d=c.length;if(!d)return b();var e={},f=[],h=function(a){f.unshift(a)},k=function(a){for(var b=0;b<f.length;b+=1)if(f[b]===a)return void f.splice(b,1)},n=function(){d--,j(f.slice(0),function(a){a()})};h(function(){if(!d){var a=b;b=function(){},a(null,e)}}),j(c,function(c){var d=i(a[c])?a[c]:[a[c]],f=function(a){var d=Array.prototype.slice.call(arguments,1);if(d.length<=1&&(d=d[0]),a){var f={};j(m(e),function(a){f[a]=e[a]}),f[c]=d,b(a,f),b=function(){}}else e[c]=d,g.setImmediate(n)},o=d.slice(0,Math.abs(d.length-1))||[],p=function(){return l(o,function(a,b){return a&&e.hasOwnProperty(b)},!0)&&!e.hasOwnProperty(c)};if(p())d[d.length-1](f,e);else{var q=function(){p()&&(k(q),d[d.length-1](f,e))};h(q)}})},g.retry=function(a,b,c){var d=5,e=[];"function"==typeof a&&(c=b,b=a,a=d),a=parseInt(a,10)||d;var f=function(d,f){for(var h=function(a,b){return function(c){a(function(a,d){c(!a||b,{err:a,result:d})},f)}};a;)e.push(h(b,!(a-=1)));g.series(e,function(a,b){b=b[b.length-1],(d||c)(b.err,b.result)})};return c?f():f},g.waterfall=function(a,b){if(b=b||function(){},!i(a)){var c=new Error("First argument to waterfall must be an array of functions");return b(c)}if(!a.length)return b();var d=function(a){return function(c){if(c)b.apply(null,arguments),b=function(){};else{var e=Array.prototype.slice.call(arguments,1),f=a.next();f?e.push(d(f)):e.push(b),g.setImmediate(function(){a.apply(null,e)})}}};d(g.iterator(a))()};var w=function(a,b,c){if(c=c||function(){},i(b))a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.each(m(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}};g.parallel=function(a,b){w({map:g.map,each:g.each},a,b)},g.parallelLimit=function(a,b,c){w({map:s(b),each:n(b)},a,c)},g.series=function(a,b){if(b=b||function(){},i(a))g.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},b);else{var c={};g.eachSeries(m(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})}},g.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},g.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var x=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};g.concat=o(x),g.concatSeries=q(x),g.whilst=function(a,b,c){a()?b(function(d){return d?c(d):void g.whilst(a,b,c)}):c()},g.doWhilst=function(a,b,c){a(function(d){if(d)return c(d);var e=Array.prototype.slice.call(arguments,1);b.apply(null,e)?g.doWhilst(a,b,c):c()})},g.until=function(a,b,c){a()?c():b(function(d){return d?c(d):void g.until(a,b,c)})},g.doUntil=function(a,b,c){a(function(d){if(d)return c(d);var e=Array.prototype.slice.call(arguments,1);b.apply(null,e)?c():g.doUntil(a,b,c)})},g.queue=function(a,b){function c(a,b,c,d){return a.started||(a.started=!0),i(b)||(b=[b]),0==b.length?g.setImmediate(function(){a.drain&&a.drain()}):void j(b,function(b){var e={data:b,callback:"function"==typeof d?d:null};c?a.tasks.unshift(e):a.tasks.push(e),a.saturated&&a.tasks.length===a.concurrency&&a.saturated(),g.setImmediate(a.process)})}void 0===b&&(b=1);var e=0,f={tasks:[],concurrency:b,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(a,b){c(f,a,!1,b)},kill:function(){f.drain=null,f.tasks=[]},unshift:function(a,b){c(f,a,!0,b)},process:function(){if(!f.paused&&e<f.concurrency&&f.tasks.length){var b=f.tasks.shift();f.empty&&0===f.tasks.length&&f.empty(),e+=1;var c=function(){e-=1,b.callback&&b.callback.apply(b,arguments),f.drain&&f.tasks.length+e===0&&f.drain(),f.process()},g=d(c);a(b.data,g)}},length:function(){return f.tasks.length},running:function(){return e},idle:function(){return f.tasks.length+e===0},pause:function(){f.paused!==!0&&(f.paused=!0,f.process())},resume:function(){f.paused!==!1&&(f.paused=!1,f.process())}};return f},g.priorityQueue=function(a,b){function c(a,b){return a.priority-b.priority}function d(a,b,c){for(var d=-1,e=a.length-1;e>d;){var f=d+(e-d+1>>>1);c(b,a[f])>=0?d=f:e=f-1}return d}function e(a,b,e,f){return a.started||(a.started=!0),i(b)||(b=[b]),0==b.length?g.setImmediate(function(){a.drain&&a.drain()}):void j(b,function(b){var h={data:b,priority:e,callback:"function"==typeof f?f:null};a.tasks.splice(d(a.tasks,h,c)+1,0,h),a.saturated&&a.tasks.length===a.concurrency&&a.saturated(),g.setImmediate(a.process)})}var f=g.queue(a,b);return f.push=function(a,b,c){e(f,a,b,c)},delete f.unshift,f},g.cargo=function(a,b){var c=!1,d=[],e={
tasks:d,payload:b,saturated:null,empty:null,drain:null,drained:!0,push:function(a,c){i(a)||(a=[a]),j(a,function(a){d.push({data:a,callback:"function"==typeof c?c:null}),e.drained=!1,e.saturated&&d.length===b&&e.saturated()}),g.setImmediate(e.process)},process:function f(){if(!c){if(0===d.length)return e.drain&&!e.drained&&e.drain(),void(e.drained=!0);var g="number"==typeof b?d.splice(0,b):d.splice(0,d.length),h=k(g,function(a){return a.data});e.empty&&e.empty(),c=!0,a(h,function(){c=!1;var a=arguments;j(g,function(b){b.callback&&b.callback.apply(null,a)}),f()})}},length:function(){return d.length},running:function(){return c}};return e};var y=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&j(c,function(b){console[a](b)}))}]))}};g.log=y("log"),g.dir=y("dir"),g.memoize=function(a,b){var c={},d={};b=b||function(a){return a};var e=function(){var e=Array.prototype.slice.call(arguments),f=e.pop(),h=b.apply(null,e);h in c?g.nextTick(function(){f.apply(null,c[h])}):h in d?d[h].push(f):(d[h]=[f],a.apply(null,e.concat([function(){c[h]=arguments;var a=d[h];delete d[h];for(var b=0,e=a.length;e>b;b++)a[b].apply(null,arguments)}])))};return e.memo=c,e.unmemoized=a,e},g.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},g.times=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return g.map(d,b,c)},g.timesSeries=function(a,b,c){for(var d=[],e=0;a>e;e++)d.push(e);return g.mapSeries(d,b,c)},g.seq=function(){var a=arguments;return function(){var b=this,c=Array.prototype.slice.call(arguments),d=c.pop();g.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){d.apply(b,[a].concat(c))})}},g.compose=function(){return g.seq.apply(null,Array.prototype.reverse.call(arguments))};var z=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};g.applyEach=o(z),g.applyEachSeries=q(z),g.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d}a(c)}c()},"undefined"!=typeof c&&c.exports?c.exports=g:"undefined"!=typeof a&&a.amd?a([],function(){return g}):e.async=g}()}).call(this,b("_process"))},{_process:4}],14:[function(a,b,c){arguments[4][11][0].apply(c,arguments)},{dup:11}],15:[function(a,b,c){function d(a,b){h.call(this),b=b||10,this.baseUrl=a||"",this.progress=0,this.loading=!1,this._progressChunk=0,this._beforeMiddleware=[],this._afterMiddleware=[],this._boundLoadResource=this._loadResource.bind(this),this._boundOnLoad=this._onLoad.bind(this),this._buffer=[],this._numToLoad=0,this._queue=e.queue(this._boundLoadResource,b),this.resources={}}var e=a("async"),f=a("url"),g=a("./Resource"),h=a("eventemitter3");d.prototype=Object.create(h.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.add=d.prototype.enqueue=function(a,b,c,d){if(Array.isArray(a)){for(var e=0;e<a.length;++e)this.add(a[e]);return this}if("object"==typeof a&&(d=b||a.callback||a.onComplete,c=a,b=a.url,a=a.name||a.key||a.url),"string"!=typeof b&&(d=c,c=b,b=a),"string"!=typeof b)throw new Error("No url passed to add resource to loader.");if("function"==typeof c&&(d=c,c=null),this.resources[a])throw new Error('Resource with name "'+a+'" already exists.');return b=this._handleBaseUrl(b),this.resources[a]=new g(a,b,c),"function"==typeof d&&this.resources[a].once("afterMiddleware",d),this._numToLoad++,this._queue.started?(this._queue.push(this.resources[a]),this._progressChunk=(100-this.progress)/(this._queue.length()+this._queue.running())):(this._buffer.push(this.resources[a]),this._progressChunk=100/this._buffer.length),this},d.prototype._handleBaseUrl=function(a){var b=f.parse(a);return b.protocol||0===b.pathname.indexOf("//")?a:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&a.lastIndexOf("/")!==a.length-1?this.baseUrl+"/"+a:this.baseUrl+a},d.prototype.before=d.prototype.pre=function(a){return this._beforeMiddleware.push(a),this},d.prototype.after=d.prototype.use=function(a){return this._afterMiddleware.push(a),this},d.prototype.reset=function(){this.progress=0,this.loading=!1,this._progressChunk=0,this._buffer.length=0,this._numToLoad=0,this._queue.kill(),this._queue.started=!1,this.resources={}},d.prototype.load=function(a){if("function"==typeof a&&this.once("complete",a),this._queue.started)return this;this.emit("start",this);for(var b=0;b<this._buffer.length;++b)this._queue.push(this._buffer[b]);return this._buffer.length=0,this},d.prototype._loadResource=function(a,b){var c=this;a._dequeue=b,this._runMiddleware(a,this._beforeMiddleware,function(){a.load(c._boundOnLoad)})},d.prototype._onComplete=function(){this.emit("complete",this,this.resources)},d.prototype._onLoad=function(a){this.progress+=this._progressChunk,this.emit("progress",this,a),a.error?this.emit("error",a.error,this,a):this.emit("load",this,a),this._runMiddleware(a,this._afterMiddleware,function(){a.emit("afterMiddleware",a),this._numToLoad--,0===this._numToLoad&&this._onComplete()}),a._dequeue()},d.prototype._runMiddleware=function(a,b,c){var d=this;e.eachSeries(b,function(b,c){b.call(d,a,c)},c.bind(this,a))},d.LOAD_TYPE=g.LOAD_TYPE,d.XHR_READY_STATE=g.XHR_READY_STATE,d.XHR_RESPONSE_TYPE=g.XHR_RESPONSE_TYPE},{"./Resource":16,async:13,eventemitter3:14,url:9}],16:[function(a,b,c){function d(a,b,c){if(g.call(this),c=c||{},"string"!=typeof a||"string"!=typeof b)throw new Error("Both name and url are required for constructing a resource.");this.name=a,this.url=b,this.isDataUrl=0===this.url.indexOf("data:"),this.data=null,this.crossOrigin=c.crossOrigin===!0?"anonymous":null,this.loadType=c.loadType||this._determineLoadType(),this.xhrType=c.xhrType,this.error=null,this.xhr=null,this.isJson=!1,this.isXml=!1,this.isImage=!1,this.isAudio=!1,this.isVideo=!1,this._dequeue=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this)}function e(a){return a.toString().replace("object ","")}function f(a,b,c){b&&0===b.indexOf(".")&&(b=b.substring(1)),b&&(a[b]=c)}var g=a("eventemitter3"),h=a("url"),i=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),j=null;d.prototype=Object.create(g.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError),this.data.removeEventListener("load",this._boundComplete),this.data.removeEventListener("progress",this._boundOnProgress),this.data.removeEventListener("canplaythrough",this._boundComplete)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError),this.xhr.removeEventListener("abort",this._boundXhrOnAbort),this.xhr.removeEventListener("progress",this._boundOnProgress),this.xhr.removeEventListener("load",this._boundXhrOnLoad)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.emit("complete",this)},d.prototype.load=function(a){switch(this.emit("start",this),a&&this.once("complete",a),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case d.LOAD_TYPE.IMAGE:this._loadImage();break;case d.LOAD_TYPE.AUDIO:this._loadElement("audio");break;case d.LOAD_TYPE.VIDEO:this._loadElement("video");break;case d.LOAD_TYPE.XHR:default:i&&this.crossOrigin?this._loadXdr():this._loadXhr()}},d.prototype._loadImage=function(){this.data=new Image,this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.data.src=this.url,this.isImage=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},d.prototype._loadElement=function(a){if(this.data=document.createElement(a),Array.isArray(this.url))for(var b=0;b<this.url.length;++b)this.data.appendChild(this._createSource(a,this.url[b]));else this.data.appendChild(this._createSource(a,this.url));this["is"+a[0].toUpperCase()+a.substring(1)]=!0,this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},d.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XMLHttpRequest;a.open("GET",this.url,!0),this.xhrType===d.XHR_RESPONSE_TYPE.JSON||this.xhrType===d.XHR_RESPONSE_TYPE.DOCUMENT?a.responseType=d.XHR_RESPONSE_TYPE.TEXT:a.responseType=this.xhrType,a.addEventListener("error",this._boundXhrOnError,!1),a.addEventListener("abort",this._boundXhrOnAbort,!1),a.addEventListener("progress",this._boundOnProgress,!1),a.addEventListener("load",this._boundXhrOnLoad,!1),a.send()},d.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var a=this.xhr=new XDomainRequest;a.timeout=5e3,a.onerror=this._boundXhrOnError,a.ontimeout=this._boundXdrOnTimeout,a.onprogress=this._boundOnProgress,a.onload=this._boundXhrOnLoad,a.open("GET",this.url,!0),setTimeout(function(){a.send()},0)},d.prototype._createSource=function(a,b,c){c||(c=a+"/"+b.substr(b.lastIndexOf(".")+1));var d=document.createElement("source");return d.src=b,d.type=c,d},d.prototype._onError=function(a){this.error=new Error("Failed to load element using "+a.target.nodeName),this.complete()},d.prototype._onProgress=function(a){a&&a.lengthComputable&&this.emit("progress",this,a.loaded/a.total)},d.prototype._xhrOnError=function(){this.error=new Error(e(this.xhr)+" Request failed. Status: "+this.xhr.status+', text: "'+this.xhr.statusText+'"'),this.complete()},d.prototype._xhrOnAbort=function(){this.error=new Error(e(this.xhr)+" Request was aborted by the user."),this.complete()},d.prototype._xdrOnTimeout=function(){this.error=new Error(e(this.xhr)+" Request timed out."),this.complete()},d.prototype._xhrOnLoad=function(){var a=this.xhr,b=void 0!==a.status?a.status:200;if(200===b||204===b||0===b&&a.responseText.length>0)if(this.xhrType===d.XHR_RESPONSE_TYPE.TEXT)this.data=a.responseText;else if(this.xhrType===d.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(a.responseText),this.isJson=!0}catch(c){this.error=new Error("Error trying to parse loaded json:",c)}else if(this.xhrType===d.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var e=new DOMParser;this.data=e.parseFromString(a.responseText,"text/xml")}else{var f=document.createElement("div");f.innerHTML=a.responseText,this.data=f}this.isXml=!0}catch(c){this.error=new Error("Error trying to parse loaded xml:",c)}else this.data=a.response||a.responseText;else this.error=new Error("["+a.status+"]"+a.statusText+":"+a.responseURL);this.complete()},d.prototype._determineCrossOrigin=function(a,b){if(0===a.indexOf("data:"))return"";b=b||window.location,j||(j=document.createElement("a")),j.href=a,a=h.parse(j.href);var c=!a.port&&""===b.port||a.port===b.port;return a.hostname===b.hostname&&c&&a.protocol===b.protocol?"":"anonymous"},d.prototype._determineXhrType=function(){return d._xhrTypeMap[this._getExtension()]||d.XHR_RESPONSE_TYPE.TEXT},d.prototype._determineLoadType=function(){return d._loadTypeMap[this._getExtension()]||d.LOAD_TYPE.XHR},d.prototype._getExtension=function(){var a,b=this.url;if(this.isDataUrl){var c=b.indexOf("/");a=b.substring(c+1,b.indexOf(";",c))}else{var d=b.indexOf("?");-1!==d&&(b=b.substring(0,d)),a=b.substring(b.lastIndexOf(".")+1)}return a},d.prototype._getMimeFromXhrType=function(a){switch(a){case d.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case d.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case d.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case d.XHR_RESPONSE_TYPE.JSON:return"application/json";case d.XHR_RESPONSE_TYPE.DEFAULT:case d.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},d.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},d.XHR_READY_STATE={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},d.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},d._loadTypeMap={gif:d.LOAD_TYPE.IMAGE,png:d.LOAD_TYPE.IMAGE,bmp:d.LOAD_TYPE.IMAGE,jpg:d.LOAD_TYPE.IMAGE,jpeg:d.LOAD_TYPE.IMAGE,tif:d.LOAD_TYPE.IMAGE,tiff:d.LOAD_TYPE.IMAGE,webp:d.LOAD_TYPE.IMAGE,tga:d.LOAD_TYPE.IMAGE},d._xhrTypeMap={xhtml:d.XHR_RESPONSE_TYPE.DOCUMENT,html:d.XHR_RESPONSE_TYPE.DOCUMENT,htm:d.XHR_RESPONSE_TYPE.DOCUMENT,xml:d.XHR_RESPONSE_TYPE.DOCUMENT,tmx:d.XHR_RESPONSE_TYPE.DOCUMENT,tsx:d.XHR_RESPONSE_TYPE.DOCUMENT,svg:d.XHR_RESPONSE_TYPE.DOCUMENT,gif:d.XHR_RESPONSE_TYPE.BLOB,png:d.XHR_RESPONSE_TYPE.BLOB,bmp:d.XHR_RESPONSE_TYPE.BLOB,jpg:d.XHR_RESPONSE_TYPE.BLOB,jpeg:d.XHR_RESPONSE_TYPE.BLOB,tif:d.XHR_RESPONSE_TYPE.BLOB,tiff:d.XHR_RESPONSE_TYPE.BLOB,webp:d.XHR_RESPONSE_TYPE.BLOB,tga:d.XHR_RESPONSE_TYPE.BLOB,json:d.XHR_RESPONSE_TYPE.JSON,text:d.XHR_RESPONSE_TYPE.TEXT,txt:d.XHR_RESPONSE_TYPE.TEXT},d.setExtensionLoadType=function(a,b){f(d._loadTypeMap,a,b)},d.setExtensionXhrType=function(a,b){f(d._xhrTypeMap,a,b)}},{eventemitter3:14,url:9}],17:[function(a,b,c){b.exports={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encodeBinary:function(a){for(var b,c="",d=new Array(4),e=0,f=0,g=0;e<a.length;){for(b=new Array(3),f=0;f<b.length;f++)e<a.length?b[f]=255&a.charCodeAt(e++):b[f]=0;switch(d[0]=b[0]>>2,d[1]=(3&b[0])<<4|b[1]>>4,d[2]=(15&b[1])<<2|b[2]>>6,d[3]=63&b[2],g=e-(a.length-1)){case 2:d[3]=64,d[2]=64;break;case 1:d[3]=64}for(f=0;f<d.length;f++)c+=this._keyStr.charAt(d[f])}return c}}},{}],18:[function(a,b,c){b.exports=a("./Loader"),b.exports.Resource=a("./Resource"),b.exports.middleware={caching:{memory:a("./middlewares/caching/memory")},parsing:{blob:a("./middlewares/parsing/blob")}}},{"./Loader":15,"./Resource":16,"./middlewares/caching/memory":19,"./middlewares/parsing/blob":20}],19:[function(a,b,c){var d={};b.exports=function(){return function(a,b){d[a.url]?(a.data=d[a.url],a.complete()):(a.once("complete",function(){d[this.url]=this.data}),b())}}},{}],20:[function(a,b,c){var d=a("../../Resource"),e=a("../../b64");window.URL=window.URL||window.webkitURL,b.exports=function(){return function(a,b){if(!a.data)return b();if(a.xhr&&a.xhrType===d.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof a.data){if(0===a.data.type.indexOf("image")){var c=URL.createObjectURL(a.data);a.blob=a.data,a.data=new Image,a.data.src=c,a.isImage=!0,a.data.onload=function(){URL.revokeObjectURL(c),a.data.onload=null,b()}}}else{var f=a.xhr.getResponseHeader("content-type");f&&0===f.indexOf("image")&&(a.data=new Image,a.data.src="data:"+f+";base64,"+e.encodeBinary(a.xhr.responseText),a.isImage=!0,a.data.onload=function(){a.data.onload=null,b()})}else b()}}},{"../../Resource":16,"../../b64":17}],21:[function(a,b,c){b.exports={name:"pixi.js",version:"3.0.7",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",author:"Mat Groves",contributors:["Chad Engler <chad@pantherdev.com>","Richard Davey <rdavey@gmail.com>"],main:"./src/index.js",homepage:"http://goodboydigital.com/",bugs:"https://github.com/GoodBoyDigital/pixi.js/issues",license:"MIT",repository:{type:"git",url:"https://github.com/GoodBoyDigital/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",build:"gulp",docs:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:["bin/","src/"],dependencies:{async:"^0.9.0",brfs:"^1.4.0",earcut:"^2.0.1",eventemitter3:"^1.1.0","object-assign":"^2.0.0","resource-loader":"^1.6.1"},devDependencies:{browserify:"^10.2.3",chai:"^3.0.0",del:"^1.2.0",gulp:"^3.9.0","gulp-cached":"^1.1.0","gulp-concat":"^2.5.2","gulp-debug":"^2.0.1","gulp-jshint":"^1.11.0","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.2.0","gulp-util":"^3.0.5","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",jsdoc:"^3.3.0","jshint-summary":"^0.4.0",minimist:"^1.1.1",mocha:"^2.2.5","require-dir":"^0.3.0","run-sequence":"^1.1.0",testem:"^0.8.3","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",watchify:"^3.2.1"},browserify:{transform:["brfs"]}}},{}],22:[function(a,b,c){var d={VERSION:a("../../package.json").version,PI_2:2*Math.PI,RAD_TO_DEG:180/Math.PI,DEG_TO_RAD:Math.PI/180,TARGET_FPMS:.06,RENDERER_TYPE:{UNKNOWN:0,WEBGL:1,CANVAS:2},BLEND_MODES:{NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},DRAW_MODES:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},SCALE_MODES:{DEFAULT:0,LINEAR:0,NEAREST:1},RETINA_PREFIX:/@(.+)x/,RESOLUTION:1,FILTER_RESOLUTION:1,DEFAULT_RENDER_OPTIONS:{view:null,resolution:1,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1},SHAPES:{POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},SPRITE_BATCH_SIZE:2e3};b.exports=d},{"../../package.json":21}],23:[function(a,b,c){function d(){f.call(this),this.children=[]}var e=a("../math"),f=a("./DisplayObject"),g=a("../textures/RenderTexture"),h=new e.Matrix;d.prototype=Object.create(f.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{width:{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(a){var b=this.getLocalBounds().width;0!==b?this.scale.x=a/b:this.scale.x=1,this._width=a}},height:{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(a){var b=this.getLocalBounds().height;0!==b?this.scale.y=a/b:this.scale.y=1,this._height=a}}}),d.prototype.addChild=function(a){return this.addChildAt(a,this.children.length)},d.prototype.addChildAt=function(a,b){if(a===this)return a;if(b>=0&&b<=this.children.length)return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(b,0,a),a.emit("added",this),a;throw new Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length)},d.prototype.swapChildren=function(a,b){if(a!==b){var c=this.getChildIndex(a),d=this.getChildIndex(b);if(0>c||0>d)throw new Error("swapChildren: Both the supplied DisplayObjects must be children of the caller.");this.children[c]=b,this.children[d]=a}},d.prototype.getChildIndex=function(a){var b=this.children.indexOf(a);if(-1===b)throw new Error("The supplied DisplayObject must be a child of the caller");return b},d.prototype.setChildIndex=function(a,b){if(0>b||b>=this.children.length)throw new Error("The supplied index is out of bounds");var c=this.getChildIndex(a);this.children.splice(c,1),this.children.splice(b,0,a)},d.prototype.getChildAt=function(a){if(0>a||a>=this.children.length)throw new Error("getChildAt: Supplied index "+a+" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[a]},d.prototype.removeChild=function(a){var b=this.children.indexOf(a);if(-1!==b)return this.removeChildAt(b)},d.prototype.removeChildAt=function(a){var b=this.getChildAt(a);return b.parent=null,this.children.splice(a,1),b.emit("removed",this),b},d.prototype.removeChildren=function(a,b){var c=a||0,d="number"==typeof b?b:this.children.length,e=d-c;if(e>0&&d>=e){for(var f=this.children.splice(c,e),g=0;g<f.length;++g)f[g].parent=null;return f}if(0===e&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},d.prototype.generateTexture=function(a,b,c){var d=this.getLocalBounds(),e=new g(a,0|d.width,0|d.height,c,b);return h.tx=-d.x,h.ty=-d.y,e.render(this,h),e},d.prototype.updateTransform=function(){if(this.visible){this.displayObjectUpdateTransform();for(var a=0,b=this.children.length;b>a;++a)this.children[a].updateTransform()}},d.prototype.containerUpdateTransform=d.prototype.updateTransform,d.prototype.getBounds=function(){if(!this._currentBounds){if(0===this.children.length)return e.Rectangle.EMPTY;for(var a,b,c,d=1/0,f=1/0,g=-(1/0),h=-(1/0),i=!1,j=0,k=this.children.length;k>j;++j){var l=this.children[j];l.visible&&(i=!0,a=this.children[j].getBounds(),d=d<a.x?d:a.x,f=f<a.y?f:a.y,b=a.width+a.x,c=a.height+a.y,g=g>b?g:b,h=h>c?h:c)}if(!i)return e.Rectangle.EMPTY;var m=this._bounds;m.x=d,m.y=f,m.width=g-d,m.height=h-f,this._currentBounds=m}return this._currentBounds},d.prototype.containerGetBounds=d.prototype.getBounds,d.prototype.getLocalBounds=function(){var a=this.worldTransform;this.worldTransform=e.Matrix.IDENTITY;for(var b=0,c=this.children.length;c>b;++b)this.children[b].updateTransform();return this.worldTransform=a,this._currentBounds=null,this.getBounds(e.Matrix.IDENTITY)},d.prototype.renderWebGL=function(a){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){var b,c;if(this._mask||this._filters){for(a.currentRenderer.flush(),this._filters&&a.filterManager.pushFilter(this,this._filters),this._mask&&a.maskManager.pushMask(this,this._mask),a.currentRenderer.start(),this._renderWebGL(a),b=0,c=this.children.length;c>b;b++)this.children[b].renderWebGL(a);a.currentRenderer.flush(),this._mask&&a.maskManager.popMask(this,this._mask),this._filters&&a.filterManager.popFilter(),a.currentRenderer.start()}else for(this._renderWebGL(a),b=0,c=this.children.length;c>b;++b)this.children[b].renderWebGL(a)}},d.prototype._renderWebGL=function(a){},d.prototype._renderCanvas=function(a){},d.prototype.renderCanvas=function(a){if(this.visible&&!(this.alpha<=0)&&this.renderable){this._mask&&a.maskManager.pushMask(this._mask,a),this._renderCanvas(a);for(var b=0,c=this.children.length;c>b;++b)this.children[b].renderCanvas(a);this._mask&&a.maskManager.popMask(a)}},d.prototype.destroy=function(a){if(f.prototype.destroy.call(this),a)for(var b=0,c=this.children.length;c>b;++b)this.children[b].destroy(a);this.removeChildren(),this.children=null}},{"../math":32,"../textures/RenderTexture":70,"./DisplayObject":24}],24:[function(a,b,c){function d(){g.call(this),this.position=new e.Point,this.scale=new e.Point(1,1),this.pivot=new e.Point(0,0),this.rotation=0,this.alpha=1,this.visible=!0,this.renderable=!0,this.parent=null,this.worldAlpha=1,this.worldTransform=new e.Matrix,this.filterArea=null,this._sr=0,this._cr=1,this._bounds=new e.Rectangle(0,0,1,1),this._currentBounds=null,this._mask=null,this._cacheAsBitmap=!1,this._cachedObject=null}var e=a("../math"),f=a("../textures/RenderTexture"),g=a("eventemitter3"),h=a("../const"),i=new e.Matrix;d.prototype=Object.create(g.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},worldVisible:{get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},mask:{get:function(){return this._mask},set:function(a){this._mask&&(this._mask.renderable=!0),this._mask=a,this._mask&&(this._mask.renderable=!1)}},filters:{get:function(){return this._filters&&this._filters.slice()},set:function(a){this._filters=a&&a.slice()}}}),d.prototype.updateTransform=function(){var a,b,c,d,e,f,g=this.parent.worldTransform,i=this.worldTransform;this.rotation%h.PI_2?(this.rotation!==this.rotationCache&&(this.rotationCache=this.rotation,this._sr=Math.sin(this.rotation),this._cr=Math.cos(this.rotation)),a=this._cr*this.scale.x,b=this._sr*this.scale.x,c=-this._sr*this.scale.y,d=this._cr*this.scale.y,e=this.position.x,f=this.position.y,(this.pivot.x||this.pivot.y)&&(e-=this.pivot.x*a+this.pivot.y*c,f-=this.pivot.x*b+this.pivot.y*d),i.a=a*g.a+b*g.c,i.b=a*g.b+b*g.d,i.c=c*g.a+d*g.c,i.d=c*g.b+d*g.d,i.tx=e*g.a+f*g.c+g.tx,i.ty=e*g.b+f*g.d+g.ty):(a=this.scale.x,d=this.scale.y,e=this.position.x-this.pivot.x*a,f=this.position.y-this.pivot.y*d,i.a=a*g.a,i.b=a*g.b,i.c=d*g.c,i.d=d*g.d,i.tx=e*g.a+f*g.c+g.tx,i.ty=e*g.b+f*g.d+g.ty),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null},d.prototype.displayObjectUpdateTransform=d.prototype.updateTransform,d.prototype.getBounds=function(a){return e.Rectangle.EMPTY},d.prototype.getLocalBounds=function(){return this.getBounds(e.Matrix.IDENTITY)},d.prototype.toGlobal=function(a){return this.displayObjectUpdateTransform(),this.worldTransform.apply(a)},d.prototype.toLocal=function(a,b){return b&&(a=b.toGlobal(a)),this.displayObjectUpdateTransform(),this.worldTransform.applyInverse(a)},d.prototype.renderWebGL=function(a){},d.prototype.renderCanvas=function(a){},d.prototype.generateTexture=function(a,b,c){var d=this.getLocalBounds(),e=new f(a,0|d.width,0|d.height,b,c);return i.tx=-d.x,i.ty=-d.y,e.render(this,i),e},d.prototype.destroy=function(){this.position=null,this.scale=null,this.pivot=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.worldTransform=null,this.filterArea=null}},{"../const":22,"../math":32,"../textures/RenderTexture":70,eventemitter3:11}],25:[function(a,b,c){function d(){e.call(this),this.fillAlpha=1,this.lineWidth=0,this.lineColor=0,this.graphicsData=[],this.tint=16777215,this._prevTint=16777215,this.blendMode=k.BLEND_MODES.NORMAL,this.currentPath=null,this._webGL={},this.isMask=!1,this.boundsPadding=0,this._localBounds=new j.Rectangle(0,0,1,1),this.dirty=!0,this.glDirty=!1,this.boundsDirty=!0,this.cachedSpriteDirty=!1}var e=a("../display/Container"),f=a("../textures/Texture"),g=a("../renderers/canvas/utils/CanvasBuffer"),h=a("../renderers/canvas/utils/CanvasGraphics"),i=a("./GraphicsData"),j=a("../math"),k=a("../const"),l=new j.Point;d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{}),d.prototype.clone=function(){var a=new d;a.renderable=this.renderable,a.fillAlpha=this.fillAlpha,a.lineWidth=this.lineWidth,a.lineColor=this.lineColor,a.tint=this.tint,a.blendMode=this.blendMode,a.isMask=this.isMask,a.boundsPadding=this.boundsPadding,a.dirty=this.dirty,a.glDirty=this.glDirty,a.cachedSpriteDirty=this.cachedSpriteDirty;for(var b=0;b<this.graphicsData.length;++b)a.graphicsData.push(this.graphicsData[b].clone());return a.currentPath=a.graphicsData[a.graphicsData.length-1],a.updateLocalBounds(),a},d.prototype.lineStyle=function(a,b,c){return this.lineWidth=a||0,this.lineColor=b||0,this.lineAlpha=void 0===c?1:c,this.currentPath&&(this.currentPath.shape.points.length?this.drawShape(new j.Polygon(this.currentPath.shape.points.slice(-2))):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},d.prototype.moveTo=function(a,b){return this.drawShape(new j.Polygon([a,b])),this},d.prototype.lineTo=function(a,b){return this.currentPath.shape.points.push(a,b),this.dirty=!0,this},d.prototype.quadraticCurveTo=function(a,b,c,d){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var e,f,g=20,h=this.currentPath.shape.points;0===h.length&&this.moveTo(0,0);for(var i=h[h.length-2],j=h[h.length-1],k=0,l=1;g>=l;++l)k=l/g,e=i+(a-i)*k,f=j+(b-j)*k,h.push(e+(a+(c-a)*k-e)*k,f+(b+(d-b)*k-f)*k);return this.dirty=this.boundsDirty=!0,this},d.prototype.bezierCurveTo=function(a,b,c,d,e,f){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);for(var g,h,i,j,k,l=20,m=this.currentPath.shape.points,n=m[m.length-2],o=m[m.length-1],p=0,q=1;l>=q;++q)p=q/l,g=1-p,h=g*g,i=h*g,j=p*p,k=j*p,m.push(i*n+3*h*p*a+3*g*j*c+k*e,i*o+3*h*p*b+3*g*j*d+k*f);return this.dirty=this.boundsDirty=!0,this},d.prototype.arcTo=function(a,b,c,d,e){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(a,b):this.moveTo(a,b);var f=this.currentPath.shape.points,g=f[f.length-2],h=f[f.length-1],i=h-b,j=g-a,k=d-b,l=c-a,m=Math.abs(i*l-j*k);if(1e-8>m||0===e)(f[f.length-2]!==a||f[f.length-1]!==b)&&f.push(a,b);else{var n=i*i+j*j,o=k*k+l*l,p=i*k+j*l,q=e*Math.sqrt(n)/m,r=e*Math.sqrt(o)/m,s=q*p/n,t=r*p/o,u=q*l+r*j,v=q*k+r*i,w=j*(r+s),x=i*(r+s),y=l*(q+t),z=k*(q+t),A=Math.atan2(x-v,w-u),B=Math.atan2(z-v,y-u);this.arc(u+a,v+b,e,A,B,j*k>l*i)}return this.dirty=this.boundsDirty=!0,this},d.prototype.arc=function(a,b,c,d,e,f){if(f=f||!1,d===e)return this;!f&&d>=e?e+=2*Math.PI:f&&e>=d&&(d+=2*Math.PI);var g=f?-1*(d-e):e-d,h=40*Math.ceil(Math.abs(g)/(2*Math.PI));if(0===g)return this;var i=a+Math.cos(d)*c,j=b+Math.sin(d)*c;this.currentPath?f&&this.filling?this.currentPath.shape.points.push(a,b):this.currentPath.shape.points.push(i,j):f&&this.filling?this.moveTo(a,b):this.moveTo(i,j);for(var k=this.currentPath.shape.points,l=g/(2*h),m=2*l,n=Math.cos(l),o=Math.sin(l),p=h-1,q=p%1/p,r=0;p>=r;r++){var s=r+q*r,t=l+d+m*s,u=Math.cos(t),v=-Math.sin(t);k.push((n*u+o*v)*c+a,(n*-v+o*u)*c+b)}return this.dirty=this.boundsDirty=!0,this},d.prototype.beginFill=function(a,b){return this.filling=!0,this.fillColor=a||0,this.fillAlpha=void 0===b?1:b,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},d.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},d.prototype.drawRect=function(a,b,c,d){return this.drawShape(new j.Rectangle(a,b,c,d)),this},d.prototype.drawRoundedRect=function(a,b,c,d,e){return this.drawShape(new j.RoundedRectangle(a,b,c,d,e)),this},d.prototype.drawCircle=function(a,b,c){return this.drawShape(new j.Circle(a,b,c)),this},d.prototype.drawEllipse=function(a,b,c,d){return this.drawShape(new j.Ellipse(a,b,c,d)),this},d.prototype.drawPolygon=function(a){var b=a;if(!Array.isArray(b)){b=new Array(arguments.length);for(var c=0;c<b.length;++c)b[c]=arguments[c]}return this.drawShape(new j.Polygon(b)),this},d.prototype.clear=function(){return this.lineWidth=0,this.filling=!1,this.dirty=!0,this.clearDirty=!0,this.graphicsData=[],this},d.prototype.generateTexture=function(a,b,c){b=b||1;var d=this.getLocalBounds(),e=new g(d.width*b,d.height*b),i=f.fromCanvas(e.canvas,c);return i.baseTexture.resolution=b,e.context.scale(b,b),e.context.translate(-d.x,-d.y),h.renderGraphics(this,e.context),i},d.prototype._renderWebGL=function(a){this.glDirty&&(this.dirty=!0,this.glDirty=!1),a.setObjectRenderer(a.plugins.graphics),a.plugins.graphics.render(this)},d.prototype._renderCanvas=function(a){if(this.isMask!==!0){this._prevTint!==this.tint&&(this.dirty=!0,this._prevTint=this.tint);var b=a.context,c=this.worldTransform;this.blendMode!==a.currentBlendMode&&(a.currentBlendMode=this.blendMode,b.globalCompositeOperation=a.blendModes[a.currentBlendMode]);var d=a.resolution;b.setTransform(c.a*d,c.b*d,c.c*d,c.d*d,c.tx*d,c.ty*d),h.renderGraphics(this,b)}},d.prototype.getBounds=function(a){if(!this._currentBounds){if(!this.renderable)return j.Rectangle.EMPTY;this.boundsDirty&&(this.updateLocalBounds(),this.glDirty=!0,this.cachedSpriteDirty=!0,this.boundsDirty=!1);var b=this._localBounds,c=b.x,d=b.width+b.x,e=b.y,f=b.height+b.y,g=a||this.worldTransform,h=g.a,i=g.b,k=g.c,l=g.d,m=g.tx,n=g.ty,o=h*d+k*f+m,p=l*f+i*d+n,q=h*c+k*f+m,r=l*f+i*c+n,s=h*c+k*e+m,t=l*e+i*c+n,u=h*d+k*e+m,v=l*e+i*d+n,w=o,x=p,y=o,z=p;y=y>q?q:y,y=y>s?s:y,y=y>u?u:y,z=z>r?r:z,z=z>t?t:z,z=z>v?v:z,w=q>w?q:w,w=s>w?s:w,w=u>w?u:w,x=r>x?r:x,x=t>x?t:x,x=v>x?v:x,this._bounds.x=y,this._bounds.width=w-y,this._bounds.y=z,this._bounds.height=x-z,this._currentBounds=this._bounds}return this._currentBounds},d.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,l);
for(var b=this.graphicsData,c=0;c<b.length;c++){var d=b[c];if(d.fill&&d.shape&&d.shape.contains(l.x,l.y))return!0}return!1},d.prototype.updateLocalBounds=function(){var a=1/0,b=-(1/0),c=1/0,d=-(1/0);if(this.graphicsData.length)for(var e,f,g,h,i,j,l=0;l<this.graphicsData.length;l++){var m=this.graphicsData[l],n=m.type,o=m.lineWidth;if(e=m.shape,n===k.SHAPES.RECT||n===k.SHAPES.RREC)g=e.x-o/2,h=e.y-o/2,i=e.width+o,j=e.height+o,a=a>g?g:a,b=g+i>b?g+i:b,c=c>h?h:c,d=h+j>d?h+j:d;else if(n===k.SHAPES.CIRC)g=e.x,h=e.y,i=e.radius+o/2,j=e.radius+o/2,a=a>g-i?g-i:a,b=g+i>b?g+i:b,c=c>h-j?h-j:c,d=h+j>d?h+j:d;else if(n===k.SHAPES.ELIP)g=e.x,h=e.y,i=e.width+o/2,j=e.height+o/2,a=a>g-i?g-i:a,b=g+i>b?g+i:b,c=c>h-j?h-j:c,d=h+j>d?h+j:d;else{f=e.points;for(var p=0;p<f.length;p+=2)g=f[p],h=f[p+1],a=a>g-o?g-o:a,b=g+o>b?g+o:b,c=c>h-o?h-o:c,d=h+o>d?h+o:d}}else a=0,b=0,c=0,d=0;var q=this.boundsPadding;this._localBounds.x=a-q,this._localBounds.width=b-a+2*q,this._localBounds.y=c-q,this._localBounds.height=d-c+2*q},d.prototype.drawShape=function(a){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var b=new i(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,a);return this.graphicsData.push(b),b.type===k.SHAPES.POLY&&(b.shape.closed=b.shape.closed||this.filling,this.currentPath=b),this.dirty=this.boundsDirty=!0,b},d.prototype.destroy=function(){e.prototype.destroy.apply(this,arguments);for(var a=0;a<this.graphicsData.length;++a)this.graphicsData[a].destroy();for(var b in this._webgl)for(var c=0;c<this._webgl[b].data.length;++c)this._webgl[b].data[c].destroy();this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null}},{"../const":22,"../display/Container":23,"../math":32,"../renderers/canvas/utils/CanvasBuffer":44,"../renderers/canvas/utils/CanvasGraphics":45,"../textures/Texture":71,"./GraphicsData":26}],26:[function(a,b,c){function d(a,b,c,d,e,f,g){this.lineWidth=a,this.lineColor=b,this.lineAlpha=c,this._lineTint=b,this.fillColor=d,this.fillAlpha=e,this._fillTint=d,this.fill=f,this.shape=g,this.type=g.type}d.prototype.constructor=d,b.exports=d,d.prototype.clone=function(){return new d(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},d.prototype.destroy=function(){this.shape=null}},{}],27:[function(a,b,c){function d(a){h.call(this,a),this.graphicsDataPool=[],this.primitiveShader=null,this.complexPrimitiveShader=null,this.maximumSimplePolySize=200}var e=a("../../utils"),f=a("../../math"),g=a("../../const"),h=a("../../renderers/webgl/utils/ObjectRenderer"),i=a("../../renderers/webgl/WebGLRenderer"),j=a("./WebGLGraphicsData"),k=a("earcut");d.prototype=Object.create(h.prototype),d.prototype.constructor=d,b.exports=d,i.registerPlugin("graphics",d),d.prototype.onContextChange=function(){},d.prototype.destroy=function(){h.prototype.destroy.call(this);for(var a=0;a<this.graphicsDataPool.length;++a)this.graphicsDataPool[a].destroy();this.graphicsDataPool=null},d.prototype.render=function(a){var b,c=this.renderer,d=c.gl,f=c.shaderManager.plugins.primitiveShader;a.dirty&&this.updateGraphics(a,d);var g=a._webGL[d.id];c.blendModeManager.setBlendMode(a.blendMode);for(var h=0;h<g.data.length;h++)1===g.data[h].mode?(b=g.data[h],c.stencilManager.pushStencil(a,b,c),d.uniform1f(c.shaderManager.complexPrimitiveShader.uniforms.alpha._location,a.worldAlpha*b.alpha),d.drawElements(d.TRIANGLE_FAN,4,d.UNSIGNED_SHORT,2*(b.indices.length-4)),c.stencilManager.popStencil(a,b,c)):(b=g.data[h],f=c.shaderManager.primitiveShader,c.shaderManager.setShader(f),d.uniformMatrix3fv(f.uniforms.translationMatrix._location,!1,a.worldTransform.toArray(!0)),d.uniformMatrix3fv(f.uniforms.projectionMatrix._location,!1,c.currentRenderTarget.projectionMatrix.toArray(!0)),d.uniform3fv(f.uniforms.tint._location,e.hex2rgb(a.tint)),d.uniform1f(f.uniforms.alpha._location,a.worldAlpha),d.bindBuffer(d.ARRAY_BUFFER,b.buffer),d.vertexAttribPointer(f.attributes.aVertexPosition,2,d.FLOAT,!1,24,0),d.vertexAttribPointer(f.attributes.aColor,4,d.FLOAT,!1,24,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,b.indexBuffer),d.drawElements(d.TRIANGLE_STRIP,b.indices.length,d.UNSIGNED_SHORT,0))},d.prototype.updateGraphics=function(a){var b=this.renderer.gl,c=a._webGL[b.id];c||(c=a._webGL[b.id]={lastIndex:0,data:[],gl:b}),a.dirty=!1;var d;if(a.clearDirty){for(a.clearDirty=!1,d=0;d<c.data.length;d++){var e=c.data[d];e.reset(),this.graphicsDataPool.push(e)}c.data=[],c.lastIndex=0}var f;for(d=c.lastIndex;d<a.graphicsData.length;d++){var h=a.graphicsData[d];if(h.type===g.SHAPES.POLY){if(h.points=h.shape.points.slice(),h.shape.closed&&(h.points[0]!==h.points[h.points.length-2]||h.points[1]!==h.points[h.points.length-1])&&h.points.push(h.points[0],h.points[1]),h.fill&&h.points.length>=6)if(h.points.length<2*this.maximumSimplePolySize){f=this.switchMode(c,0);var i=this.buildPoly(h,f);i||(f=this.switchMode(c,1),this.buildComplexPoly(h,f))}else f=this.switchMode(c,1),this.buildComplexPoly(h,f);h.lineWidth>0&&(f=this.switchMode(c,0),this.buildLine(h,f))}else f=this.switchMode(c,0),h.type===g.SHAPES.RECT?this.buildRectangle(h,f):h.type===g.SHAPES.CIRC||h.type===g.SHAPES.ELIP?this.buildCircle(h,f):h.type===g.SHAPES.RREC&&this.buildRoundedRectangle(h,f);c.lastIndex++}for(d=0;d<c.data.length;d++)f=c.data[d],f.dirty&&f.upload()},d.prototype.switchMode=function(a,b){var c;return a.data.length?(c=a.data[a.data.length-1],(c.points.length>32e4||c.mode!==b||1===b)&&(c=this.graphicsDataPool.pop()||new j(a.gl),c.mode=b,a.data.push(c))):(c=this.graphicsDataPool.pop()||new j(a.gl),c.mode=b,a.data.push(c)),c.dirty=!0,c},d.prototype.buildRectangle=function(a,b){var c=a.shape,d=c.x,f=c.y,g=c.width,h=c.height;if(a.fill){var i=e.hex2rgb(a.fillColor),j=a.fillAlpha,k=i[0]*j,l=i[1]*j,m=i[2]*j,n=b.points,o=b.indices,p=n.length/6;n.push(d,f),n.push(k,l,m,j),n.push(d+g,f),n.push(k,l,m,j),n.push(d,f+h),n.push(k,l,m,j),n.push(d+g,f+h),n.push(k,l,m,j),o.push(p,p,p+1,p+2,p+3,p+3)}if(a.lineWidth){var q=a.points;a.points=[d,f,d+g,f,d+g,f+h,d,f+h,d,f],this.buildLine(a,b),a.points=q}},d.prototype.buildRoundedRectangle=function(a,b){var c=a.shape,d=c.x,f=c.y,g=c.width,h=c.height,i=c.radius,j=[];if(j.push(d,f+i),this.quadraticBezierCurve(d,f+h-i,d,f+h,d+i,f+h,j),this.quadraticBezierCurve(d+g-i,f+h,d+g,f+h,d+g,f+h-i,j),this.quadraticBezierCurve(d+g,f+i,d+g,f,d+g-i,f,j),this.quadraticBezierCurve(d+i,f,d,f,d,f+i+1e-10,j),a.fill){var l=e.hex2rgb(a.fillColor),m=a.fillAlpha,n=l[0]*m,o=l[1]*m,p=l[2]*m,q=b.points,r=b.indices,s=q.length/6,t=k(j,null,2),u=0;for(u=0;u<t.length;u+=3)r.push(t[u]+s),r.push(t[u]+s),r.push(t[u+1]+s),r.push(t[u+2]+s),r.push(t[u+2]+s);for(u=0;u<j.length;u++)q.push(j[u],j[++u],n,o,p,m)}if(a.lineWidth){var v=a.points;a.points=j,this.buildLine(a,b),a.points=v}},d.prototype.quadraticBezierCurve=function(a,b,c,d,e,f,g){function h(a,b,c){var d=b-a;return a+d*c}for(var i,j,k,l,m,n,o=20,p=g||[],q=0,r=0;o>=r;r++)q=r/o,i=h(a,c,q),j=h(b,d,q),k=h(c,e,q),l=h(d,f,q),m=h(i,k,q),n=h(j,l,q),p.push(m,n);return p},d.prototype.buildCircle=function(a,b){var c,d,f=a.shape,h=f.x,i=f.y;a.type===g.SHAPES.CIRC?(c=f.radius,d=f.radius):(c=f.width,d=f.height);var j=40,k=2*Math.PI/j,l=0;if(a.fill){var m=e.hex2rgb(a.fillColor),n=a.fillAlpha,o=m[0]*n,p=m[1]*n,q=m[2]*n,r=b.points,s=b.indices,t=r.length/6;for(s.push(t),l=0;j+1>l;l++)r.push(h,i,o,p,q,n),r.push(h+Math.sin(k*l)*c,i+Math.cos(k*l)*d,o,p,q,n),s.push(t++,t++);s.push(t-1)}if(a.lineWidth){var u=a.points;for(a.points=[],l=0;j+1>l;l++)a.points.push(h+Math.sin(k*l)*c,i+Math.cos(k*l)*d);this.buildLine(a,b),a.points=u}},d.prototype.buildLine=function(a,b){var c=0,d=a.points;if(0!==d.length){if(a.lineWidth%2)for(c=0;c<d.length;c++)d[c]+=.5;var g=new f.Point(d[0],d[1]),h=new f.Point(d[d.length-2],d[d.length-1]);if(g.x===h.x&&g.y===h.y){d=d.slice(),d.pop(),d.pop(),h=new f.Point(d[d.length-2],d[d.length-1]);var i=h.x+.5*(g.x-h.x),j=h.y+.5*(g.y-h.y);d.unshift(i,j),d.push(i,j)}var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=b.points,I=b.indices,J=d.length/2,K=d.length,L=H.length/6,M=a.lineWidth/2,N=e.hex2rgb(a.lineColor),O=a.lineAlpha,P=N[0]*O,Q=N[1]*O,R=N[2]*O;for(m=d[0],n=d[1],o=d[2],p=d[3],s=-(n-p),t=m-o,G=Math.sqrt(s*s+t*t),s/=G,t/=G,s*=M,t*=M,H.push(m-s,n-t,P,Q,R,O),H.push(m+s,n+t,P,Q,R,O),c=1;J-1>c;c++)m=d[2*(c-1)],n=d[2*(c-1)+1],o=d[2*c],p=d[2*c+1],q=d[2*(c+1)],r=d[2*(c+1)+1],s=-(n-p),t=m-o,G=Math.sqrt(s*s+t*t),s/=G,t/=G,s*=M,t*=M,u=-(p-r),v=o-q,G=Math.sqrt(u*u+v*v),u/=G,v/=G,u*=M,v*=M,y=-t+n-(-t+p),z=-s+o-(-s+m),A=(-s+m)*(-t+p)-(-s+o)*(-t+n),B=-v+r-(-v+p),C=-u+o-(-u+q),D=(-u+q)*(-v+p)-(-u+o)*(-v+r),E=y*C-B*z,Math.abs(E)<.1?(E+=10.1,H.push(o-s,p-t,P,Q,R,O),H.push(o+s,p+t,P,Q,R,O)):(k=(z*D-C*A)/E,l=(B*A-y*D)/E,F=(k-o)*(k-o)+(l-p)+(l-p),F>19600?(w=s-u,x=t-v,G=Math.sqrt(w*w+x*x),w/=G,x/=G,w*=M,x*=M,H.push(o-w,p-x),H.push(P,Q,R,O),H.push(o+w,p+x),H.push(P,Q,R,O),H.push(o-w,p-x),H.push(P,Q,R,O),K++):(H.push(k,l),H.push(P,Q,R,O),H.push(o-(k-o),p-(l-p)),H.push(P,Q,R,O)));for(m=d[2*(J-2)],n=d[2*(J-2)+1],o=d[2*(J-1)],p=d[2*(J-1)+1],s=-(n-p),t=m-o,G=Math.sqrt(s*s+t*t),s/=G,t/=G,s*=M,t*=M,H.push(o-s,p-t),H.push(P,Q,R,O),H.push(o+s,p+t),H.push(P,Q,R,O),I.push(L),c=0;K>c;c++)I.push(L++);I.push(L-1)}},d.prototype.buildComplexPoly=function(a,b){var c=a.points.slice();if(!(c.length<6)){var d=b.indices;b.points=c,b.alpha=a.fillAlpha,b.color=e.hex2rgb(a.fillColor);for(var f,g,h=1/0,i=-(1/0),j=1/0,k=-(1/0),l=0;l<c.length;l+=2)f=c[l],g=c[l+1],h=h>f?f:h,i=f>i?f:i,j=j>g?g:j,k=g>k?g:k;c.push(h,j,i,j,i,k,h,k);var m=c.length/2;for(l=0;m>l;l++)d.push(l)}},d.prototype.buildPoly=function(a,b){var c=a.points;if(!(c.length<6)){var d=b.points,f=b.indices,g=c.length/2,h=e.hex2rgb(a.fillColor),i=a.fillAlpha,j=h[0]*i,l=h[1]*i,m=h[2]*i,n=k(c,null,2);if(!n)return!1;var o=d.length/6,p=0;for(p=0;p<n.length;p+=3)f.push(n[p]+o),f.push(n[p]+o),f.push(n[p+1]+o),f.push(n[p+2]+o),f.push(n[p+2]+o);for(p=0;g>p;p++)d.push(c[2*p],c[2*p+1],j,l,m,i);return!0}}},{"../../const":22,"../../math":32,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62,"../../utils":76,"./WebGLGraphicsData":28,earcut:10}],28:[function(a,b,c){function d(a){this.gl=a,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=a.createBuffer(),this.indexBuffer=a.createBuffer(),this.mode=1,this.alpha=1,this.dirty=!0,this.glPoints=null,this.glIndices=null}d.prototype.constructor=d,b.exports=d,d.prototype.reset=function(){this.points.length=0,this.indices.length=0},d.prototype.upload=function(){var a=this.gl;this.glPoints=new Float32Array(this.points),a.bindBuffer(a.ARRAY_BUFFER,this.buffer),a.bufferData(a.ARRAY_BUFFER,this.glPoints,a.STATIC_DRAW),this.glIndices=new Uint16Array(this.indices),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.glIndices,a.STATIC_DRAW),this.dirty=!1},d.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.gl.deleteBuffer(this.buffer),this.gl.deleteBuffer(this.indexBuffer),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null}},{}],29:[function(a,b,c){var d=b.exports=Object.assign(a("./const"),a("./math"),{utils:a("./utils"),ticker:a("./ticker"),DisplayObject:a("./display/DisplayObject"),Container:a("./display/Container"),Sprite:a("./sprites/Sprite"),ParticleContainer:a("./particles/ParticleContainer"),SpriteRenderer:a("./sprites/webgl/SpriteRenderer"),ParticleRenderer:a("./particles/webgl/ParticleRenderer"),Text:a("./text/Text"),Graphics:a("./graphics/Graphics"),GraphicsData:a("./graphics/GraphicsData"),GraphicsRenderer:a("./graphics/webgl/GraphicsRenderer"),Texture:a("./textures/Texture"),BaseTexture:a("./textures/BaseTexture"),RenderTexture:a("./textures/RenderTexture"),VideoBaseTexture:a("./textures/VideoBaseTexture"),TextureUvs:a("./textures/TextureUvs"),CanvasRenderer:a("./renderers/canvas/CanvasRenderer"),CanvasGraphics:a("./renderers/canvas/utils/CanvasGraphics"),CanvasBuffer:a("./renderers/canvas/utils/CanvasBuffer"),WebGLRenderer:a("./renderers/webgl/WebGLRenderer"),ShaderManager:a("./renderers/webgl/managers/ShaderManager"),Shader:a("./renderers/webgl/shaders/Shader"),ObjectRenderer:a("./renderers/webgl/utils/ObjectRenderer"),RenderTarget:a("./renderers/webgl/utils/RenderTarget"),AbstractFilter:a("./renderers/webgl/filters/AbstractFilter"),FXAAFilter:a("./renderers/webgl/filters/FXAAFilter"),SpriteMaskFilter:a("./renderers/webgl/filters/SpriteMaskFilter"),autoDetectRenderer:function(a,b,c,e){return a=a||800,b=b||600,!e&&d.utils.isWebGLSupported()?new d.WebGLRenderer(a,b,c):new d.CanvasRenderer(a,b,c)}})},{"./const":22,"./display/Container":23,"./display/DisplayObject":24,"./graphics/Graphics":25,"./graphics/GraphicsData":26,"./graphics/webgl/GraphicsRenderer":27,"./math":32,"./particles/ParticleContainer":38,"./particles/webgl/ParticleRenderer":40,"./renderers/canvas/CanvasRenderer":43,"./renderers/canvas/utils/CanvasBuffer":44,"./renderers/canvas/utils/CanvasGraphics":45,"./renderers/webgl/WebGLRenderer":48,"./renderers/webgl/filters/AbstractFilter":49,"./renderers/webgl/filters/FXAAFilter":50,"./renderers/webgl/filters/SpriteMaskFilter":51,"./renderers/webgl/managers/ShaderManager":55,"./renderers/webgl/shaders/Shader":60,"./renderers/webgl/utils/ObjectRenderer":62,"./renderers/webgl/utils/RenderTarget":64,"./sprites/Sprite":66,"./sprites/webgl/SpriteRenderer":67,"./text/Text":68,"./textures/BaseTexture":69,"./textures/RenderTexture":70,"./textures/Texture":71,"./textures/TextureUvs":72,"./textures/VideoBaseTexture":73,"./ticker":75,"./utils":76}],30:[function(a,b,c){function d(){this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0}var e=a("./Point");d.prototype.constructor=d,b.exports=d,d.prototype.fromArray=function(a){this.a=a[0],this.b=a[1],this.c=a[3],this.d=a[4],this.tx=a[2],this.ty=a[5]},d.prototype.toArray=function(a,b){this.array||(this.array=new Float32Array(9));var c=b||this.array;return a?(c[0]=this.a,c[1]=this.b,c[2]=0,c[3]=this.c,c[4]=this.d,c[5]=0,c[6]=this.tx,c[7]=this.ty,c[8]=1):(c[0]=this.a,c[1]=this.c,c[2]=this.tx,c[3]=this.b,c[4]=this.d,c[5]=this.ty,c[6]=0,c[7]=0,c[8]=1),c},d.prototype.apply=function(a,b){b=b||new e;var c=a.x,d=a.y;return b.x=this.a*c+this.c*d+this.tx,b.y=this.b*c+this.d*d+this.ty,b},d.prototype.applyInverse=function(a,b){b=b||new e;var c=1/(this.a*this.d+this.c*-this.b),d=a.x,f=a.y;return b.x=this.d*c*d+-this.c*c*f+(this.ty*this.c-this.tx*this.d)*c,b.y=this.a*c*f+-this.b*c*d+(-this.ty*this.a+this.tx*this.b)*c,b},d.prototype.translate=function(a,b){return this.tx+=a,this.ty+=b,this},d.prototype.scale=function(a,b){return this.a*=a,this.d*=b,this.c*=a,this.b*=b,this.tx*=a,this.ty*=b,this},d.prototype.rotate=function(a){var b=Math.cos(a),c=Math.sin(a),d=this.a,e=this.c,f=this.tx;return this.a=d*b-this.b*c,this.b=d*c+this.b*b,this.c=e*b-this.d*c,this.d=e*c+this.d*b,this.tx=f*b-this.ty*c,this.ty=f*c+this.ty*b,this},d.prototype.append=function(a){var b=this.a,c=this.b,d=this.c,e=this.d;return this.a=a.a*b+a.b*d,this.b=a.a*c+a.b*e,this.c=a.c*b+a.d*d,this.d=a.c*c+a.d*e,this.tx=a.tx*b+a.ty*d+this.tx,this.ty=a.tx*c+a.ty*e+this.ty,this},d.prototype.prepend=function(a){var b=this.tx;if(1!==a.a||0!==a.b||0!==a.c||1!==a.d){var c=this.a,d=this.c;this.a=c*a.a+this.b*a.c,this.b=c*a.b+this.b*a.d,this.c=d*a.a+this.d*a.c,this.d=d*a.b+this.d*a.d}return this.tx=b*a.a+this.ty*a.c+a.tx,this.ty=b*a.b+this.ty*a.d+a.ty,this},d.prototype.invert=function(){var a=this.a,b=this.b,c=this.c,d=this.d,e=this.tx,f=a*d-b*c;return this.a=d/f,this.b=-b/f,this.c=-c/f,this.d=a/f,this.tx=(c*this.ty-d*e)/f,this.ty=-(a*this.ty-b*e)/f,this},d.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},d.prototype.clone=function(){var a=new d;return a.a=this.a,a.b=this.b,a.c=this.c,a.d=this.d,a.tx=this.tx,a.ty=this.ty,a},d.prototype.copy=function(a){return a.a=this.a,a.b=this.b,a.c=this.c,a.d=this.d,a.tx=this.tx,a.ty=this.ty,a},d.IDENTITY=new d,d.TEMP_MATRIX=new d},{"./Point":31}],31:[function(a,b,c){function d(a,b){this.x=a||0,this.y=b||0}d.prototype.constructor=d,b.exports=d,d.prototype.clone=function(){return new d(this.x,this.y)},d.prototype.copy=function(a){this.set(a.x,a.y)},d.prototype.equals=function(a){return a.x===this.x&&a.y===this.y},d.prototype.set=function(a,b){this.x=a||0,this.y=b||(0!==b?this.x:0)}},{}],32:[function(a,b,c){b.exports={Point:a("./Point"),Matrix:a("./Matrix"),Circle:a("./shapes/Circle"),Ellipse:a("./shapes/Ellipse"),Polygon:a("./shapes/Polygon"),Rectangle:a("./shapes/Rectangle"),RoundedRectangle:a("./shapes/RoundedRectangle")}},{"./Matrix":30,"./Point":31,"./shapes/Circle":33,"./shapes/Ellipse":34,"./shapes/Polygon":35,"./shapes/Rectangle":36,"./shapes/RoundedRectangle":37}],33:[function(a,b,c){function d(a,b,c){this.x=a||0,this.y=b||0,this.radius=c||0,this.type=f.SHAPES.CIRC}var e=a("./Rectangle"),f=a("../../const");d.prototype.constructor=d,b.exports=d,d.prototype.clone=function(){return new d(this.x,this.y,this.radius)},d.prototype.contains=function(a,b){if(this.radius<=0)return!1;var c=this.x-a,d=this.y-b,e=this.radius*this.radius;return c*=c,d*=d,e>=c+d},d.prototype.getBounds=function(){return new e(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)}},{"../../const":22,"./Rectangle":36}],34:[function(a,b,c){function d(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this.type=f.SHAPES.ELIP}var e=a("./Rectangle"),f=a("../../const");d.prototype.constructor=d,b.exports=d,d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)},d.prototype.contains=function(a,b){if(this.width<=0||this.height<=0)return!1;var c=(a-this.x)/this.width,d=(b-this.y)/this.height;return c*=c,d*=d,1>=c+d},d.prototype.getBounds=function(){return new e(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":22,"./Rectangle":36}],35:[function(a,b,c){function d(a){var b=a;if(!Array.isArray(b)){b=new Array(arguments.length);for(var c=0;c<b.length;++c)b[c]=arguments[c]}if(b[0]instanceof e){for(var d=[],g=0,h=b.length;h>g;g++)d.push(b[g].x,b[g].y);b=d}this.closed=!0,this.points=b,this.type=f.SHAPES.POLY}var e=a("../Point"),f=a("../../const");d.prototype.constructor=d,b.exports=d,d.prototype.clone=function(){return new d(this.points.slice())},d.prototype.contains=function(a,b){for(var c=!1,d=this.points.length/2,e=0,f=d-1;d>e;f=e++){var g=this.points[2*e],h=this.points[2*e+1],i=this.points[2*f],j=this.points[2*f+1],k=h>b!=j>b&&(i-g)*(b-h)/(j-h)+g>a;k&&(c=!c)}return c}},{"../../const":22,"../Point":31}],36:[function(a,b,c){function d(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this.type=e.SHAPES.RECT}var e=a("../../const");d.prototype.constructor=d,b.exports=d,d.EMPTY=new d(0,0,0,0),d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height)},d.prototype.contains=function(a,b){return this.width<=0||this.height<=0?!1:a>=this.x&&a<this.x+this.width&&b>=this.y&&b<this.y+this.height?!0:!1}},{"../../const":22}],37:[function(a,b,c){function d(a,b,c,d,f){this.x=a||0,this.y=b||0,this.width=c||0,this.height=d||0,this.radius=f||20,this.type=e.SHAPES.RREC}var e=a("../../const");d.prototype.constructor=d,b.exports=d,d.prototype.clone=function(){return new d(this.x,this.y,this.width,this.height,this.radius)},d.prototype.contains=function(a,b){return this.width<=0||this.height<=0?!1:a>=this.x&&a<=this.x+this.width&&b>=this.y&&b<=this.y+this.height?!0:!1}},{"../../const":22}],38:[function(a,b,c){function d(a,b){e.call(this),this._properties=[!1,!0,!1,!1,!1],this._size=a||15e3,this._buffers=null,this._updateStatic=!1,this.interactiveChildren=!1,this.blendMode=f.BLEND_MODES.NORMAL,this.roundPixels=!0,this.setProperties(b)}var e=a("../display/Container"),f=a("../const");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.setProperties=function(a){a&&(this._properties[0]="scale"in a?!!a.scale:this._properties[0],this._properties[1]="position"in a?!!a.position:this._properties[1],this._properties[2]="rotation"in a?!!a.rotation:this._properties[2],this._properties[3]="uvs"in a?!!a.uvs:this._properties[3],this._properties[4]="alpha"in a?!!a.alpha:this._properties[4])},d.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},d.prototype.renderWebGL=function(a){this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(a.setObjectRenderer(a.plugins.particle),a.plugins.particle.render(this))},d.prototype.addChildAt=function(a,b){if(a===this)return a;if(b>=0&&b<=this.children.length)return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(b,0,a),this._updateStatic=!0,a;throw new Error(a+"addChildAt: The index "+b+" supplied is out of bounds "+this.children.length)},d.prototype.removeChildAt=function(a){var b=this.getChildAt(a);return b.parent=null,this.children.splice(a,1),this._updateStatic=!0,b},d.prototype.renderCanvas=function(a){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var b=a.context,c=this.worldTransform,d=!0,e=0,f=0,g=0,h=0;b.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var i=0;i<this.children.length;++i){var j=this.children[i];if(j.visible){var k=j.texture.frame;if(b.globalAlpha=this.worldAlpha*j.alpha,j.rotation%(2*Math.PI)===0)d&&(b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),d=!1),e=j.anchor.x*(-k.width*j.scale.x)+j.position.x+.5,f=j.anchor.y*(-k.height*j.scale.y)+j.position.y+.5,g=k.width*j.scale.x,h=k.height*j.scale.y;else{d||(d=!0),j.displayObjectUpdateTransform();var l=j.worldTransform;a.roundPixels?b.setTransform(l.a,l.b,l.c,l.d,0|l.tx,0|l.ty):b.setTransform(l.a,l.b,l.c,l.d,l.tx,l.ty),e=j.anchor.x*-k.width+.5,f=j.anchor.y*-k.height+.5,g=k.width,h=k.height}b.drawImage(j.texture.baseTexture.source,k.x,k.y,k.width,k.height,e,f,g,h)}}}},d.prototype.destroy=function(){if(e.prototype.destroy.apply(this,arguments),this._buffers)for(var a=0;a<this._buffers.length;++a)this._buffers[a].destroy();this._properties=null,this._buffers=null}},{"../const":22,"../display/Container":23}],39:[function(a,b,c){function d(a,b,c){this.gl=a,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=c,this.dynamicProperties=[],this.staticProperties=[];for(var d=0;d<b.length;d++){var e=b[d];e.dynamic?this.dynamicProperties.push(e):this.staticProperties.push(e)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}d.prototype.constructor=d,b.exports=d,d.prototype.initBuffers=function(){var a,b,c=this.gl,d=0;for(this.dynamicStride=0,a=0;a<this.dynamicProperties.length;a++)b=this.dynamicProperties[a],b.offset=d,d+=b.size,this.dynamicStride+=b.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.dynamicBuffer),c.bufferData(c.ARRAY_BUFFER,this.dynamicData,c.DYNAMIC_DRAW);var e=0;for(this.staticStride=0,a=0;a<this.staticProperties.length;a++)b=this.staticProperties[a],b.offset=e,e+=b.size,this.staticStride+=b.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,this.staticBuffer),c.bufferData(c.ARRAY_BUFFER,this.staticData,c.DYNAMIC_DRAW)},d.prototype.uploadDynamic=function(a,b,c){for(var d=this.gl,e=0;e<this.dynamicProperties.length;e++){var f=this.dynamicProperties[e];f.uploadFunction(a,b,c,this.dynamicData,this.dynamicStride,f.offset)}d.bindBuffer(d.ARRAY_BUFFER,this.dynamicBuffer),d.bufferSubData(d.ARRAY_BUFFER,0,this.dynamicData)},d.prototype.uploadStatic=function(a,b,c){for(var d=this.gl,e=0;e<this.staticProperties.length;e++){var f=this.staticProperties[e];f.uploadFunction(a,b,c,this.staticData,this.staticStride,f.offset)}d.bindBuffer(d.ARRAY_BUFFER,this.staticBuffer),d.bufferSubData(d.ARRAY_BUFFER,0,this.staticData)},d.prototype.bind=function(){var a,b,c=this.gl;for(c.bindBuffer(c.ARRAY_BUFFER,this.dynamicBuffer),a=0;a<this.dynamicProperties.length;a++)b=this.dynamicProperties[a],c.vertexAttribPointer(b.attribute,b.size,c.FLOAT,!1,4*this.dynamicStride,4*b.offset);for(c.bindBuffer(c.ARRAY_BUFFER,this.staticBuffer),a=0;a<this.staticProperties.length;a++)b=this.staticProperties[a],c.vertexAttribPointer(b.attribute,b.size,c.FLOAT,!1,4*this.staticStride,4*b.offset)},d.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.gl.deleteBuffer(this.dynamicBuffer),this.staticProperties=null,this.staticData=null,this.gl.deleteBuffer(this.staticBuffer)}},{}],40:[function(a,b,c){function d(a){e.call(this,a),this.size=15e3;var b=6*this.size;this.indices=new Uint16Array(b);for(var c=0,d=0;b>c;c+=6,d+=4)this.indices[c+0]=d+0,this.indices[c+1]=d+1,this.indices[c+2]=d+2,this.indices[c+3]=d+0,this.indices[c+4]=d+2,this.indices[c+5]=d+3;this.shader=null,this.indexBuffer=null,this.properties=null,this.tempMatrix=new i.Matrix}var e=a("../../renderers/webgl/utils/ObjectRenderer"),f=a("../../renderers/webgl/WebGLRenderer"),g=a("./ParticleShader"),h=a("./ParticleBuffer"),i=a("../../math");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,f.registerPlugin("particle",d),d.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=new g(this.renderer.shaderManager),this.indexBuffer=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW),this.properties=[{attribute:this.shader.attributes.aVertexPosition,dynamic:!1,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,dynamic:!0,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,dynamic:!1,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,dynamic:!1,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,dynamic:!1,size:1,uploadFunction:this.uploadAlpha,offset:0}]},d.prototype.start=function(){var a=this.renderer.gl;a.activeTexture(a.TEXTURE0),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var b=this.shader;this.renderer.shaderManager.setShader(b)},d.prototype.render=function(a){var b=a.children,c=b.length,d=a._size;if(0!==c){c>d&&(c=d),a._buffers||(a._buffers=this.generateBuffers(a)),this.renderer.blendModeManager.setBlendMode(a.blendMode);var e=this.renderer.gl,f=a.worldTransform.copy(this.tempMatrix);f.prepend(this.renderer.currentRenderTarget.projectionMatrix),e.uniformMatrix3fv(this.shader.uniforms.projectionMatrix._location,!1,f.toArray(!0)),e.uniform1f(this.shader.uniforms.uAlpha._location,a.worldAlpha);var g=a._updateStatic,h=b[0]._texture.baseTexture;if(h._glTextures[e.id])e.bindTexture(e.TEXTURE_2D,h._glTextures[e.id]);else{if(!this.renderer.updateTexture(h))return;this.properties[0].dynamic&&this.properties[3].dynamic||(g=!0)}for(var i=0,j=0;c>j;j+=this.size){var k=c-j;k>this.size&&(k=this.size);var l=a._buffers[i++];l.uploadDynamic(b,j,k),g&&l.uploadStatic(b,j,k),l.bind(this.shader),e.drawElements(e.TRIANGLES,6*k,e.UNSIGNED_SHORT,0),this.renderer.drawCount++}a._updateStatic=!1}},d.prototype.generateBuffers=function(a){var b,c=this.renderer.gl,d=[],e=a._size;for(b=0;b<a._properties.length;b++)this.properties[b].dynamic=a._properties[b];for(b=0;e>b;b+=this.size)d.push(new h(c,this.properties,this.size,this.shader));return d},d.prototype.uploadVertices=function(a,b,c,d,e,f){for(var g,h,i,j,k,l,m,n,o,p=0;c>p;p++)g=a[b+p],h=g._texture,j=g.scale.x,k=g.scale.y,h.trim?(i=h.trim,m=i.x-g.anchor.x*i.width,l=m+h.crop.width,o=i.y-g.anchor.y*i.height,n=o+h.crop.height):(l=h._frame.width*(1-g.anchor.x),m=h._frame.width*-g.anchor.x,n=h._frame.height*(1-g.anchor.y),o=h._frame.height*-g.anchor.y),d[f]=m*j,d[f+1]=o*k,d[f+e]=l*j,d[f+e+1]=o*k,d[f+2*e]=l*j,d[f+2*e+1]=n*k,d[f+3*e]=m*j,d[f+3*e+1]=n*k,f+=4*e},d.prototype.uploadPosition=function(a,b,c,d,e,f){for(var g=0;c>g;g++){var h=a[b+g].position;d[f]=h.x,d[f+1]=h.y,d[f+e]=h.x,d[f+e+1]=h.y,d[f+2*e]=h.x,d[f+2*e+1]=h.y,d[f+3*e]=h.x,d[f+3*e+1]=h.y,f+=4*e}},d.prototype.uploadRotation=function(a,b,c,d,e,f){for(var g=0;c>g;g++){var h=a[b+g].rotation;d[f]=h,d[f+e]=h,d[f+2*e]=h,d[f+3*e]=h,f+=4*e}},d.prototype.uploadUvs=function(a,b,c,d,e,f){for(var g=0;c>g;g++){var h=a[b+g]._texture._uvs;h?(d[f]=h.x0,d[f+1]=h.y0,d[f+e]=h.x1,d[f+e+1]=h.y1,d[f+2*e]=h.x2,d[f+2*e+1]=h.y2,d[f+3*e]=h.x3,d[f+3*e+1]=h.y3,f+=4*e):(d[f]=0,d[f+1]=0,d[f+e]=0,d[f+e+1]=0,d[f+2*e]=0,d[f+2*e+1]=0,d[f+3*e]=0,d[f+3*e+1]=0,f+=4*e)}},d.prototype.uploadAlpha=function(a,b,c,d,e,f){for(var g=0;c>g;g++){var h=a[b+g].alpha;d[f]=h,d[f+e]=h,d[f+2*e]=h,d[f+3*e]=h,f+=4*e}},d.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.apply(this,arguments),this.shader.destroy(),this.indices=null,this.tempMatrix=null}},{"../../math":32,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62,"./ParticleBuffer":39,"./ParticleShader":41}],41:[function(a,b,c){function d(a){e.call(this,a,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n"),{uAlpha:{type:"1f",value:1}},{aPositionCoord:0,aRotation:0})}var e=a("../../renderers/webgl/shaders/TextureShader");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d},{"../../renderers/webgl/shaders/TextureShader":61}],42:[function(a,b,c){function d(a,b,c,d){if(h.call(this),e.sayHello(a),d)for(var i in g.DEFAULT_RENDER_OPTIONS)"undefined"==typeof d[i]&&(d[i]=g.DEFAULT_RENDER_OPTIONS[i]);else d=g.DEFAULT_RENDER_OPTIONS;this.type=g.RENDERER_TYPE.UNKNOWN,this.width=b||800,this.height=c||600,this.view=d.view||document.createElement("canvas"),this.resolution=d.resolution,this.transparent=d.transparent,this.autoResize=d.autoResize||!1,this.blendModes=null,this.preserveDrawingBuffer=d.preserveDrawingBuffer,this.clearBeforeRender=d.clearBeforeRender,this._backgroundColor=0,this._backgroundColorRgb=[0,0,0],this._backgroundColorString="#000000",this.backgroundColor=d.backgroundColor||this._backgroundColor,this._tempDisplayObjectParent={worldTransform:new f.Matrix,worldAlpha:1,children:[]},this._lastObjectRendered=this._tempDisplayObjectParent}var e=a("../utils"),f=a("../math"),g=a("../const"),h=a("eventemitter3");d.prototype=Object.create(h.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{backgroundColor:{get:function(){return this._backgroundColor},set:function(a){this._backgroundColor=a,this._backgroundColorString=e.hex2string(a),e.hex2rgb(a,this._backgroundColorRgb)}}}),d.prototype.resize=function(a,b){this.width=a*this.resolution,this.height=b*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},d.prototype.destroy=function(a){a&&this.view.parent&&this.view.parent.removeChild(this.view),this.type=g.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,
this.clearBeforeRender=!1,this._backgroundColor=0,this._backgroundColorRgb=null,this._backgroundColorString=null}},{"../const":22,"../math":32,"../utils":76,eventemitter3:11}],43:[function(a,b,c){function d(a,b,c){e.call(this,"Canvas",a,b,c),this.type=i.RENDERER_TYPE.CANVAS,this.context=this.view.getContext("2d",{alpha:this.transparent}),this.refresh=!0,this.maskManager=new f,this.roundPixels=!1,this.currentScaleMode=i.SCALE_MODES.DEFAULT,this.currentBlendMode=i.BLEND_MODES.NORMAL,this.smoothProperty="imageSmoothingEnabled",this.context.imageSmoothingEnabled||(this.context.webkitImageSmoothingEnabled?this.smoothProperty="webkitImageSmoothingEnabled":this.context.mozImageSmoothingEnabled?this.smoothProperty="mozImageSmoothingEnabled":this.context.oImageSmoothingEnabled?this.smoothProperty="oImageSmoothingEnabled":this.context.msImageSmoothingEnabled&&(this.smoothProperty="msImageSmoothingEnabled")),this.initPlugins(),this._mapBlendModes(),this._tempDisplayObjectParent={worldTransform:new h.Matrix,worldAlpha:1},this.resize(a,b)}var e=a("../SystemRenderer"),f=a("./utils/CanvasMaskManager"),g=a("../../utils"),h=a("../../math"),i=a("../../const");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,g.pluginTarget.mixin(d),d.prototype.render=function(a){var b=a.parent;this._lastObjectRendered=a,a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=b,this.context.setTransform(1,0,0,1,0,0),this.context.globalAlpha=1,this.currentBlendMode=i.BLEND_MODES.NORMAL,this.context.globalCompositeOperation=this.blendModes[i.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(this.context.fillStyle="black",this.context.clear()),this.clearBeforeRender&&(this.transparent?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this._backgroundColorString,this.context.fillRect(0,0,this.width,this.height))),this.renderDisplayObject(a,this.context)},d.prototype.destroy=function(a){this.destroyPlugins(),e.prototype.destroy.call(this,a),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.roundPixels=!1,this.currentScaleMode=0,this.currentBlendMode=0,this.smoothProperty=null},d.prototype.renderDisplayObject=function(a,b){var c=this.context;this.context=b,a.renderCanvas(this),this.context=c},d.prototype.resize=function(a,b){e.prototype.resize.call(this,a,b),this.currentScaleMode=i.SCALE_MODES.DEFAULT,this.smoothProperty&&(this.context[this.smoothProperty]=this.currentScaleMode===i.SCALE_MODES.LINEAR)},d.prototype._mapBlendModes=function(){this.blendModes||(this.blendModes={},g.canUseNewCanvasBlendModes()?(this.blendModes[i.BLEND_MODES.NORMAL]="source-over",this.blendModes[i.BLEND_MODES.ADD]="lighter",this.blendModes[i.BLEND_MODES.MULTIPLY]="multiply",this.blendModes[i.BLEND_MODES.SCREEN]="screen",this.blendModes[i.BLEND_MODES.OVERLAY]="overlay",this.blendModes[i.BLEND_MODES.DARKEN]="darken",this.blendModes[i.BLEND_MODES.LIGHTEN]="lighten",this.blendModes[i.BLEND_MODES.COLOR_DODGE]="color-dodge",this.blendModes[i.BLEND_MODES.COLOR_BURN]="color-burn",this.blendModes[i.BLEND_MODES.HARD_LIGHT]="hard-light",this.blendModes[i.BLEND_MODES.SOFT_LIGHT]="soft-light",this.blendModes[i.BLEND_MODES.DIFFERENCE]="difference",this.blendModes[i.BLEND_MODES.EXCLUSION]="exclusion",this.blendModes[i.BLEND_MODES.HUE]="hue",this.blendModes[i.BLEND_MODES.SATURATION]="saturate",this.blendModes[i.BLEND_MODES.COLOR]="color",this.blendModes[i.BLEND_MODES.LUMINOSITY]="luminosity"):(this.blendModes[i.BLEND_MODES.NORMAL]="source-over",this.blendModes[i.BLEND_MODES.ADD]="lighter",this.blendModes[i.BLEND_MODES.MULTIPLY]="source-over",this.blendModes[i.BLEND_MODES.SCREEN]="source-over",this.blendModes[i.BLEND_MODES.OVERLAY]="source-over",this.blendModes[i.BLEND_MODES.DARKEN]="source-over",this.blendModes[i.BLEND_MODES.LIGHTEN]="source-over",this.blendModes[i.BLEND_MODES.COLOR_DODGE]="source-over",this.blendModes[i.BLEND_MODES.COLOR_BURN]="source-over",this.blendModes[i.BLEND_MODES.HARD_LIGHT]="source-over",this.blendModes[i.BLEND_MODES.SOFT_LIGHT]="source-over",this.blendModes[i.BLEND_MODES.DIFFERENCE]="source-over",this.blendModes[i.BLEND_MODES.EXCLUSION]="source-over",this.blendModes[i.BLEND_MODES.HUE]="source-over",this.blendModes[i.BLEND_MODES.SATURATION]="source-over",this.blendModes[i.BLEND_MODES.COLOR]="source-over",this.blendModes[i.BLEND_MODES.LUMINOSITY]="source-over"))}},{"../../const":22,"../../math":32,"../../utils":76,"../SystemRenderer":42,"./utils/CanvasMaskManager":46}],44:[function(a,b,c){function d(a,b){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.canvas.width=a,this.canvas.height=b}d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{width:{get:function(){return this.canvas.width},set:function(a){this.canvas.width=a}},height:{get:function(){return this.canvas.height},set:function(a){this.canvas.height=a}}}),d.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},d.prototype.resize=function(a,b){this.canvas.width=a,this.canvas.height=b},d.prototype.destroy=function(){this.context=null,this.canvas=null}},{}],45:[function(a,b,c){var d=a("../../../const"),e={};b.exports=e,e.renderGraphics=function(a,b){var c=a.worldAlpha;a.dirty&&(this.updateGraphicsTint(a),a.dirty=!1);for(var e=0;e<a.graphicsData.length;e++){var f=a.graphicsData[e],g=f.shape,h=f._fillTint,i=f._lineTint;if(b.lineWidth=f.lineWidth,f.type===d.SHAPES.POLY){b.beginPath();var j=g.points;b.moveTo(j[0],j[1]);for(var k=1;k<j.length/2;k++)b.lineTo(j[2*k],j[2*k+1]);g.closed&&b.lineTo(j[0],j[1]),j[0]===j[j.length-2]&&j[1]===j[j.length-1]&&b.closePath(),f.fill&&(b.globalAlpha=f.fillAlpha*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill()),f.lineWidth&&(b.globalAlpha=f.lineAlpha*c,b.strokeStyle="#"+("00000"+(0|i).toString(16)).substr(-6),b.stroke())}else if(f.type===d.SHAPES.RECT)(f.fillColor||0===f.fillColor)&&(b.globalAlpha=f.fillAlpha*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fillRect(g.x,g.y,g.width,g.height)),f.lineWidth&&(b.globalAlpha=f.lineAlpha*c,b.strokeStyle="#"+("00000"+(0|i).toString(16)).substr(-6),b.strokeRect(g.x,g.y,g.width,g.height));else if(f.type===d.SHAPES.CIRC)b.beginPath(),b.arc(g.x,g.y,g.radius,0,2*Math.PI),b.closePath(),f.fill&&(b.globalAlpha=f.fillAlpha*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill()),f.lineWidth&&(b.globalAlpha=f.lineAlpha*c,b.strokeStyle="#"+("00000"+(0|i).toString(16)).substr(-6),b.stroke());else if(f.type===d.SHAPES.ELIP){var l=2*g.width,m=2*g.height,n=g.x-l/2,o=g.y-m/2;b.beginPath();var p=.5522848,q=l/2*p,r=m/2*p,s=n+l,t=o+m,u=n+l/2,v=o+m/2;b.moveTo(n,v),b.bezierCurveTo(n,v-r,u-q,o,u,o),b.bezierCurveTo(u+q,o,s,v-r,s,v),b.bezierCurveTo(s,v+r,u+q,t,u,t),b.bezierCurveTo(u-q,t,n,v+r,n,v),b.closePath(),f.fill&&(b.globalAlpha=f.fillAlpha*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill()),f.lineWidth&&(b.globalAlpha=f.lineAlpha*c,b.strokeStyle="#"+("00000"+(0|i).toString(16)).substr(-6),b.stroke())}else if(f.type===d.SHAPES.RREC){var w=g.x,x=g.y,y=g.width,z=g.height,A=g.radius,B=Math.min(y,z)/2|0;A=A>B?B:A,b.beginPath(),b.moveTo(w,x+A),b.lineTo(w,x+z-A),b.quadraticCurveTo(w,x+z,w+A,x+z),b.lineTo(w+y-A,x+z),b.quadraticCurveTo(w+y,x+z,w+y,x+z-A),b.lineTo(w+y,x+A),b.quadraticCurveTo(w+y,x,w+y-A,x),b.lineTo(w+A,x),b.quadraticCurveTo(w,x,w,x+A),b.closePath(),(f.fillColor||0===f.fillColor)&&(b.globalAlpha=f.fillAlpha*c,b.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),b.fill()),f.lineWidth&&(b.globalAlpha=f.lineAlpha*c,b.strokeStyle="#"+("00000"+(0|i).toString(16)).substr(-6),b.stroke())}}},e.renderGraphicsMask=function(a,b){var c=a.graphicsData.length;if(0!==c){b.beginPath();for(var e=0;c>e;e++){var f=a.graphicsData[e],g=f.shape;if(f.type===d.SHAPES.POLY){var h=g.points;b.moveTo(h[0],h[1]);for(var i=1;i<h.length/2;i++)b.lineTo(h[2*i],h[2*i+1]);h[0]===h[h.length-2]&&h[1]===h[h.length-1]&&b.closePath()}else if(f.type===d.SHAPES.RECT)b.rect(g.x,g.y,g.width,g.height),b.closePath();else if(f.type===d.SHAPES.CIRC)b.arc(g.x,g.y,g.radius,0,2*Math.PI),b.closePath();else if(f.type===d.SHAPES.ELIP){var j=2*g.width,k=2*g.height,l=g.x-j/2,m=g.y-k/2,n=.5522848,o=j/2*n,p=k/2*n,q=l+j,r=m+k,s=l+j/2,t=m+k/2;b.moveTo(l,t),b.bezierCurveTo(l,t-p,s-o,m,s,m),b.bezierCurveTo(s+o,m,q,t-p,q,t),b.bezierCurveTo(q,t+p,s+o,r,s,r),b.bezierCurveTo(s-o,r,l,t+p,l,t),b.closePath()}else if(f.type===d.SHAPES.RREC){var u=g.x,v=g.y,w=g.width,x=g.height,y=g.radius,z=Math.min(w,x)/2|0;y=y>z?z:y,b.moveTo(u,v+y),b.lineTo(u,v+x-y),b.quadraticCurveTo(u,v+x,u+y,v+x),b.lineTo(u+w-y,v+x),b.quadraticCurveTo(u+w,v+x,u+w,v+x-y),b.lineTo(u+w,v+y),b.quadraticCurveTo(u+w,v,u+w-y,v),b.lineTo(u+y,v),b.quadraticCurveTo(u,v,u,v+y),b.closePath()}}}},e.updateGraphicsTint=function(a){if(16777215!==a.tint)for(var b=(a.tint>>16&255)/255,c=(a.tint>>8&255)/255,d=(255&a.tint)/255,e=0;e<a.graphicsData.length;e++){var f=a.graphicsData[e],g=0|f.fillColor,h=0|f.lineColor;f._fillTint=((g>>16&255)/255*b*255<<16)+((g>>8&255)/255*c*255<<8)+(255&g)/255*d*255,f._lineTint=((h>>16&255)/255*b*255<<16)+((h>>8&255)/255*c*255<<8)+(255&h)/255*d*255}}},{"../../../const":22}],46:[function(a,b,c){function d(){}var e=a("./CanvasGraphics");d.prototype.constructor=d,b.exports=d,d.prototype.pushMask=function(a,b){b.context.save();var c=a.alpha,d=a.worldTransform,f=b.resolution;b.context.setTransform(d.a*f,d.b*f,d.c*f,d.d*f,d.tx*f,d.ty*f),a.texture||(e.renderGraphicsMask(a,b.context),b.context.clip()),a.worldAlpha=c},d.prototype.popMask=function(a){a.context.restore()},d.prototype.destroy=function(){}},{"./CanvasGraphics":45}],47:[function(a,b,c){var d=a("../../../utils"),e={};b.exports=e,e.getTintedTexture=function(a,b){var c=a.texture;b=e.roundColor(b);var d="#"+("00000"+(0|b).toString(16)).substr(-6);if(c.tintCache=c.tintCache||{},c.tintCache[d])return c.tintCache[d];var f=e.canvas||document.createElement("canvas");if(e.tintMethod(c,b,f),e.convertTintToImage){var g=new Image;g.src=f.toDataURL(),c.tintCache[d]=g}else c.tintCache[d]=f,e.canvas=null;return f},e.tintWithMultiply=function(a,b,c){var d=c.getContext("2d"),e=a.crop;c.width=e.width,c.height=e.height,d.fillStyle="#"+("00000"+(0|b).toString(16)).substr(-6),d.fillRect(0,0,e.width,e.height),d.globalCompositeOperation="multiply",d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height),d.globalCompositeOperation="destination-atop",d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height)},e.tintWithOverlay=function(a,b,c){var d=c.getContext("2d"),e=a.crop;c.width=e.width,c.height=e.height,d.globalCompositeOperation="copy",d.fillStyle="#"+("00000"+(0|b).toString(16)).substr(-6),d.fillRect(0,0,e.width,e.height),d.globalCompositeOperation="destination-atop",d.drawImage(a.baseTexture.source,e.x,e.y,e.width,e.height,0,0,e.width,e.height)},e.tintWithPerPixel=function(a,b,c){var e=c.getContext("2d"),f=a.crop;c.width=f.width,c.height=f.height,e.globalCompositeOperation="copy",e.drawImage(a.baseTexture.source,f.x,f.y,f.width,f.height,0,0,f.width,f.height);for(var g=d.hex2rgb(b),h=g[0],i=g[1],j=g[2],k=e.getImageData(0,0,f.width,f.height),l=k.data,m=0;m<l.length;m+=4)l[m+0]*=h,l[m+1]*=i,l[m+2]*=j;e.putImageData(k,0,0)},e.roundColor=function(a){var b=e.cacheStepsPerColorChannel,c=d.hex2rgb(a);return c[0]=Math.min(255,c[0]/b*b),c[1]=Math.min(255,c[1]/b*b),c[2]=Math.min(255,c[2]/b*b),d.rgb2hex(c)},e.cacheStepsPerColorChannel=8,e.convertTintToImage=!1,e.canUseMultiply=d.canUseNewCanvasBlendModes(),e.tintMethod=e.canUseMultiply?e.tintWithMultiply:e.tintWithPerPixel},{"../../../utils":76}],48:[function(a,b,c){function d(a,b,c){c=c||{},e.call(this,"WebGL",a,b,c),this.type=o.RENDERER_TYPE.WEBGL,this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),this.view.addEventListener("webglcontextlost",this.handleContextLost,!1),this.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1),this._useFXAA=!!c.forceFXAA&&c.antialias,this._FXAAFilter=null,this._contextOptions={alpha:this.transparent,antialias:c.antialias,premultipliedAlpha:this.transparent&&"notMultiplied"!==this.transparent,stencil:!0,preserveDrawingBuffer:c.preserveDrawingBuffer},this.drawCount=0,this.shaderManager=new f(this),this.maskManager=new g(this),this.stencilManager=new h(this),this.filterManager=new i(this),this.blendModeManager=new j(this),this.currentRenderTarget=null,this.currentRenderer=new l(this),this.initPlugins(),this._createContext(),this._initContext(),this._mapGlModes(),this._renderTargetStack=[]}var e=a("../SystemRenderer"),f=a("./managers/ShaderManager"),g=a("./managers/MaskManager"),h=a("./managers/StencilManager"),i=a("./managers/FilterManager"),j=a("./managers/BlendModeManager"),k=a("./utils/RenderTarget"),l=a("./utils/ObjectRenderer"),m=a("./filters/FXAAFilter"),n=a("../../utils"),o=a("../../const");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,n.pluginTarget.mixin(d),d.glContextId=0,d.prototype._createContext=function(){var a=this.view.getContext("webgl",this._contextOptions)||this.view.getContext("experimental-webgl",this._contextOptions);if(this.gl=a,!a)throw new Error("This browser does not support webGL. Try using the canvas renderer");this.glContextId=d.glContextId++,a.id=this.glContextId,a.renderer=this},d.prototype._initContext=function(){var a=this.gl;a.disable(a.DEPTH_TEST),a.disable(a.CULL_FACE),a.enable(a.BLEND),this.renderTarget=new k(a,this.width,this.height,null,this.resolution,!0),this.setRenderTarget(this.renderTarget),this.emit("context",a),this.resize(this.width,this.height),this._useFXAA||(this._useFXAA=this._contextOptions.antialias&&!a.getContextAttributes().antialias),this._useFXAA&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this._FXAAFilter=[new m])},d.prototype.render=function(a){if(!this.gl.isContextLost()){this.drawCount=0,this._lastObjectRendered=a,this._useFXAA&&(this._FXAAFilter[0].uniforms.resolution.value.x=this.width,this._FXAAFilter[0].uniforms.resolution.value.y=this.height,a.filterArea=this.renderTarget.size,a.filters=this._FXAAFilter);var b=a.parent;a.parent=this._tempDisplayObjectParent,a.updateTransform(),a.parent=b;var c=this.gl;this.setRenderTarget(this.renderTarget),this.clearBeforeRender&&(this.transparent?c.clearColor(0,0,0,0):c.clearColor(this._backgroundColorRgb[0],this._backgroundColorRgb[1],this._backgroundColorRgb[2],1),c.clear(c.COLOR_BUFFER_BIT)),this.renderDisplayObject(a,this.renderTarget)}},d.prototype.renderDisplayObject=function(a,b,c){this.setRenderTarget(b),c&&b.clear(),this.filterManager.setFilterStack(b.filterStack),a.renderWebGL(this),this.currentRenderer.flush()},d.prototype.setObjectRenderer=function(a){this.currentRenderer!==a&&(this.currentRenderer.stop(),this.currentRenderer=a,this.currentRenderer.start())},d.prototype.setRenderTarget=function(a){this.currentRenderTarget!==a&&(this.currentRenderTarget=a,this.currentRenderTarget.activate(),this.stencilManager.setMaskStack(a.stencilMaskStack))},d.prototype.resize=function(a,b){e.prototype.resize.call(this,a,b),this.filterManager.resize(a,b),this.renderTarget.resize(a,b),this.currentRenderTarget===this.renderTarget&&(this.renderTarget.activate(),this.gl.viewport(0,0,this.width,this.height))},d.prototype.updateTexture=function(a){if(a=a.baseTexture||a,a.hasLoaded){var b=this.gl;return a._glTextures[b.id]||(a._glTextures[b.id]=b.createTexture(),a.on("update",this.updateTexture,this),a.on("dispose",this.destroyTexture,this)),b.bindTexture(b.TEXTURE_2D,a._glTextures[b.id]),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,a.premultipliedAlpha),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,a.source),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a.scaleMode===o.SCALE_MODES.LINEAR?b.LINEAR:b.NEAREST),a.mipmap&&a.isPowerOfTwo?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a.scaleMode===o.SCALE_MODES.LINEAR?b.LINEAR_MIPMAP_LINEAR:b.NEAREST_MIPMAP_NEAREST),b.generateMipmap(b.TEXTURE_2D)):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a.scaleMode===o.SCALE_MODES.LINEAR?b.LINEAR:b.NEAREST),a.isPowerOfTwo?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE)),a._glTextures[b.id]}},d.prototype.destroyTexture=function(a){a=a.baseTexture||a,a.hasLoaded&&a._glTextures[this.gl.id]&&this.gl.deleteTexture(a._glTextures[this.gl.id])},d.prototype.handleContextLost=function(a){a.preventDefault()},d.prototype.handleContextRestored=function(){this._initContext();for(var a in n.BaseTextureCache)n.BaseTextureCache[a]._glTextures.length=0},d.prototype.destroy=function(a){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),e.prototype.destroy.call(this,a),this.uid=0,this.shaderManager.destroy(),this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.shaderManager=null,this.maskManager=null,this.filterManager=null,this.blendModeManager=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.drawCount=0,this.gl=null},d.prototype._mapGlModes=function(){var a=this.gl;this.blendModes||(this.blendModes={},this.blendModes[o.BLEND_MODES.NORMAL]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.ADD]=[a.SRC_ALPHA,a.DST_ALPHA],this.blendModes[o.BLEND_MODES.MULTIPLY]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.SCREEN]=[a.SRC_ALPHA,a.ONE],this.blendModes[o.BLEND_MODES.OVERLAY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.DARKEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.LIGHTEN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.COLOR_DODGE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.COLOR_BURN]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.HARD_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.SOFT_LIGHT]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.DIFFERENCE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.EXCLUSION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.HUE]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.SATURATION]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.COLOR]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.blendModes[o.BLEND_MODES.LUMINOSITY]=[a.ONE,a.ONE_MINUS_SRC_ALPHA]),this.drawModes||(this.drawModes={},this.drawModes[o.DRAW_MODES.POINTS]=a.POINTS,this.drawModes[o.DRAW_MODES.LINES]=a.LINES,this.drawModes[o.DRAW_MODES.LINE_LOOP]=a.LINE_LOOP,this.drawModes[o.DRAW_MODES.LINE_STRIP]=a.LINE_STRIP,this.drawModes[o.DRAW_MODES.TRIANGLES]=a.TRIANGLES,this.drawModes[o.DRAW_MODES.TRIANGLE_STRIP]=a.TRIANGLE_STRIP,this.drawModes[o.DRAW_MODES.TRIANGLE_FAN]=a.TRIANGLE_FAN)}},{"../../const":22,"../../utils":76,"../SystemRenderer":42,"./filters/FXAAFilter":50,"./managers/BlendModeManager":52,"./managers/FilterManager":53,"./managers/MaskManager":54,"./managers/ShaderManager":55,"./managers/StencilManager":56,"./utils/ObjectRenderer":62,"./utils/RenderTarget":64}],49:[function(a,b,c){function d(a,b,c){this.shaders=[],this.padding=0,this.uniforms=c||{},this.vertexSrc=a||e.defaultVertexSrc,this.fragmentSrc=b||e.defaultFragmentSrc}var e=a("../shaders/TextureShader");d.prototype.constructor=d,b.exports=d,d.prototype.getShader=function(a){var b=a.gl,c=this.shaders[b.id];return c||(c=new e(a.shaderManager,this.vertexSrc,this.fragmentSrc,this.uniforms,this.attributes),this.shaders[b.id]=c),c},d.prototype.applyFilter=function(a,b,c,d){var e=this.getShader(a);a.filterManager.applyFilter(e,b,c,d)},d.prototype.syncUniform=function(a){for(var b=0,c=this.shaders.length;c>b;++b)this.shaders[b].syncUniform(a)}},{"../shaders/TextureShader":61}],50:[function(a,b,c){function d(){e.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',{resolution:{type:"v2",value:{x:1,y:1}}})}var e=a("./AbstractFilter");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager,e=this.getShader(a);d.applyFilter(e,b,c)}},{"./AbstractFilter":49}],51:[function(a,b,c){function d(a){var b=new f.Matrix;e.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",{mask:{type:"sampler2D",value:a._texture},alpha:{type:"f",value:1},otherMatrix:{type:"mat3",value:b.toArray(!0)}}),this.maskSprite=a,this.maskMatrix=b}var e=a("./AbstractFilter"),f=a("../../../math");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager;this.uniforms.mask.value=this.maskSprite._texture,d.calculateMappedMatrix(b.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.alpha.value=this.maskSprite.worldAlpha;var e=this.getShader(a);d.applyFilter(e,b,c)},Object.defineProperties(d.prototype,{map:{get:function(){return this.uniforms.mask.value},set:function(a){this.uniforms.mask.value=a}},offset:{get:function(){return this.uniforms.offset.value},set:function(a){this.uniforms.offset.value=a}}})},{"../../../math":32,"./AbstractFilter":49}],52:[function(a,b,c){function d(a){e.call(this,a),this.currentBlendMode=99999}var e=a("./WebGLManager");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.setBlendMode=function(a){if(this.currentBlendMode===a)return!1;this.currentBlendMode=a;var b=this.renderer.blendModes[this.currentBlendMode];return this.renderer.gl.blendFunc(b[0],b[1]),!0}},{"./WebGLManager":57}],53:[function(a,b,c){function d(a){e.call(this,a),this.filterStack=[],this.filterStack.push({renderTarget:a.currentRenderTarget,filter:[],bounds:null}),this.texturePool=[],this.textureSize=new i.Rectangle(0,0,a.width,a.height),this.currentFrame=null}var e=a("./WebGLManager"),f=a("../utils/RenderTarget"),g=a("../../../const"),h=a("../utils/Quad"),i=a("../../../math");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.onContextChange=function(){this.texturePool.length=0;var a=this.renderer.gl;this.quad=new h(a)},d.prototype.setFilterStack=function(a){this.filterStack=a},d.prototype.pushFilter=function(a,b){var c=a.filterArea?a.filterArea.clone():a.getBounds();c.x=0|c.x,c.y=0|c.y,c.width=0|c.width,c.height=0|c.height;var d=0|b[0].padding;if(c.x-=d,c.y-=d,c.width+=2*d,c.height+=2*d,this.renderer.currentRenderTarget.transform){var e=this.renderer.currentRenderTarget.transform;c.x+=e.tx,c.y+=e.ty,this.capFilterArea(c),c.x-=e.tx,c.y-=e.ty}else this.capFilterArea(c);if(c.width>0&&c.height>0){this.currentFrame=c;var f=this.getRenderTarget();this.renderer.setRenderTarget(f),f.clear(),this.filterStack.push({renderTarget:f,filter:b})}else this.filterStack.push({renderTarget:null,filter:b})},d.prototype.popFilter=function(){var a=this.filterStack.pop(),b=this.filterStack[this.filterStack.length-1],c=a.renderTarget;if(a.renderTarget){var d=b.renderTarget,e=this.renderer.gl;this.currentFrame=c.frame,this.quad.map(this.textureSize,c.frame),e.bindBuffer(e.ARRAY_BUFFER,this.quad.vertexBuffer),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.quad.indexBuffer);var f=a.filter;if(e.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aVertexPosition,2,e.FLOAT,!1,0,0),e.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aTextureCoord,2,e.FLOAT,!1,0,32),e.vertexAttribPointer(this.renderer.shaderManager.defaultShader.attributes.aColor,4,e.FLOAT,!1,0,64),this.renderer.blendModeManager.setBlendMode(g.BLEND_MODES.NORMAL),1===f.length)f[0].uniforms.dimensions&&(f[0].uniforms.dimensions.value[0]=this.renderer.width,f[0].uniforms.dimensions.value[1]=this.renderer.height,f[0].uniforms.dimensions.value[2]=this.quad.vertices[0],f[0].uniforms.dimensions.value[3]=this.quad.vertices[5]),f[0].applyFilter(this.renderer,c,d),this.returnRenderTarget(c);else{for(var h=c,i=this.getRenderTarget(!0),j=0;j<f.length-1;j++){var k=f[j];k.uniforms.dimensions&&(k.uniforms.dimensions.value[0]=this.renderer.width,k.uniforms.dimensions.value[1]=this.renderer.height,k.uniforms.dimensions.value[2]=this.quad.vertices[0],k.uniforms.dimensions.value[3]=this.quad.vertices[5]),k.applyFilter(this.renderer,h,i);var l=h;h=i,i=l}f[f.length-1].applyFilter(this.renderer,h,d),this.returnRenderTarget(h),this.returnRenderTarget(i)}return a.filter}},d.prototype.getRenderTarget=function(a){var b=this.texturePool.pop()||new f(this.renderer.gl,this.textureSize.width,this.textureSize.height,g.SCALE_MODES.LINEAR,this.renderer.resolution*g.FILTER_RESOLUTION);return b.frame=this.currentFrame,a&&b.clear(!0),b},d.prototype.returnRenderTarget=function(a){this.texturePool.push(a)},d.prototype.applyFilter=function(a,b,c,d){var e=this.renderer.gl;this.renderer.setRenderTarget(c),d&&c.clear(),this.renderer.shaderManager.setShader(a),a.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),
a.syncUniforms(),e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,b.texture),e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)},d.prototype.calculateMappedMatrix=function(a,b,c){var d=b.worldTransform.copy(i.Matrix.TEMP_MATRIX),e=b._texture.baseTexture,f=c.identity(),g=this.textureSize.height/this.textureSize.width;f.translate(a.x/this.textureSize.width,a.y/this.textureSize.height),f.scale(1,g);var h=this.textureSize.width/e.width,j=this.textureSize.height/e.height;return d.tx/=e.width*h,d.ty/=e.width*h,d.invert(),f.prepend(d),f.scale(1,1/g),f.scale(h,j),f.translate(b.anchor.x,b.anchor.y),f},d.prototype.capFilterArea=function(a){a.x<0&&(a.width+=a.x,a.x=0),a.y<0&&(a.height+=a.y,a.y=0),a.x+a.width>this.textureSize.width&&(a.width=this.textureSize.width-a.x),a.y+a.height>this.textureSize.height&&(a.height=this.textureSize.height-a.y)},d.prototype.resize=function(a,b){this.textureSize.width=a,this.textureSize.height=b;for(var c=0;c<this.texturePool.length;c++)this.texturePool[c].resize(a,b)},d.prototype.destroy=function(){this.filterStack=null,this.offsetY=0;for(var a=0;a<this.texturePool.length;a++)this.texturePool[a].destroy();this.texturePool=null}},{"../../../const":22,"../../../math":32,"../utils/Quad":63,"../utils/RenderTarget":64,"./WebGLManager":57}],54:[function(a,b,c){function d(a){e.call(this,a),this.stencilStack=[],this.reverse=!0,this.count=0,this.alphaMaskPool=[]}var e=a("./WebGLManager"),f=a("../filters/SpriteMaskFilter");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.pushMask=function(a,b){b.texture?this.pushSpriteMask(a,b):this.pushStencilMask(a,b)},d.prototype.popMask=function(a,b){b.texture?this.popSpriteMask(a,b):this.popStencilMask(a,b)},d.prototype.pushSpriteMask=function(a,b){var c=this.alphaMaskPool.pop();c||(c=[new f(b)]),c[0].maskSprite=b,this.renderer.filterManager.pushFilter(a,c)},d.prototype.popSpriteMask=function(){var a=this.renderer.filterManager.popFilter();this.alphaMaskPool.push(a)},d.prototype.pushStencilMask=function(a,b){this.renderer.stencilManager.pushMask(b)},d.prototype.popStencilMask=function(a,b){this.renderer.stencilManager.popMask(b)}},{"../filters/SpriteMaskFilter":51,"./WebGLManager":57}],55:[function(a,b,c){function d(a){e.call(this,a),this.maxAttibs=10,this.attribState=[],this.tempAttribState=[];for(var b=0;b<this.maxAttibs;b++)this.attribState[b]=!1;this.stack=[],this._currentId=-1,this.currentShader=null}var e=a("./WebGLManager"),f=a("../shaders/TextureShader"),g=a("../shaders/ComplexPrimitiveShader"),h=a("../shaders/PrimitiveShader"),i=a("../../../utils");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,i.pluginTarget.mixin(d),b.exports=d,d.prototype.onContextChange=function(){this.initPlugins();var a=this.renderer.gl;this.maxAttibs=a.getParameter(a.MAX_VERTEX_ATTRIBS),this.attribState=[];for(var b=0;b<this.maxAttibs;b++)this.attribState[b]=!1;this.defaultShader=new f(this),this.primitiveShader=new h(this),this.complexPrimitiveShader=new g(this)},d.prototype.setAttribs=function(a){var b;for(b=0;b<this.tempAttribState.length;b++)this.tempAttribState[b]=!1;for(var c in a)this.tempAttribState[a[c]]=!0;var d=this.renderer.gl;for(b=0;b<this.attribState.length;b++)this.attribState[b]!==this.tempAttribState[b]&&(this.attribState[b]=this.tempAttribState[b],this.attribState[b]?d.enableVertexAttribArray(b):d.disableVertexAttribArray(b))},d.prototype.setShader=function(a){return this._currentId===a.uid?!1:(this._currentId=a.uid,this.currentShader=a,this.renderer.gl.useProgram(a.program),this.setAttribs(a.attributes),!0)},d.prototype.destroy=function(){e.prototype.destroy.call(this),this.destroyPlugins(),this.attribState=null,this.tempAttribState=null}},{"../../../utils":76,"../shaders/ComplexPrimitiveShader":58,"../shaders/PrimitiveShader":59,"../shaders/TextureShader":61,"./WebGLManager":57}],56:[function(a,b,c){function d(a){e.call(this,a),this.stencilMaskStack=null}var e=a("./WebGLManager"),f=a("../../../utils");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.setMaskStack=function(a){this.stencilMaskStack=a;var b=this.renderer.gl;0===a.stencilStack.length?b.disable(b.STENCIL_TEST):b.enable(b.STENCIL_TEST)},d.prototype.pushStencil=function(a,b){this.renderer.currentRenderTarget.attachStencilBuffer();var c=this.renderer.gl,d=this.stencilMaskStack;this.bindGraphics(a,b,this.renderer),0===d.stencilStack.length&&(c.enable(c.STENCIL_TEST),c.clear(c.STENCIL_BUFFER_BIT),d.reverse=!0,d.count=0),d.stencilStack.push(b);var e=d.count;c.colorMask(!1,!1,!1,!1),c.stencilFunc(c.ALWAYS,0,255),c.stencilOp(c.KEEP,c.KEEP,c.INVERT),1===b.mode?(c.drawElements(c.TRIANGLE_FAN,b.indices.length-4,c.UNSIGNED_SHORT,0),d.reverse?(c.stencilFunc(c.EQUAL,255-e,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)):(c.stencilFunc(c.EQUAL,e,255),c.stencilOp(c.KEEP,c.KEEP,c.INCR)),c.drawElements(c.TRIANGLE_FAN,4,c.UNSIGNED_SHORT,2*(b.indices.length-4)),d.reverse?c.stencilFunc(c.EQUAL,255-(e+1),255):c.stencilFunc(c.EQUAL,e+1,255),d.reverse=!d.reverse):(d.reverse?(c.stencilFunc(c.EQUAL,e,255),c.stencilOp(c.KEEP,c.KEEP,c.INCR)):(c.stencilFunc(c.EQUAL,255-e,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)),c.drawElements(c.TRIANGLE_STRIP,b.indices.length,c.UNSIGNED_SHORT,0),d.reverse?c.stencilFunc(c.EQUAL,e+1,255):c.stencilFunc(c.EQUAL,255-(e+1),255)),c.colorMask(!0,!0,!0,!0),c.stencilOp(c.KEEP,c.KEEP,c.KEEP),d.count++},d.prototype.bindGraphics=function(a,b){this._currentGraphics=a;var c,d=this.renderer.gl;1===b.mode?(c=this.renderer.shaderManager.complexPrimitiveShader,this.renderer.shaderManager.setShader(c),d.uniformMatrix3fv(c.uniforms.translationMatrix._location,!1,a.worldTransform.toArray(!0)),d.uniformMatrix3fv(c.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),d.uniform3fv(c.uniforms.tint._location,f.hex2rgb(a.tint)),d.uniform3fv(c.uniforms.color._location,b.color),d.uniform1f(c.uniforms.alpha._location,a.worldAlpha),d.bindBuffer(d.ARRAY_BUFFER,b.buffer),d.vertexAttribPointer(c.attributes.aVertexPosition,2,d.FLOAT,!1,8,0),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,b.indexBuffer)):(c=this.renderer.shaderManager.primitiveShader,this.renderer.shaderManager.setShader(c),d.uniformMatrix3fv(c.uniforms.translationMatrix._location,!1,a.worldTransform.toArray(!0)),d.uniformMatrix3fv(c.uniforms.projectionMatrix._location,!1,this.renderer.currentRenderTarget.projectionMatrix.toArray(!0)),d.uniform3fv(c.uniforms.tint._location,f.hex2rgb(a.tint)),d.uniform1f(c.uniforms.alpha._location,a.worldAlpha),d.bindBuffer(d.ARRAY_BUFFER,b.buffer),d.vertexAttribPointer(c.attributes.aVertexPosition,2,d.FLOAT,!1,24,0),d.vertexAttribPointer(c.attributes.aColor,4,d.FLOAT,!1,24,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,b.indexBuffer))},d.prototype.popStencil=function(a,b){var c=this.renderer.gl,d=this.stencilMaskStack;if(d.stencilStack.pop(),d.count--,0===d.stencilStack.length)c.disable(c.STENCIL_TEST);else{var e=d.count;this.bindGraphics(a,b,this.renderer),c.colorMask(!1,!1,!1,!1),1===b.mode?(d.reverse=!d.reverse,d.reverse?(c.stencilFunc(c.EQUAL,255-(e+1),255),c.stencilOp(c.KEEP,c.KEEP,c.INCR)):(c.stencilFunc(c.EQUAL,e+1,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)),c.drawElements(c.TRIANGLE_FAN,4,c.UNSIGNED_SHORT,2*(b.indices.length-4)),c.stencilFunc(c.ALWAYS,0,255),c.stencilOp(c.KEEP,c.KEEP,c.INVERT),c.drawElements(c.TRIANGLE_FAN,b.indices.length-4,c.UNSIGNED_SHORT,0),d.reverse?c.stencilFunc(c.EQUAL,e,255):c.stencilFunc(c.EQUAL,255-e,255)):(d.reverse?(c.stencilFunc(c.EQUAL,e+1,255),c.stencilOp(c.KEEP,c.KEEP,c.DECR)):(c.stencilFunc(c.EQUAL,255-(e+1),255),c.stencilOp(c.KEEP,c.KEEP,c.INCR)),c.drawElements(c.TRIANGLE_STRIP,b.indices.length,c.UNSIGNED_SHORT,0),d.reverse?c.stencilFunc(c.EQUAL,e,255):c.stencilFunc(c.EQUAL,255-e,255)),c.colorMask(!0,!0,!0,!0),c.stencilOp(c.KEEP,c.KEEP,c.KEEP)}},d.prototype.destroy=function(){e.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},d.prototype.pushMask=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),a.dirty&&this.renderer.plugins.graphics.updateGraphics(a,this.renderer.gl),a._webGL[this.renderer.gl.id].data.length&&this.pushStencil(a,a._webGL[this.renderer.gl.id].data[0],this.renderer)},d.prototype.popMask=function(a){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.popStencil(a,a._webGL[this.renderer.gl.id].data[0],this.renderer)}},{"../../../utils":76,"./WebGLManager":57}],57:[function(a,b,c){function d(a){this.renderer=a,this.renderer.on("context",this.onContextChange,this)}d.prototype.constructor=d,b.exports=d,d.prototype.onContextChange=function(){},d.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null}},{}],58:[function(a,b,c){function d(a){e.call(this,a,["attribute vec2 aVertexPosition;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform vec3 tint;","uniform float alpha;","uniform vec3 color;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = vec4(color * alpha * tint, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0})}var e=a("./Shader");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d},{"./Shader":60}],59:[function(a,b,c){function d(a){e.call(this,a,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform float flipY;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["precision mediump float;","varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n"),{tint:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aColor:0})}var e=a("./Shader");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d},{"./Shader":60}],60:[function(a,b,c){function d(a,b,c,d,f){if(!b||!c)throw new Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=e.uid(),this.gl=a.renderer.gl,this.shaderManager=a,this.program=null,this.uniforms=d||{},this.attributes=f||{},this.textureCount=1,this.vertexSrc=b,this.fragmentSrc=c,this.init()}var e=a("../../../utils");d.prototype.constructor=d,b.exports=d,d.prototype.init=function(){this.compile(),this.gl.useProgram(this.program),this.cacheUniformLocations(Object.keys(this.uniforms)),this.cacheAttributeLocations(Object.keys(this.attributes))},d.prototype.cacheUniformLocations=function(a){for(var b=0;b<a.length;++b)this.uniforms[a[b]]._location=this.gl.getUniformLocation(this.program,a[b])},d.prototype.cacheAttributeLocations=function(a){for(var b=0;b<a.length;++b)this.attributes[a[b]]=this.gl.getAttribLocation(this.program,a[b])},d.prototype.compile=function(){var a=this.gl,b=this._glCompile(a.VERTEX_SHADER,this.vertexSrc),c=this._glCompile(a.FRAGMENT_SHADER,this.fragmentSrc),d=a.createProgram();return a.attachShader(d,b),a.attachShader(d,c),a.linkProgram(d),a.getProgramParameter(d,a.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",a.getProgramParameter(d,a.VALIDATE_STATUS)),console.error("gl.getError()",a.getError()),""!==a.getProgramInfoLog(d)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",a.getProgramInfoLog(d)),a.deleteProgram(d),d=null),a.deleteShader(b),a.deleteShader(c),this.program=d},d.prototype.syncUniform=function(a){var b,c,d=a._location,f=a.value,g=this.gl;switch(a.type){case"b":case"bool":case"boolean":g.uniform1i(d,f?1:0);break;case"i":case"1i":g.uniform1i(d,f);break;case"f":case"1f":g.uniform1f(d,f);break;case"2f":g.uniform2f(d,f[0],f[1]);break;case"3f":g.uniform3f(d,f[0],f[1],f[2]);break;case"4f":g.uniform4f(d,f[0],f[1],f[2],f[3]);break;case"v2":g.uniform2f(d,f.x,f.y);break;case"v3":g.uniform3f(d,f.x,f.y,f.z);break;case"v4":g.uniform4f(d,f.x,f.y,f.z,f.w);break;case"1iv":g.uniform1iv(d,f);break;case"2iv":g.uniform2iv(d,f);break;case"3iv":g.uniform3iv(d,f);break;case"4iv":g.uniform4iv(d,f);break;case"1fv":g.uniform1fv(d,f);break;case"2fv":g.uniform2fv(d,f);break;case"3fv":g.uniform3fv(d,f);break;case"4fv":g.uniform4fv(d,f);break;case"m2":case"mat2":case"Matrix2fv":g.uniformMatrix2fv(d,a.transpose,f);break;case"m3":case"mat3":case"Matrix3fv":g.uniformMatrix3fv(d,a.transpose,f);break;case"m4":case"mat4":case"Matrix4fv":g.uniformMatrix4fv(d,a.transpose,f);break;case"c":"number"==typeof f&&(f=e.hex2rgb(f)),g.uniform3f(d,f[0],f[1],f[2]);break;case"iv1":g.uniform1iv(d,f);break;case"iv":g.uniform3iv(d,f);break;case"fv1":g.uniform1fv(d,f);break;case"fv":g.uniform3fv(d,f);break;case"v2v":for(a._array||(a._array=new Float32Array(2*f.length)),b=0,c=f.length;c>b;++b)a._array[2*b]=f[b].x,a._array[2*b+1]=f[b].y;g.uniform2fv(d,a._array);break;case"v3v":for(a._array||(a._array=new Float32Array(3*f.length)),b=0,c=f.length;c>b;++b)a._array[3*b]=f[b].x,a._array[3*b+1]=f[b].y,a._array[3*b+2]=f[b].z;g.uniform3fv(d,a._array);break;case"v4v":for(a._array||(a._array=new Float32Array(4*f.length)),b=0,c=f.length;c>b;++b)a._array[4*b]=f[b].x,a._array[4*b+1]=f[b].y,a._array[4*b+2]=f[b].z,a._array[4*b+3]=f[b].w;g.uniform4fv(d,a._array);break;case"t":case"sampler2D":if(!a.value||!a.value.baseTexture.hasLoaded)break;g.activeTexture(g["TEXTURE"+this.textureCount]);var h=a.value.baseTexture._glTextures[g.id];h||(this.initSampler2D(a),h=a.value.baseTexture._glTextures[g.id]),g.bindTexture(g.TEXTURE_2D,h),g.uniform1i(a._location,this.textureCount),this.textureCount++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+a.type)}},d.prototype.syncUniforms=function(){this.textureCount=1;for(var a in this.uniforms)this.syncUniform(this.uniforms[a])},d.prototype.initSampler2D=function(a){var b=this.gl,c=a.value.baseTexture;if(c.hasLoaded)if(a.textureData){var d=a.textureData;c._glTextures[b.id]=b.createTexture(),b.bindTexture(b.TEXTURE_2D,c._glTextures[b.id]),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,c.premultipliedAlpha),b.texImage2D(b.TEXTURE_2D,0,d.luminance?b.LUMINANCE:b.RGBA,b.RGBA,b.UNSIGNED_BYTE,c.source),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,d.magFilter?d.magFilter:b.LINEAR),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,d.wrapS?d.wrapS:b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,d.wrapS?d.wrapS:b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,d.wrapT?d.wrapT:b.CLAMP_TO_EDGE)}else this.shaderManager.renderer.updateTexture(c)},d.prototype.destroy=function(){this.gl.deleteProgram(this.program),this.gl=null,this.uniforms=null,this.attributes=null,this.vertexSrc=null,this.fragmentSrc=null},d.prototype._glCompile=function(a,b){var c=this.gl.createShader(a);return this.gl.shaderSource(c,b),this.gl.compileShader(c),this.gl.getShaderParameter(c,this.gl.COMPILE_STATUS)?c:(console.log(this.gl.getShaderInfoLog(c)),null)}},{"../../../utils":76}],61:[function(a,b,c){function d(a,b,c,f,g){var h={uSampler:{type:"sampler2D",value:0},projectionMatrix:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(f)for(var i in f)h[i]=f[i];var j={aVertexPosition:0,aTextureCoord:0,aColor:0};if(g)for(var k in g)j[k]=g[k];b=b||d.defaultVertexSrc,c=c||d.defaultFragmentSrc,e.call(this,a,b,c,h,j)}var e=a("./Shader");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.defaultVertexSrc=["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),d.defaultFragmentSrc=["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;","}"].join("\n")},{"./Shader":60}],62:[function(a,b,c){function d(a){e.call(this,a)}var e=a("../managers/WebGLManager");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.start=function(){},d.prototype.stop=function(){this.flush()},d.prototype.flush=function(){},d.prototype.render=function(a){}},{"../managers/WebGLManager":57}],63:[function(a,b,c){function d(a){this.gl=a,this.vertices=new Float32Array([0,0,200,0,200,200,0,200]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]),this.indices=new Uint16Array([0,1,2,0,3,2]),this.vertexBuffer=a.createBuffer(),this.indexBuffer=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bufferData(a.ARRAY_BUFFER,128,a.DYNAMIC_DRAW),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW),this.upload()}d.prototype.constructor=d,d.prototype.map=function(a,b){var c=0,d=0;this.uvs[0]=c,this.uvs[1]=d,this.uvs[2]=c+b.width/a.width,this.uvs[3]=d,this.uvs[4]=c+b.width/a.width,this.uvs[5]=d+b.height/a.height,this.uvs[6]=c,this.uvs[7]=d+b.height/a.height,c=b.x,d=b.y,this.vertices[0]=c,this.vertices[1]=d,this.vertices[2]=c+b.width,this.vertices[3]=d,this.vertices[4]=c+b.width,this.vertices[5]=d+b.height,this.vertices[6]=c,this.vertices[7]=d+b.height,this.upload()},d.prototype.upload=function(){var a=this.gl;a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bufferSubData(a.ARRAY_BUFFER,0,this.vertices),a.bufferSubData(a.ARRAY_BUFFER,32,this.uvs),a.bufferSubData(a.ARRAY_BUFFER,64,this.colors)},b.exports=d},{}],64:[function(a,b,c){var d=a("../../../math"),e=a("../../../utils"),f=a("../../../const"),g=a("./StencilMaskStack"),h=function(a,b,c,h,i,j){if(this.gl=a,this.frameBuffer=null,this.texture=null,this.size=new d.Rectangle(0,0,1,1),this.resolution=i||f.RESOLUTION,this.projectionMatrix=new d.Matrix,this.transform=null,this.frame=null,this.stencilBuffer=null,this.stencilMaskStack=new g,this.filterStack=[{renderTarget:this,filter:[],bounds:this.size}],this.scaleMode=h||f.SCALE_MODES.DEFAULT,this.root=j,!this.root){this.frameBuffer=a.createFramebuffer(),this.texture=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.texture),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,h===f.SCALE_MODES.LINEAR?a.LINEAR:a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,h===f.SCALE_MODES.LINEAR?a.LINEAR:a.NEAREST);var k=e.isPowerOfTwo(b,c);k?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)),a.bindFramebuffer(a.FRAMEBUFFER,this.frameBuffer),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.texture,0)}this.resize(b,c)};h.prototype.constructor=h,b.exports=h,h.prototype.clear=function(a){var b=this.gl;a&&b.bindFramebuffer(b.FRAMEBUFFER,this.frameBuffer),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT)},h.prototype.attachStencilBuffer=function(){if(!this.stencilBuffer&&!this.root){var a=this.gl;this.stencilBuffer=a.createRenderbuffer(),a.bindRenderbuffer(a.RENDERBUFFER,this.stencilBuffer),a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,this.stencilBuffer),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.size.width*this.resolution,this.size.height*this.resolution)}},h.prototype.activate=function(){var a=this.gl;a.bindFramebuffer(a.FRAMEBUFFER,this.frameBuffer);var b=this.frame||this.size;this.calculateProjection(b),this.transform&&this.projectionMatrix.append(this.transform),a.viewport(0,0,b.width*this.resolution,b.height*this.resolution)},h.prototype.calculateProjection=function(a){var b=this.projectionMatrix;b.identity(),this.root?(b.a=1/a.width*2,b.d=-1/a.height*2,b.tx=-1-a.x*b.a,b.ty=1-a.y*b.d):(b.a=1/a.width*2,b.d=1/a.height*2,b.tx=-1-a.x*b.a,b.ty=-1-a.y*b.d)},h.prototype.resize=function(a,b){if(a=0|a,b=0|b,this.size.width!==a||this.size.height!==b){if(this.size.width=a,this.size.height=b,!this.root){var c=this.gl;c.bindTexture(c.TEXTURE_2D,this.texture),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,a*this.resolution,b*this.resolution,0,c.RGBA,c.UNSIGNED_BYTE,null),this.stencilBuffer&&(c.bindRenderbuffer(c.RENDERBUFFER,this.stencilBuffer),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,a*this.resolution,b*this.resolution))}var d=this.frame||this.size;this.calculateProjection(d)}},h.prototype.destroy=function(){var a=this.gl;a.deleteFramebuffer(this.frameBuffer),a.deleteTexture(this.texture),this.frameBuffer=null,this.texture=null}},{"../../../const":22,"../../../math":32,"../../../utils":76,"./StencilMaskStack":65}],65:[function(a,b,c){function d(){this.stencilStack=[],this.reverse=!0,this.count=0}d.prototype.constructor=d,b.exports=d},{}],66:[function(a,b,c){function d(a){g.call(this),this.anchor=new e.Point,this._texture=null,this._width=0,this._height=0,this.tint=16777215,this.blendMode=j.BLEND_MODES.NORMAL,this.shader=null,this.cachedTint=16777215,this.texture=a||f.EMPTY}var e=a("../math"),f=a("../textures/Texture"),g=a("../display/Container"),h=a("../renderers/canvas/utils/CanvasTinter"),i=a("../utils"),j=a("../const"),k=new e.Point;d.prototype=Object.create(g.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{width:{get:function(){return this.scale.x*this.texture._frame.width},set:function(a){this.scale.x=a/this.texture._frame.width,this._width=a}},height:{get:function(){return this.scale.y*this.texture._frame.height},set:function(a){this.scale.y=a/this.texture._frame.height,this._height=a}},texture:{get:function(){return this._texture},set:function(a){this._texture!==a&&(this._texture=a,this.cachedTint=16777215,a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this)))}}}),d.prototype._onTextureUpdate=function(){this._width&&(this.scale.x=this._width/this.texture.frame.width),this._height&&(this.scale.y=this._height/this.texture.frame.height)},d.prototype._renderWebGL=function(a){a.setObjectRenderer(a.plugins.sprite),a.plugins.sprite.render(this)},d.prototype.getBounds=function(a){if(!this._currentBounds){var b,c,d,e,f=this._texture._frame.width,g=this._texture._frame.height,h=f*(1-this.anchor.x),i=f*-this.anchor.x,j=g*(1-this.anchor.y),k=g*-this.anchor.y,l=a||this.worldTransform,m=l.a,n=l.b,o=l.c,p=l.d,q=l.tx,r=l.ty;if(0===n&&0===o)0>m&&(m*=-1),0>p&&(p*=-1),b=m*i+q,c=m*h+q,d=p*k+r,e=p*j+r;else{var s=m*i+o*k+q,t=p*k+n*i+r,u=m*h+o*k+q,v=p*k+n*h+r,w=m*h+o*j+q,x=p*j+n*h+r,y=m*i+o*j+q,z=p*j+n*i+r;b=s,b=b>u?u:b,b=b>w?w:b,b=b>y?y:b,d=t,d=d>v?v:d,d=d>x?x:d,d=d>z?z:d,c=s,c=u>c?u:c,c=w>c?w:c,c=y>c?y:c,e=t,e=v>e?v:e,e=x>e?x:e,e=z>e?z:e}if(this.children.length){var A=this.containerGetBounds();h=A.x,i=A.x+A.width,j=A.y,k=A.y+A.height,b=h>b?b:h,d=j>d?d:j,c=c>i?c:i,e=e>k?e:k}var B=this._bounds;B.x=b,B.width=c-b,B.y=d,B.height=e-d,this._currentBounds=B}return this._currentBounds},d.prototype.getLocalBounds=function(){return this._bounds.x=-this._texture._frame.width*this.anchor.x,this._bounds.y=-this._texture._frame.height*this.anchor.y,this._bounds.width=this._texture._frame.width,this._bounds.height=this._texture._frame.height,this._bounds},d.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,k);var b,c=this._texture._frame.width,d=this._texture._frame.height,e=-c*this.anchor.x;return k.x>e&&k.x<e+c&&(b=-d*this.anchor.y,k.y>b&&k.y<b+d)?!0:!1},d.prototype._renderCanvas=function(a){if(!(this.texture.crop.width<=0||this.texture.crop.height<=0)&&(this.blendMode!==a.currentBlendMode&&(a.currentBlendMode=this.blendMode,a.context.globalCompositeOperation=a.blendModes[a.currentBlendMode]),this.texture.valid)){var b,c,d,e,f=this._texture,g=this.worldTransform;if(a.context.globalAlpha=this.worldAlpha,a.smoothProperty&&a.currentScaleMode!==f.baseTexture.scaleMode&&(a.currentScaleMode=f.baseTexture.scaleMode,a.context[a.smoothProperty]=a.currentScaleMode===j.SCALE_MODES.LINEAR),f.rotate){var i=g.a,k=g.b;g.a=-g.c,g.b=-g.d,g.c=i,g.d=k,d=f.crop.height,e=f.crop.width,b=f.trim?f.trim.y-this.anchor.y*f.trim.height:this.anchor.y*-f._frame.height,c=f.trim?f.trim.x-this.anchor.x*f.trim.width:this.anchor.x*-f._frame.width}else d=f.crop.width,e=f.crop.height,b=f.trim?f.trim.x-this.anchor.x*f.trim.width:this.anchor.x*-f._frame.width,c=f.trim?f.trim.y-this.anchor.y*f.trim.height:this.anchor.y*-f._frame.height;a.roundPixels?(a.context.setTransform(g.a,g.b,g.c,g.d,g.tx*a.resolution|0,g.ty*a.resolution|0),b=0|b,c=0|c):(a.context.setTransform(g.a,g.b,g.c,g.d,g.tx*a.resolution,g.ty*a.resolution),b=0|b,c=0|c);var l=f.baseTexture.resolution;16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=h.getTintedTexture(this,this.tint)),a.context.drawImage(this.tintedTexture,0,0,d*l,e*l,b*a.resolution,c*a.resolution,d*a.resolution,e*a.resolution)):a.context.drawImage(f.baseTexture.source,f.crop.x*l,f.crop.y*l,d*l,e*l,b*a.resolution,c*a.resolution,d*a.resolution,e*a.resolution)}},d.prototype.destroy=function(a,b){g.prototype.destroy.call(this),this.anchor=null,a&&this._texture.destroy(b),this._texture=null,this.shader=null},d.fromFrame=function(a){var b=i.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return new d(b)},d.fromImage=function(a,b,c){return new d(f.fromImage(a,b,c))}},{"../const":22,"../display/Container":23,"../math":32,"../renderers/canvas/utils/CanvasTinter":47,"../textures/Texture":71,"../utils":76}],67:[function(a,b,c){function d(a){e.call(this,a),this.vertSize=5,this.vertByteSize=4*this.vertSize,this.size=g.SPRITE_BATCH_SIZE;var b=4*this.size*this.vertByteSize,c=6*this.size;this.vertices=new ArrayBuffer(b),this.positions=new Float32Array(this.vertices),this.colors=new Uint32Array(this.vertices),this.indices=new Uint16Array(c);for(var d=0,f=0;c>d;d+=6,f+=4)this.indices[d+0]=f+0,this.indices[d+1]=f+1,this.indices[d+2]=f+2,this.indices[d+3]=f+0,this.indices[d+4]=f+2,this.indices[d+5]=f+3;this.currentBatchSize=0,this.sprites=[],this.shader=null}var e=a("../../renderers/webgl/utils/ObjectRenderer"),f=a("../../renderers/webgl/WebGLRenderer"),g=a("../../const");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,f.registerPlugin("sprite",d),d.prototype.onContextChange=function(){var a=this.renderer.gl;this.shader=this.renderer.shaderManager.defaultShader,this.vertexBuffer=a.createBuffer(),this.indexBuffer=a.createBuffer(),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer),a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.indices,a.STATIC_DRAW),a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bufferData(a.ARRAY_BUFFER,this.vertices,a.DYNAMIC_DRAW),this.currentBlendMode=99999},d.prototype.render=function(a){var b=a._texture;this.currentBatchSize>=this.size&&this.flush();var c=b._uvs;if(c){var d,e,f,g,h=a.anchor.x,i=a.anchor.y;if(b.trim){var j=b.trim;e=j.x-h*j.width,d=e+b.crop.width,g=j.y-i*j.height,f=g+b.crop.height}else d=b._frame.width*(1-h),e=b._frame.width*-h,f=b._frame.height*(1-i),g=b._frame.height*-i;var k=this.currentBatchSize*this.vertByteSize,l=a.worldTransform,m=l.a,n=l.b,o=l.c,p=l.d,q=l.tx,r=l.ty,s=this.colors,t=this.positions;this.renderer.roundPixels?(t[k]=m*e+o*g+q|0,t[k+1]=p*g+n*e+r|0,t[k+5]=m*d+o*g+q|0,t[k+6]=p*g+n*d+r|0,t[k+10]=m*d+o*f+q|0,t[k+11]=p*f+n*d+r|0,t[k+15]=m*e+o*f+q|0,t[k+16]=p*f+n*e+r|0):(t[k]=m*e+o*g+q,t[k+1]=p*g+n*e+r,t[k+5]=m*d+o*g+q,t[k+6]=p*g+n*d+r,t[k+10]=m*d+o*f+q,t[k+11]=p*f+n*d+r,t[k+15]=m*e+o*f+q,t[k+16]=p*f+n*e+r),t[k+2]=c.x0,t[k+3]=c.y0,t[k+7]=c.x1,t[k+8]=c.y1,t[k+12]=c.x2,t[k+13]=c.y2,t[k+17]=c.x3,t[k+18]=c.y3;var u=a.tint;s[k+4]=s[k+9]=s[k+14]=s[k+19]=(u>>16)+(65280&u)+((255&u)<<16)+(255*a.worldAlpha<<24),this.sprites[this.currentBatchSize++]=a}},d.prototype.flush=function(){if(0!==this.currentBatchSize){var a,b=this.renderer.gl;if(this.currentBatchSize>.5*this.size)b.bufferSubData(b.ARRAY_BUFFER,0,this.vertices);else{var c=this.positions.subarray(0,this.currentBatchSize*this.vertByteSize);b.bufferSubData(b.ARRAY_BUFFER,0,c)}for(var d,e,f,g,h=0,i=0,j=null,k=this.renderer.blendModeManager.currentBlendMode,l=null,m=!1,n=!1,o=0,p=this.currentBatchSize;p>o;o++)g=this.sprites[o],d=g._texture.baseTexture,e=g.blendMode,f=g.shader||this.shader,m=k!==e,n=l!==f,(j!==d||m||n)&&(this.renderBatch(j,h,i),i=o,h=0,j=d,m&&(k=e,this.renderer.blendModeManager.setBlendMode(k)),n&&(l=f,a=l.shaders?l.shaders[b.id]:l,a||(a=l.getShader(this.renderer)),this.renderer.shaderManager.setShader(a),a.uniforms.projectionMatrix.value=this.renderer.currentRenderTarget.projectionMatrix.toArray(!0),a.syncUniforms(),b.activeTexture(b.TEXTURE0))),h++;this.renderBatch(j,h,i),this.currentBatchSize=0}},d.prototype.renderBatch=function(a,b,c){if(0!==b){var d=this.renderer.gl;a._glTextures[d.id]?d.bindTexture(d.TEXTURE_2D,a._glTextures[d.id]):this.renderer.updateTexture(a),d.drawElements(d.TRIANGLES,6*b,d.UNSIGNED_SHORT,6*c*2),this.renderer.drawCount++}},d.prototype.start=function(){var a=this.renderer.gl;a.bindBuffer(a.ARRAY_BUFFER,this.vertexBuffer),a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.indexBuffer);var b=this.vertByteSize;a.vertexAttribPointer(this.shader.attributes.aVertexPosition,2,a.FLOAT,!1,b,0),a.vertexAttribPointer(this.shader.attributes.aTextureCoord,2,a.FLOAT,!1,b,8),a.vertexAttribPointer(this.shader.attributes.aColor,4,a.UNSIGNED_BYTE,!0,b,16)},d.prototype.destroy=function(){this.renderer.gl.deleteBuffer(this.vertexBuffer),this.renderer.gl.deleteBuffer(this.indexBuffer),this.shader.destroy(),this.renderer=null,this.vertices=null,this.positions=null,this.colors=null,this.indices=null,this.vertexBuffer=null,this.indexBuffer=null,this.sprites=null,this.shader=null}},{"../../const":22,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62}],68:[function(a,b,c){function d(a,b,c){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=c||i.RESOLUTION,this._text=null,this._style=null;var d=f.fromCanvas(this.canvas);d.trim=new g.Rectangle,e.call(this,d),this.text=a,this.style=b}var e=a("../sprites/Sprite"),f=a("../textures/Texture"),g=a("../math"),h=a("../utils"),i=a("../const");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.fontPropertiesCache={},d.fontPropertiesCanvas=document.createElement("canvas"),d.fontPropertiesContext=d.fontPropertiesCanvas.getContext("2d"),Object.defineProperties(d.prototype,{width:{get:function(){return this.dirty&&this.updateText(),this.scale.x*this._texture._frame.width},set:function(a){this.scale.x=a/this._texture._frame.width,this._width=a}},height:{get:function(){return this.dirty&&this.updateText(),this.scale.y*this._texture._frame.height},set:function(a){this.scale.y=a/this._texture._frame.height,this._height=a}},style:{get:function(){return this._style},set:function(a){a=a||{},"number"==typeof a.fill&&(a.fill=h.hex2string(a.fill)),"number"==typeof a.stroke&&(a.stroke=h.hex2string(a.stroke)),"number"==typeof a.dropShadowColor&&(a.dropShadowColor=h.hex2string(a.dropShadowColor)),a.font=a.font||"bold 20pt Arial",a.fill=a.fill||"black",a.align=a.align||"left",a.stroke=a.stroke||"black",a.strokeThickness=a.strokeThickness||0,a.wordWrap=a.wordWrap||!1,a.wordWrapWidth=a.wordWrapWidth||100,a.dropShadow=a.dropShadow||!1,a.dropShadowColor=a.dropShadowColor||"#000000",a.dropShadowAngle=a.dropShadowAngle||Math.PI/6,
a.dropShadowDistance=a.dropShadowDistance||5,a.padding=a.padding||0,a.textBaseline=a.textBaseline||"alphabetic",a.lineJoin=a.lineJoin||"miter",a.miterLimit=a.miterLimit||10,this._style=a,this.dirty=!0}},text:{get:function(){return this._text},set:function(a){a=a.toString()||" ",this._text!==a&&(this._text=a,this.dirty=!0)}}}),d.prototype.updateText=function(){var a=this._style;this.context.font=a.font;for(var b=a.wordWrap?this.wordWrap(this._text):this._text,c=b.split(/(?:\r\n|\r|\n)/),d=new Array(c.length),e=0,f=this.determineFontProperties(a.font),g=0;g<c.length;g++){var h=this.context.measureText(c[g]).width;d[g]=h,e=Math.max(e,h)}var i=e+a.strokeThickness;a.dropShadow&&(i+=a.dropShadowDistance),this.canvas.width=(i+this.context.lineWidth)*this.resolution;var j=this.style.lineHeight||f.fontSize+a.strokeThickness,k=j*c.length;a.dropShadow&&(k+=a.dropShadowDistance),this.canvas.height=(k+2*this._style.padding)*this.resolution,this.context.scale(this.resolution,this.resolution),navigator.isCocoonJS&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=a.font,this.context.strokeStyle=a.stroke,this.context.lineWidth=a.strokeThickness,this.context.textBaseline=a.textBaseline,this.context.lineJoin=a.lineJoin,this.context.miterLimit=a.miterLimit;var l,m;if(a.dropShadow){this.context.fillStyle=a.dropShadowColor;var n=Math.cos(a.dropShadowAngle)*a.dropShadowDistance,o=Math.sin(a.dropShadowAngle)*a.dropShadowDistance;for(g=0;g<c.length;g++)l=a.strokeThickness/2,m=a.strokeThickness/2+g*j+f.ascent,"right"===a.align?l+=e-d[g]:"center"===a.align&&(l+=(e-d[g])/2),a.fill&&this.context.fillText(c[g],l+n,m+o+this._style.padding)}for(this.context.fillStyle=a.fill,g=0;g<c.length;g++)l=a.strokeThickness/2,m=a.strokeThickness/2+g*j+f.ascent,"right"===a.align?l+=e-d[g]:"center"===a.align&&(l+=(e-d[g])/2),a.stroke&&a.strokeThickness&&this.context.strokeText(c[g],l,m+this._style.padding),a.fill&&this.context.fillText(c[g],l,m+this._style.padding);this.updateTexture()},d.prototype.updateTexture=function(){var a=this._texture;a.baseTexture.hasLoaded=!0,a.baseTexture.resolution=this.resolution,a.baseTexture.width=this.canvas.width/this.resolution,a.baseTexture.height=this.canvas.height/this.resolution,a.crop.width=a._frame.width=this.canvas.width/this.resolution,a.crop.height=a._frame.height=this.canvas.height/this.resolution,a.trim.x=0,a.trim.y=-this._style.padding,a.trim.width=a._frame.width,a.trim.height=a._frame.height-2*this._style.padding,this._width=this.canvas.width/this.resolution,this._height=this.canvas.height/this.resolution,a.baseTexture.emit("update",a.baseTexture),this.dirty=!1},d.prototype.renderWebGL=function(a){this.dirty&&this.updateText(),e.prototype.renderWebGL.call(this,a)},d.prototype._renderCanvas=function(a){this.dirty&&this.updateText(),e.prototype._renderCanvas.call(this,a)},d.prototype.determineFontProperties=function(a){var b=d.fontPropertiesCache[a];if(!b){b={};var c=d.fontPropertiesCanvas,e=d.fontPropertiesContext;e.font=a;var f=Math.ceil(e.measureText("|Mq").width),g=Math.ceil(e.measureText("M").width),h=2*g;g=1.4*g|0,c.width=f,c.height=h,e.fillStyle="#f00",e.fillRect(0,0,f,h),e.font=a,e.textBaseline="alphabetic",e.fillStyle="#000",e.fillText("|Mq",0,g);var i,j,k=e.getImageData(0,0,f,h).data,l=k.length,m=4*f,n=0,o=!1;for(i=0;g>i;i++){for(j=0;m>j;j+=4)if(255!==k[n+j]){o=!0;break}if(o)break;n+=m}for(b.ascent=g-i,n=l-m,o=!1,i=h;i>g;i--){for(j=0;m>j;j+=4)if(255!==k[n+j]){o=!0;break}if(o)break;n-=m}b.descent=i-g,b.fontSize=b.ascent+b.descent,d.fontPropertiesCache[a]=b}return b},d.prototype.wordWrap=function(a){for(var b="",c=a.split("\n"),d=this._style.wordWrapWidth,e=0;e<c.length;e++){for(var f=d,g=c[e].split(" "),h=0;h<g.length;h++){var i=this.context.measureText(g[h]).width,j=i+this.context.measureText(" ").width;0===h||j>f?(h>0&&(b+="\n"),b+=g[h],f=d-i):(f-=j,b+=" "+g[h])}e<c.length-1&&(b+="\n")}return b},d.prototype.getBounds=function(a){return this.dirty&&this.updateText(),e.prototype.getBounds.call(this,a)},d.prototype.destroy=function(a){this.context=null,this.canvas=null,this._style=null,this._texture.destroy(void 0===a?!0:a)}},{"../const":22,"../math":32,"../sprites/Sprite":66,"../textures/Texture":71,"../utils":76}],69:[function(a,b,c){function d(a,b,c){g.call(this),this.uid=e.uid(),this.resolution=c||1,this.width=100,this.height=100,this.realWidth=100,this.realHeight=100,this.scaleMode=b||f.SCALE_MODES.DEFAULT,this.hasLoaded=!1,this.isLoading=!1,this.source=null,this.premultipliedAlpha=!0,this.imageUrl=null,this.isPowerOfTwo=!1,this.mipmap=!1,this._glTextures=[],a&&this.loadSource(a)}var e=a("../utils"),f=a("../const"),g=a("eventemitter3");d.prototype=Object.create(g.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.update=function(){this.realWidth=this.source.naturalWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=e.isPowerOfTwo(this.realWidth,this.realHeight),this.emit("update",this)},d.prototype.loadSource=function(a){var b=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,b&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=a,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this._sourceLoaded();else if(!a.getContext){this.isLoading=!0;var c=this;a.onload=function(){a.onload=null,a.onerror=null,c.isLoading&&(c.isLoading=!1,c._sourceLoaded(),c.emit("loaded",c))},a.onerror=function(){a.onload=null,a.onerror=null,c.isLoading&&(c.isLoading=!1,c.emit("error",c))},a.complete&&a.src&&(this.isLoading=!1,a.onload=null,a.onerror=null,a.width&&a.height?(this._sourceLoaded(),b&&this.emit("loaded",this)):b&&this.emit("error",this))}},d.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},d.prototype.destroy=function(){this.imageUrl?(delete e.BaseTextureCache[this.imageUrl],delete e.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")):this.source&&this.source._pixiId&&delete e.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},d.prototype.dispose=function(){this.emit("dispose",this),this._glTextures.length=0},d.prototype.updateSourceImage=function(a){this.source.src=a,this.loadSource(this.source)},d.fromImage=function(a,b,c){var f=e.BaseTextureCache[a];if(void 0===b&&0!==a.indexOf("data:")&&(b=!0),!f){var g=new Image;b&&(g.crossOrigin=""),f=new d(g,c),f.imageUrl=a,g.src=a,e.BaseTextureCache[a]=f,f.resolution=e.getResolutionOfUrl(a)}return f},d.fromCanvas=function(a,b){a._pixiId||(a._pixiId="canvas_"+e.uid());var c=e.BaseTextureCache[a._pixiId];return c||(c=new d(a,b),e.BaseTextureCache[a._pixiId]=c),c}},{"../const":22,"../utils":76,eventemitter3:11}],70:[function(a,b,c){function d(a,b,c,d,l){if(!a)throw new Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");b=b||100,c=c||100,l=l||k.RESOLUTION;var m=new e;if(m.width=b,m.height=c,m.resolution=l,m.scaleMode=d||k.SCALE_MODES.DEFAULT,m.hasLoaded=!0,f.call(this,m,new j.Rectangle(0,0,b,c)),this.width=b,this.height=c,this.resolution=l,this.render=null,this.renderer=a,this.renderer.type===k.RENDERER_TYPE.WEBGL){var n=this.renderer.gl;this.textureBuffer=new g(n,this.width,this.height,m.scaleMode,this.resolution),this.baseTexture._glTextures[n.id]=this.textureBuffer.texture,this.filterManager=new h(this.renderer),this.filterManager.onContextChange(),this.filterManager.resize(b,c),this.render=this.renderWebGL,this.renderer.currentRenderer.start(),this.renderer.currentRenderTarget.activate()}else this.render=this.renderCanvas,this.textureBuffer=new i(this.width*this.resolution,this.height*this.resolution),this.baseTexture.source=this.textureBuffer.canvas;this.valid=!0,this._updateUvs()}var e=a("./BaseTexture"),f=a("./Texture"),g=a("../renderers/webgl/utils/RenderTarget"),h=a("../renderers/webgl/managers/FilterManager"),i=a("../renderers/canvas/utils/CanvasBuffer"),j=a("../math"),k=a("../const"),l=new j.Matrix;d.prototype=Object.create(f.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.resize=function(a,b,c){(a!==this.width||b!==this.height)&&(this.valid=a>0&&b>0,this.width=this._frame.width=this.crop.width=a,this.height=this._frame.height=this.crop.height=b,c&&(this.baseTexture.width=this.width,this.baseTexture.height=this.height),this.valid&&(this.textureBuffer.resize(this.width,this.height),this.filterManager&&this.filterManager.resize(this.width,this.height)))},d.prototype.clear=function(){this.valid&&(this.renderer.type===k.RENDERER_TYPE.WEBGL&&this.renderer.gl.bindFramebuffer(this.renderer.gl.FRAMEBUFFER,this.textureBuffer.frameBuffer),this.textureBuffer.clear())},d.prototype.renderWebGL=function(a,b,c,d){if(this.valid){if(d=void 0!==d?d:!0,this.textureBuffer.transform=b,this.textureBuffer.activate(),a.worldAlpha=1,d){a.worldTransform.identity(),a.currentBounds=null;var e,f,g=a.children;for(e=0,f=g.length;f>e;++e)g[e].updateTransform()}var h=this.renderer.filterManager;this.renderer.filterManager=this.filterManager,this.renderer.renderDisplayObject(a,this.textureBuffer,c),this.renderer.filterManager=h}},d.prototype.renderCanvas=function(a,b,c,d){if(this.valid){d=!!d;var e=a.worldTransform,f=l;f.identity(),b&&f.append(b),a.worldTransform=f,a.worldAlpha=1;var g,h,i=a.children;for(g=0,h=i.length;h>g;++g)i[g].updateTransform();c&&this.textureBuffer.clear(),a.worldTransform=e;var j=this.textureBuffer.context,k=this.renderer.resolution;this.renderer.resolution=this.resolution,this.renderer.renderDisplayObject(a,j),this.renderer.resolution=k}},d.prototype.destroy=function(){f.prototype.destroy.call(this,!0),this.textureBuffer.destroy(),this.filterManager&&this.filterManager.destroy(),this.renderer=null},d.prototype.getImage=function(){var a=new Image;return a.src=this.getBase64(),a},d.prototype.getBase64=function(){return this.getCanvas().toDataURL()},d.prototype.getCanvas=function(){if(this.renderer.type===k.RENDERER_TYPE.WEBGL){var a=this.renderer.gl,b=this.textureBuffer.size.width,c=this.textureBuffer.size.height,d=new Uint8Array(4*b*c);a.bindFramebuffer(a.FRAMEBUFFER,this.textureBuffer.frameBuffer),a.readPixels(0,0,b,c,a.RGBA,a.UNSIGNED_BYTE,d),a.bindFramebuffer(a.FRAMEBUFFER,null);var e=new i(b,c),f=e.context.getImageData(0,0,b,c);return f.data.set(d),e.context.putImageData(f,0,0),e.canvas}return this.textureBuffer.canvas},d.prototype.getPixels=function(){var a,b;if(this.renderer.type===k.RENDERER_TYPE.WEBGL){var c=this.renderer.gl;a=this.textureBuffer.size.width,b=this.textureBuffer.size.height;var d=new Uint8Array(4*a*b);return c.bindFramebuffer(c.FRAMEBUFFER,this.textureBuffer.frameBuffer),c.readPixels(0,0,a,b,c.RGBA,c.UNSIGNED_BYTE,d),c.bindFramebuffer(c.FRAMEBUFFER,null),d}return a=this.textureBuffer.canvas.width,b=this.textureBuffer.canvas.height,this.textureBuffer.canvas.getContext("2d").getImageData(0,0,a,b).data},d.prototype.getPixel=function(a,b){if(this.renderer.type===k.RENDERER_TYPE.WEBGL){var c=this.renderer.gl,d=new Uint8Array(4);return c.bindFramebuffer(c.FRAMEBUFFER,this.textureBuffer.frameBuffer),c.readPixels(a,b,1,1,c.RGBA,c.UNSIGNED_BYTE,d),c.bindFramebuffer(c.FRAMEBUFFER,null),d}return this.textureBuffer.canvas.getContext("2d").getImageData(a,b,1,1).data}},{"../const":22,"../math":32,"../renderers/canvas/utils/CanvasBuffer":44,"../renderers/webgl/managers/FilterManager":53,"../renderers/webgl/utils/RenderTarget":64,"./BaseTexture":69,"./Texture":71}],71:[function(a,b,c){function d(a,b,c,e,f){h.call(this),this.noFrame=!1,b||(this.noFrame=!0,b=new i.Rectangle(0,0,1,1)),a instanceof d&&(a=a.baseTexture),this.baseTexture=a,this._frame=b,this.trim=e,this.valid=!1,this.requiresUpdate=!1,this._uvs=null,this.width=0,this.height=0,this.crop=c||b,this.rotate=!!f,a.hasLoaded?(this.noFrame&&(b=new i.Rectangle(0,0,a.width,a.height),a.on("update",this.onBaseTextureUpdated,this)),this.frame=b):a.once("loaded",this.onBaseTextureLoaded,this)}var e=a("./BaseTexture"),f=a("./VideoBaseTexture"),g=a("./TextureUvs"),h=a("eventemitter3"),i=a("../math"),j=a("../utils");d.prototype=Object.create(h.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{frame:{get:function(){return this._frame},set:function(a){if(this._frame=a,this.noFrame=!1,this.width=a.width,this.height=a.height,!this.trim&&!this.rotate&&(a.x+a.width>this.baseTexture.width||a.y+a.height>this.baseTexture.height))throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=a&&a.width&&a.height&&this.baseTexture.hasLoaded,this.trim?(this.width=this.trim.width,this.height=this.trim.height,this._frame.width=this.trim.width,this._frame.height=this.trim.height):this.crop=a,this.valid&&this._updateUvs()}}}),d.prototype.update=function(){this.baseTexture.update()},d.prototype.onBaseTextureLoaded=function(a){this.noFrame?this.frame=new i.Rectangle(0,0,a.width,a.height):this.frame=this._frame,this.emit("update",this)},d.prototype.onBaseTextureUpdated=function(a){this._frame.width=a.width,this._frame.height=a.height,this.emit("update",this)},d.prototype.destroy=function(a){this.baseTexture&&(a&&this.baseTexture.destroy(),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.crop=null,this.valid=!1},d.prototype.clone=function(){return new d(this.baseTexture,this.frame,this.crop,this.trim,this.rotate)},d.prototype._updateUvs=function(){this._uvs||(this._uvs=new g),this._uvs.set(this.crop,this.baseTexture,this.rotate)},d.fromImage=function(a,b,c){var f=j.TextureCache[a];return f||(f=new d(e.fromImage(a,b,c)),j.TextureCache[a]=f),f},d.fromFrame=function(a){var b=j.TextureCache[a];if(!b)throw new Error('The frameId "'+a+'" does not exist in the texture cache');return b},d.fromCanvas=function(a,b){return new d(e.fromCanvas(a,b))},d.fromVideo=function(a,b){return"string"==typeof a?d.fromVideoUrl(a,b):new d(f.fromVideo(a,b))},d.fromVideoUrl=function(a,b){return new d(f.fromUrl(a,b))},d.addTextureToCache=function(a,b){j.TextureCache[b]=a},d.removeTextureFromCache=function(a){var b=j.TextureCache[a];return delete j.TextureCache[a],delete j.BaseTextureCache[a],b},d.EMPTY=new d(new e)},{"../math":32,"../utils":76,"./BaseTexture":69,"./TextureUvs":72,"./VideoBaseTexture":73,eventemitter3:11}],72:[function(a,b,c){function d(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1}b.exports=d,d.prototype.set=function(a,b,c){var d=b.width,e=b.height;c?(this.x0=(a.x+a.height)/d,this.y0=a.y/e,this.x1=(a.x+a.height)/d,this.y1=(a.y+a.width)/e,this.x2=a.x/d,this.y2=(a.y+a.width)/e,this.x3=a.x/d,this.y3=a.y/e):(this.x0=a.x/d,this.y0=a.y/e,this.x1=(a.x+a.width)/d,this.y1=a.y/e,this.x2=(a.x+a.width)/d,this.y2=(a.y+a.height)/e,this.x3=a.x/d,this.y3=(a.y+a.height)/e)}},{}],73:[function(a,b,c){function d(a,b){if(!a)throw new Error("No video source element specified.");(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0),f.call(this,a,b),this.autoUpdate=!1,this._onUpdate=this._onUpdate.bind(this),this._onCanPlay=this._onCanPlay.bind(this),a.complete||(a.addEventListener("canplay",this._onCanPlay),a.addEventListener("canplaythrough",this._onCanPlay),a.addEventListener("play",this._onPlayStart.bind(this)),a.addEventListener("pause",this._onPlayStop.bind(this))),this.__loaded=!1}function e(a,b){b||(b="video/"+a.substr(a.lastIndexOf(".")+1));var c=document.createElement("source");return c.src=a,c.type=b,c}var f=a("./BaseTexture"),g=a("../utils");d.prototype=Object.create(f.prototype),d.prototype.constructor=d,b.exports=d,d.prototype._onUpdate=function(){this.autoUpdate&&(window.requestAnimationFrame(this._onUpdate),this.update())},d.prototype._onPlayStart=function(){this.autoUpdate||(window.requestAnimationFrame(this._onUpdate),this.autoUpdate=!0)},d.prototype._onPlayStop=function(){this.autoUpdate=!1},d.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.__loaded||(this.__loaded=!0,this.emit("loaded",this)))},d.prototype.destroy=function(){this.source&&this.source._pixiId&&(delete g.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),f.prototype.destroy.call(this)},d.fromVideo=function(a,b){a._pixiId||(a._pixiId="video_"+g.uid());var c=g.BaseTextureCache[a._pixiId];return c||(c=new d(a,b),g.BaseTextureCache[a._pixiId]=c),c},d.fromUrl=function(a,b){var c=document.createElement("video");if(Array.isArray(a))for(var f=0;f<a.length;++f)c.appendChild(e(a.src||a,a.mime));else c.appendChild(e(a.src||a,a.mime));return c.load(),c.play(),d.fromVideo(c,b)},d.fromUrls=d.fromUrl},{"../utils":76,"./BaseTexture":69}],74:[function(a,b,c){function d(){var a=this;this._tick=function(b){a._requestId=null,a.started&&(a.update(b),a.started&&null===a._requestId&&a._emitter.listeners(g,!0)&&(a._requestId=requestAnimationFrame(a._tick)))},this._emitter=new f,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/e.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1}var e=a("../const"),f=a("eventemitter3"),g="tick";Object.defineProperties(d.prototype,{FPS:{get:function(){return 1e3/this.elapsedMS}},minFPS:{get:function(){return 1e3/this._maxElapsedMS},set:function(a){var b=Math.min(Math.max(0,a)/1e3,e.TARGET_FPMS);this._maxElapsedMS=1/b}}}),d.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(g,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},d.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},d.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},d.prototype.add=function(a,b){return this._emitter.on(g,a,b),this._startIfPossible(),this},d.prototype.addOnce=function(a,b){return this._emitter.once(g,a,b),this._startIfPossible(),this},d.prototype.remove=function(a,b){return this._emitter.off(g,a,b),this._emitter.listeners(g,!0)||this._cancelIfNeeded(),this},d.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},d.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},d.prototype.update=function(a){var b;a=a||performance.now(),b=this.elapsedMS=a-this.lastTime,b>this._maxElapsedMS&&(b=this._maxElapsedMS),this.deltaTime=b*e.TARGET_FPMS*this.speed,this._emitter.emit(g,this.deltaTime),this.lastTime=a},b.exports=d},{"../const":22,eventemitter3:11}],75:[function(a,b,c){var d=a("./Ticker"),e=new d;e.autoStart=!0,b.exports={shared:e,Ticker:d}},{"./Ticker":74}],76:[function(a,b,c){var d=a("../const"),e=b.exports={_uid:0,_saidHello:!1,pluginTarget:a("./pluginTarget"),async:a("async"),uid:function(){return++e._uid},hex2rgb:function(a,b){return b=b||[],b[0]=(a>>16&255)/255,b[1]=(a>>8&255)/255,b[2]=(255&a)/255,b},hex2string:function(a){return a=a.toString(16),a="000000".substr(0,6-a.length)+a,"#"+a},rgb2hex:function(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]},canUseNewCanvasBlendModes:function(){if("undefined"==typeof document)return!1;var a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",b="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",c=new Image;c.src=a+"AP804Oa6"+b;var d=new Image;d.src=a+"/wCKxvRF"+b;var e=document.createElement("canvas");e.width=6,e.height=1;var f=e.getContext("2d");f.globalCompositeOperation="multiply",f.drawImage(c,0,0),f.drawImage(d,2,0);var g=f.getImageData(2,0,1,1).data;return 255===g[0]&&0===g[1]&&0===g[2]},getNextPowerOfTwo:function(a){if(a>0&&0===(a&a-1))return a;for(var b=1;a>b;)b<<=1;return b},isPowerOfTwo:function(a,b){return a>0&&0===(a&a-1)&&b>0&&0===(b&b-1)},getResolutionOfUrl:function(a){var b=d.RETINA_PREFIX.exec(a);return b?parseFloat(b[1]):1},sayHello:function(a){if(!e._saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var b=["\n %c %c %c Pixi.js "+d.VERSION+" -  "+a+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,b)}else window.console&&window.console.log("Pixi.js "+d.VERSION+" - "+a+" - http://www.pixijs.com/");e._saidHello=!0}},isWebGLSupported:function(){var a={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var b=document.createElement("canvas"),c=b.getContext("webgl",a)||b.getContext("experimental-webgl",a);return!(!c||!c.getContextAttributes().stencil)}catch(d){return!1}},TextureCache:{},BaseTextureCache:{}}},{"../const":22,"./pluginTarget":77,async:2}],77:[function(a,b,c){function d(a){a.__plugins={},a.registerPlugin=function(b,c){a.__plugins[b]=c},a.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var b in a.__plugins)this.plugins[b]=new a.__plugins[b](this)},a.prototype.destroyPlugins=function(){for(var a in this.plugins)this.plugins[a].destroy(),this.plugins[a]=null;this.plugins=null}}b.exports={mixin:function(a){d(a)}}},{}],78:[function(a,b,c){var d=a("./core"),e=a("./mesh"),f=a("./extras"),g=a("./filters");d.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},d.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(d,{Stage:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),d.Container}},DisplayObjectContainer:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),d.Container}},Strip:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},MovieClip:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),f.MovieClip}},TilingSprite:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),f.TilingSprite}},BitmapText:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),f.BitmapText}},blendModes:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),d.BLEND_MODES}},scaleModes:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),d.SCALE_MODES}},BaseTextureCache:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),d.utils.BaseTextureCache}},TextureCache:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),d.utils.TextureCache}},math:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),d}}}),d.Sprite.prototype.setTexture=function(a){this.texture=a,console.warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},f.BitmapText.prototype.setText=function(a){this.text=a,console.warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},d.Text.prototype.setText=function(a){this.text=a,console.warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},d.Text.prototype.setStyle=function(a){this.style=a,console.warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},d.Texture.prototype.setFrame=function(a){this.frame=a,console.warn("setFrame is now deprecated, please use the frame property, e.g : myTexture.frame = frame;")},Object.defineProperties(g,{AbstractFilter:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),d.AbstractFilter}},FXAAFilter:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),d.FXAAFilter}},SpriteMaskFilter:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),d.SpriteMaskFilter}}}),d.utils.uuid=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),d.utils.uid()}},{"./core":29,"./extras":85,"./filters":102,"./mesh":126}],79:[function(a,b,c){function d(a,b){e.Container.call(this),b=b||{},this.textWidth=0,this.textHeight=0,this._glyphs=[],this._font={tint:void 0!==b.tint?b.tint:16777215,align:b.align||"left",name:null,size:0},this.font=b.font,this._text=a,this.maxWidth=0,this.dirty=!1,this.updateText()}var e=a("../core");d.prototype=Object.create(e.Container.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{tint:{get:function(){return this._font.tint},set:function(a){this._font.tint="number"==typeof a&&a>=0?a:16777215,this.dirty=!0}},align:{get:function(){return this._font.align},set:function(a){this._font.align=a||"left",this.dirty=!0}},font:{get:function(){return this._font},set:function(a){a&&("string"==typeof a?(a=a.split(" "),this._font.name=1===a.length?a[0]:a.slice(1).join(" "),this._font.size=a.length>=2?parseInt(a[0],10):d.fonts[this._font.name].size):(this._font.name=a.name,this._font.size="number"==typeof a.size?a.size:parseInt(a.size,10)),this.dirty=!0)}},text:{get:function(){return this._text},set:function(a){a=a.toString()||" ",this._text!==a&&(this._text=a,this.dirty=!0)}}}),d.prototype.updateText=function(){for(var a=d.fonts[this._font.name],b=new e.Point,c=null,f=[],g=0,h=0,i=[],j=0,k=this._font.size/a.size,l=-1,m=0;m<this.text.length;m++){var n=this.text.charCodeAt(m);if(l=/(\s)/.test(this.text.charAt(m))?m:l,/(?:\r\n|\r|\n)/.test(this.text.charAt(m)))i.push(g),h=Math.max(h,g),j++,b.x=0,b.y+=a.lineHeight,c=null;else if(-1!==l&&this.maxWidth>0&&b.x*k>this.maxWidth)f.splice(l,m-l),m=l,l=-1,i.push(g),h=Math.max(h,g),j++,b.x=0,b.y+=a.lineHeight,c=null;else{var o=a.chars[n];o&&(c&&o.kerning[c]&&(b.x+=o.kerning[c]),f.push({texture:o.texture,line:j,charCode:n,position:new e.Point(b.x+o.xOffset,b.y+o.yOffset)}),g=b.x+(o.texture.width+o.xOffset),b.x+=o.xAdvance,c=n)}}i.push(g),h=Math.max(h,g);var p=[];for(m=0;j>=m;m++){var q=0;"right"===this._font.align?q=h-i[m]:"center"===this._font.align&&(q=(h-i[m])/2),p.push(q)}var r=f.length,s=this.tint;for(m=0;r>m;m++){var t=this._glyphs[m];t?t.texture=f[m].texture:(t=new e.Sprite(f[m].texture),this._glyphs.push(t)),t.position.x=(f[m].position.x+p[f[m].line])*k,t.position.y=f[m].position.y*k,t.scale.x=t.scale.y=k,t.tint=s,t.parent||this.addChild(t)}for(m=r;m<this._glyphs.length;++m)this.removeChild(this._glyphs[m]);this.textWidth=h*k,this.textHeight=(b.y+a.lineHeight)*k},d.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},d.prototype.getLocalBounds=function(){return this.validate(),e.Container.prototype.getLocalBounds.call(this)},d.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},d.fonts={}},{"../core":29}],80:[function(a,b,c){function d(a){e.Sprite.call(this,a[0]),this._textures=a,this.animationSpeed=1,this.loop=!0,this.onComplete=null,this._currentTime=0,this.playing=!1}var e=a("../core");d.prototype=Object.create(e.Sprite.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{totalFrames:{get:function(){return this._textures.length}},textures:{get:function(){return this._textures},set:function(a){this._textures=a,this.texture=this._textures[Math.floor(this._currentTime)%this._textures.length]}},currentFrame:{get:function(){return Math.floor(this._currentTime)%this._textures.length}}}),d.prototype.stop=function(){this.playing&&(this.playing=!1,e.ticker.shared.remove(this.update,this))},d.prototype.play=function(){this.playing||(this.playing=!0,e.ticker.shared.add(this.update,this))},d.prototype.gotoAndStop=function(a){this.stop(),this._currentTime=a;var b=Math.floor(this._currentTime);this._texture=this._textures[b%this._textures.length]},d.prototype.gotoAndPlay=function(a){this._currentTime=a,this.play()},d.prototype.update=function(a){this._currentTime+=this.animationSpeed*a;var b=Math.floor(this._currentTime);0>b?this.loop?this._texture=this._textures[this._textures.length-1+b%this._textures.length]:(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this.loop||b<this._textures.length?this._texture=this._textures[b%this._textures.length]:b>=this._textures.length&&(this.gotoAndStop(this.textures.length-1),this.onComplete&&this.onComplete())},d.prototype.destroy=function(){this.stop(),e.Sprite.prototype.destroy.call(this)},d.fromFrames=function(a){for(var b=[],c=0;c<a.length;++c)b.push(new e.Texture.fromFrame(a[c]));return new d(b)},d.fromImages=function(a){for(var b=[],c=0;c<a.length;++c)b.push(new e.Texture.fromImage(a[c]));return new d(b)}},{"../core":29}],81:[function(a,b,c){function d(a,b,c){e.Sprite.call(this,a),this.tileScale=new e.Point(1,1),this.tilePosition=new e.Point(0,0),this._width=b||100,this._height=c||100,this._uvs=new e.TextureUvs,this._canvasPattern=null,this.shader=new e.AbstractFilter(["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","uniform mat3 projectionMatrix;","uniform vec4 uFrame;","uniform vec4 uTransform;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vec2 coord = aTextureCoord;","   coord -= uTransform.xy;","   coord /= uTransform.zw;","   vTextureCoord = coord;","   vColor = vec4(aColor.rgb * aColor.a, aColor.a);","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","uniform vec4 uFrame;","uniform vec2 uPixelSize;","void main(void){","   vec2 coord = mod(vTextureCoord, uFrame.zw);","   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);","   coord += uFrame.xy;","   gl_FragColor =  texture2D(uSampler, coord) * vColor ;","}"].join("\n"),{uFrame:{type:"4fv",value:[0,0,1,1]},uTransform:{type:"4fv",value:[0,0,1,1]},uPixelSize:{type:"2fv",value:[1,1]}})}var e=a("../core"),f=new e.Point;d.prototype=Object.create(e.Sprite.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{width:{get:function(){return this._width},set:function(a){this._width=a}},height:{get:function(){return this._height},set:function(a){this._height=a}}}),d.prototype._onTextureUpdate=function(){},d.prototype._renderWebGL=function(a){var b=this._texture;if(b&&b._uvs){var c=b._uvs,d=b._frame.width,e=b._frame.height,f=b.baseTexture.width,g=b.baseTexture.height;b._uvs=this._uvs,b._frame.width=this.width,b._frame.height=this.height,this.shader.uniforms.uPixelSize.value[0]=1/f,this.shader.uniforms.uPixelSize.value[1]=1/g,this.shader.uniforms.uFrame.value[0]=c.x0,this.shader.uniforms.uFrame.value[1]=c.y0,this.shader.uniforms.uFrame.value[2]=c.x1-c.x0,
this.shader.uniforms.uFrame.value[3]=c.y2-c.y0,this.shader.uniforms.uTransform.value[0]=this.tilePosition.x%(d*this.tileScale.x)/this._width,this.shader.uniforms.uTransform.value[1]=this.tilePosition.y%(e*this.tileScale.y)/this._height,this.shader.uniforms.uTransform.value[2]=f/this._width*this.tileScale.x,this.shader.uniforms.uTransform.value[3]=g/this._height*this.tileScale.y,a.setObjectRenderer(a.plugins.sprite),a.plugins.sprite.render(this),b._uvs=c,b._frame.width=d,b._frame.height=e}},d.prototype._renderCanvas=function(a){var b=this._texture;if(b.baseTexture.hasLoaded){var c=a.context,d=this.worldTransform,f=a.resolution,g=b.baseTexture,h=this.tilePosition.x%(b._frame.width*this.tileScale.x),i=this.tilePosition.y%(b._frame.height*this.tileScale.y);if(!this._canvasPattern){var j=new e.CanvasBuffer(b._frame.width,b._frame.height);j.context.drawImage(g.source,-b._frame.x,-b._frame.y),this._canvasPattern=j.context.createPattern(j.canvas,"repeat")}c.globalAlpha=this.worldAlpha,c.setTransform(d.a*f,d.b*f,d.c*f,d.d*f,d.tx*f,d.ty*f),c.scale(this.tileScale.x,this.tileScale.y),c.translate(h+this.anchor.x*-this._width,i+this.anchor.y*-this._height),this.blendMode!==a.currentBlendMode&&(a.currentBlendMode=this.blendMode,c.globalCompositeOperation=a.blendModes[a.currentBlendMode]),c.fillStyle=this._canvasPattern,c.fillRect(-h,-i,this._width/this.tileScale.x,this._height/this.tileScale.y)}},d.prototype.getBounds=function(){var a,b,c,d,e=this._width,f=this._height,g=e*(1-this.anchor.x),h=e*-this.anchor.x,i=f*(1-this.anchor.y),j=f*-this.anchor.y,k=this.worldTransform,l=k.a,m=k.b,n=k.c,o=k.d,p=k.tx,q=k.ty,r=l*h+n*j+p,s=o*j+m*h+q,t=l*g+n*j+p,u=o*j+m*g+q,v=l*g+n*i+p,w=o*i+m*g+q,x=l*h+n*i+p,y=o*i+m*h+q;a=r,a=a>t?t:a,a=a>v?v:a,a=a>x?x:a,c=s,c=c>u?u:c,c=c>w?w:c,c=c>y?y:c,b=r,b=t>b?t:b,b=v>b?v:b,b=x>b?x:b,d=s,d=u>d?u:d,d=w>d?w:d,d=y>d?y:d;var z=this._bounds;return z.x=a,z.width=b-a,z.y=c,z.height=d-c,this._currentBounds=z,z},d.prototype.containsPoint=function(a){this.worldTransform.applyInverse(a,f);var b,c=this._width,d=this._height,e=-c*this.anchor.x;return f.x>e&&f.x<e+c&&(b=-d*this.anchor.y,f.y>b&&f.y<b+d)?!0:!1},d.prototype.destroy=function(){e.Sprite.prototype.destroy.call(this),this.tileScale=null,this._tileScaleOffset=null,this.tilePosition=null,this._uvs=null},d.fromFrame=function(a,b,c){var f=e.utils.TextureCache[a];if(!f)throw new Error('The frameId "'+a+'" does not exist in the texture cache '+this);return new d(f,b,c)},d.fromImage=function(a,b,c,f,g){return new d(e.Texture.fromImage(a,f,g),b,c)}},{"../core":29}],82:[function(a,b,c){var d=a("../core"),e=d.DisplayObject,f=new d.Matrix;e.prototype._cacheAsBitmap=!1,e.prototype._originalRenderWebGL=null,e.prototype._originalRenderCanvas=null,e.prototype._originalUpdateTransform=null,e.prototype._originalHitTest=null,e.prototype._originalDestroy=null,e.prototype._cachedSprite=null,Object.defineProperties(e.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(a){this._cacheAsBitmap!==a&&(this._cacheAsBitmap=a,a?(this._originalRenderWebGL=this.renderWebGL,this._originalRenderCanvas=this.renderCanvas,this._originalUpdateTransform=this.updateTransform,this._originalGetBounds=this.getBounds,this._originalDestroy=this.destroy,this._originalContainsPoint=this.containsPoint,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(this._cachedSprite&&this._destroyCachedDisplayObject(),this.renderWebGL=this._originalRenderWebGL,this.renderCanvas=this._originalRenderCanvas,this.getBounds=this._originalGetBounds,this.destroy=this._originalDestroy,this.updateTransform=this._originalUpdateTransform,this.containsPoint=this._originalContainsPoint))}}}),e.prototype._renderCachedWebGL=function(a){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(a),this._cachedSprite.worldAlpha=this.worldAlpha,a.setObjectRenderer(a.plugins.sprite),a.plugins.sprite.render(this._cachedSprite))},e.prototype._initCachedDisplayObject=function(a){if(!this._cachedSprite){a.currentRenderer.flush();var b=this.getLocalBounds().clone();if(this._filters){var c=this._filters[0].padding;b.x-=c,b.y-=c,b.width+=2*c,b.height+=2*c}var e=a.currentRenderTarget,g=a.filterManager.filterStack,h=new d.RenderTexture(a,0|b.width,0|b.height),i=f;i.tx=-b.x,i.ty=-b.y,this.renderWebGL=this._originalRenderWebGL,h.render(this,i,!0,!0),a.setRenderTarget(e),a.filterManager.filterStack=g,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new d.Sprite(h),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(b.x/b.width),this._cachedSprite.anchor.y=-(b.y/b.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},e.prototype._renderCachedCanvas=function(a){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(a),this._cachedSprite.worldAlpha=this.worldAlpha,this._cachedSprite.renderCanvas(a))},e.prototype._initCachedDisplayObjectCanvas=function(a){if(!this._cachedSprite){var b=this.getLocalBounds(),c=a.context,e=new d.RenderTexture(a,0|b.width,0|b.height),g=f;g.tx=-b.x,g.ty=-b.y,this.renderCanvas=this._originalRenderCanvas,e.render(this,g,!0),a.context=c,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.getBounds=this._getCachedBounds,this._cachedSprite=new d.Sprite(e),this._cachedSprite.worldTransform=this.worldTransform,this._cachedSprite.anchor.x=-(b.x/b.width),this._cachedSprite.anchor.y=-(b.y/b.height),this.updateTransform(),this.containsPoint=this._cachedSprite.containsPoint.bind(this._cachedSprite)}},e.prototype._getCachedBounds=function(){return this._cachedSprite._currentBounds=null,this._cachedSprite.getBounds()},e.prototype._destroyCachedDisplayObject=function(){this._cachedSprite._texture.destroy(),this._cachedSprite=null},e.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this._originalDestroy()}},{"../core":29}],83:[function(a,b,c){var d=a("../core");d.DisplayObject.prototype.name=null,d.Container.prototype.getChildByName=function(a){for(var b=0;b<this.children.length;b++)if(this.children[b].name===a)return this.children[b];return null}},{"../core":29}],84:[function(a,b,c){var d=a("../core");d.DisplayObject.prototype.getGlobalPosition=function(a){return a=a||new d.Point,this.parent?(this.displayObjectUpdateTransform(),a.x=this.worldTransform.tx,a.y=this.worldTransform.ty):(a.x=this.position.x,a.y=this.position.y),a}},{"../core":29}],85:[function(a,b,c){a("./cacheAsBitmap"),a("./getChildByName"),a("./getGlobalPosition"),b.exports={MovieClip:a("./MovieClip"),TilingSprite:a("./TilingSprite"),BitmapText:a("./BitmapText")}},{"./BitmapText":79,"./MovieClip":80,"./TilingSprite":81,"./cacheAsBitmap":82,"./getChildByName":83,"./getGlobalPosition":84}],86:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"1f",value:8}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(a){this.uniforms.pixelSize.value=a}}})},{"../../core":29}],87:[function(a,b,c){function d(){e.AbstractFilter.call(this),this.blurXFilter=new f,this.blurYFilter=new g,this.defaultFilter=new e.AbstractFilter}var e=a("../../core"),f=a("../blur/BlurXFilter"),g=a("../blur/BlurYFilter");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager.getRenderTarget(!0);this.defaultFilter.applyFilter(a,b,c),this.blurXFilter.applyFilter(a,b,d),a.blendModeManager.setBlendMode(e.BLEND_MODES.SCREEN),this.blurYFilter.applyFilter(a,d,c),a.blendModeManager.setBlendMode(e.BLEND_MODES.NORMAL),a.filterManager.returnRenderTarget(d)},Object.defineProperties(d.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYFilter.blur=a}},blurX:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a}},blurY:{get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a}}})},{"../../core":29,"../blur/BlurXFilter":90,"../blur/BlurYFilter":91}],88:[function(a,b,c){function d(a,b){e.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",{strength:{type:"1f",value:1},dirX:{type:"1f",value:a||0},dirY:{type:"1f",value:b||0}}),this.defaultFilter=new e.AbstractFilter,this.passes=1,this.dirX=a||0,this.dirY=b||0,this.strength=4}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c,d){var e=this.getShader(a);if(this.uniforms.strength.value=this.strength/4/this.passes*(b.frame.width/b.size.width),1===this.passes)a.filterManager.applyFilter(e,b,c,d);else{var f=a.filterManager.getRenderTarget(!0);a.filterManager.applyFilter(e,b,f,d);for(var g=0;g<this.passes-2;g++)a.filterManager.applyFilter(e,f,f,d);a.filterManager.applyFilter(e,f,c,d),a.filterManager.returnRenderTarget(f)}},Object.defineProperties(d.prototype,{blur:{get:function(){return this.strength},set:function(a){this.padding=.5*a,this.strength=a}},dirX:{get:function(){return this.dirX},set:function(a){this.uniforms.dirX.value=a}},dirY:{get:function(){return this.dirY},set:function(a){this.uniforms.dirY.value=a}}})},{"../../core":29}],89:[function(a,b,c){function d(){e.AbstractFilter.call(this),this.blurXFilter=new f,this.blurYFilter=new g}var e=a("../../core"),f=a("./BlurXFilter"),g=a("./BlurYFilter");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager.getRenderTarget(!0);this.blurXFilter.applyFilter(a,b,d),this.blurYFilter.applyFilter(a,d,c),a.filterManager.returnRenderTarget(d)},Object.defineProperties(d.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(a){this.padding=.5*Math.abs(a),this.blurXFilter.blur=this.blurYFilter.blur=a}},passes:{get:function(){return this.blurXFilter.passes},set:function(a){this.blurXFilter.passes=this.blurYFilter.passes=a}},blurX:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a}},blurY:{get:function(){return this.blurYFilter.blur},set:function(a){this.blurYFilter.blur=a}}})},{"../../core":29,"./BlurXFilter":90,"./BlurYFilter":91}],90:[function(a,b,c){function d(){e.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c,d){var e=this.getShader(a);if(this.uniforms.strength.value=this.strength/4/this.passes*(b.frame.width/b.size.width),1===this.passes)a.filterManager.applyFilter(e,b,c,d);else{for(var f=a.filterManager.getRenderTarget(!0),g=b,h=f,i=0;i<this.passes-1;i++){a.filterManager.applyFilter(e,g,h,!0);var j=h;h=g,g=j}a.filterManager.applyFilter(e,g,c,d),a.filterManager.returnRenderTarget(f)}},Object.defineProperties(d.prototype,{blur:{get:function(){return this.strength},set:function(a){this.padding=.5*Math.abs(a),this.strength=a}}})},{"../../core":29}],91:[function(a,b,c){function d(){e.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",{strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c,d){var e=this.getShader(a);if(this.uniforms.strength.value=Math.abs(this.strength)/4/this.passes*(b.frame.height/b.size.height),1===this.passes)a.filterManager.applyFilter(e,b,c,d);else{for(var f=a.filterManager.getRenderTarget(!0),g=b,h=f,i=0;i<this.passes-1;i++){a.filterManager.applyFilter(e,g,h,!0);var j=h;h=g,g=j}a.filterManager.applyFilter(e,g,c,d),a.filterManager.returnRenderTarget(f)}},Object.defineProperties(d.prototype,{blur:{get:function(){return this.strength},set:function(a){this.padding=.5*Math.abs(a),this.strength=a}}})},{"../../core":29}],92:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{delta:{type:"v2",value:{x:.1,y:0}}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d},{"../../core":29}],93:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",{m:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype._loadMatrix=function(a,b){b=!!b;var c=a;b&&(this._multiply(c,this.uniforms.m.value,a),c=this._colorMatrix(c)),this.uniforms.m.value=c},d.prototype._multiply=function(a,b,c){return a[0]=b[0]*c[0]+b[1]*c[5]+b[2]*c[10]+b[3]*c[15],a[1]=b[0]*c[1]+b[1]*c[6]+b[2]*c[11]+b[3]*c[16],a[2]=b[0]*c[2]+b[1]*c[7]+b[2]*c[12]+b[3]*c[17],a[3]=b[0]*c[3]+b[1]*c[8]+b[2]*c[13]+b[3]*c[18],a[4]=b[0]*c[4]+b[1]*c[9]+b[2]*c[14]+b[3]*c[19],a[5]=b[5]*c[0]+b[6]*c[5]+b[7]*c[10]+b[8]*c[15],a[6]=b[5]*c[1]+b[6]*c[6]+b[7]*c[11]+b[8]*c[16],a[7]=b[5]*c[2]+b[6]*c[7]+b[7]*c[12]+b[8]*c[17],a[8]=b[5]*c[3]+b[6]*c[8]+b[7]*c[13]+b[8]*c[18],a[9]=b[5]*c[4]+b[6]*c[9]+b[7]*c[14]+b[8]*c[19],a[10]=b[10]*c[0]+b[11]*c[5]+b[12]*c[10]+b[13]*c[15],a[11]=b[10]*c[1]+b[11]*c[6]+b[12]*c[11]+b[13]*c[16],a[12]=b[10]*c[2]+b[11]*c[7]+b[12]*c[12]+b[13]*c[17],a[13]=b[10]*c[3]+b[11]*c[8]+b[12]*c[13]+b[13]*c[18],a[14]=b[10]*c[4]+b[11]*c[9]+b[12]*c[14]+b[13]*c[19],a[15]=b[15]*c[0]+b[16]*c[5]+b[17]*c[10]+b[18]*c[15],a[16]=b[15]*c[1]+b[16]*c[6]+b[17]*c[11]+b[18]*c[16],a[17]=b[15]*c[2]+b[16]*c[7]+b[17]*c[12]+b[18]*c[17],a[18]=b[15]*c[3]+b[16]*c[8]+b[17]*c[13]+b[18]*c[18],a[19]=b[15]*c[4]+b[16]*c[9]+b[17]*c[14]+b[18]*c[19],a},d.prototype._colorMatrix=function(a){var b=new Float32Array(a);return b[4]/=255,b[9]/=255,b[14]/=255,b[19]/=255,b},d.prototype.brightness=function(a,b){var c=[a,0,0,0,0,0,a,0,0,0,0,0,a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},d.prototype.greyscale=function(a,b){var c=[a,a,a,0,0,a,a,a,0,0,a,a,a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},d.prototype.grayscale=d.prototype.greyscale,d.prototype.blackAndWhite=function(a){var b=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.hue=function(a,b){a=(a||0)/180*Math.PI;var c=Math.cos(a),d=Math.sin(a),e=.213,f=.715,g=.072,h=[e+c*(1-e)+d*-e,f+c*-f+d*-f,g+c*-g+d*(1-g),0,0,e+c*-e+.143*d,f+c*(1-f)+.14*d,g+c*-g+d*-.283,0,0,e+c*-e+d*-(1-e),f+c*-f+d*f,g+c*(1-g)+d*g,0,0,0,0,0,1,0];this._loadMatrix(h,b)},d.prototype.contrast=function(a,b){var c=(a||0)+1,d=-128*(c-1),e=[c,0,0,0,d,0,c,0,0,d,0,0,c,0,d,0,0,0,1,0];this._loadMatrix(e,b)},d.prototype.saturate=function(a,b){var c=2*(a||0)/3+1,d=(c-1)*-.5,e=[c,d,d,0,0,d,c,d,0,0,d,d,c,0,0,0,0,0,1,0];this._loadMatrix(e,b)},d.prototype.desaturate=function(a){this.saturate(-1)},d.prototype.negative=function(a){var b=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.sepia=function(a){var b=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.technicolor=function(a){var b=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.polaroid=function(a){var b=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.toBGR=function(a){var b=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.kodachrome=function(a){var b=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.browni=function(a){var b=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.vintage=function(a){var b=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.colorTone=function(a,b,c,d,e){a=a||.2,b=b||.15,c=c||16770432,d=d||3375104;var f=(c>>16&255)/255,g=(c>>8&255)/255,h=(255&c)/255,i=(d>>16&255)/255,j=(d>>8&255)/255,k=(255&d)/255,l=[.3,.59,.11,0,0,f,g,h,a,0,i,j,k,b,0,f-i,g-j,h-k,0,0];this._loadMatrix(l,e)},d.prototype.night=function(a,b){a=a||.1;var c=[-2*a,-a,0,0,0,-a,0,a,0,0,0,a,2*a,0,0,0,0,0,1,0];this._loadMatrix(c,b)},d.prototype.predator=function(a,b){var c=[11.224130630493164*a,-4.794486999511719*a,-2.8746118545532227*a,0*a,.40342438220977783*a,-3.6330697536468506*a,9.193157196044922*a,-2.951810836791992*a,0*a,-1.316135048866272*a,-3.2184197902679443*a,-4.2375030517578125*a,7.476448059082031*a,0*a,.8044459223747253*a,0,0,0,1,0];this._loadMatrix(c,b)},d.prototype.lsd=function(a){var b=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(b,a)},d.prototype.reset=function(){var a=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(a,!1)},Object.defineProperties(d.prototype,{matrix:{get:function(){return this.uniforms.m.value},set:function(a){this.uniforms.m.value=a}}})},{"../../core":29}],94:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",{step:{type:"1f",value:5}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{step:{get:function(){return this.uniforms.step.value},set:function(a){this.uniforms.step.value=a}}})},{"../../core":29}],95:[function(a,b,c){function d(a,b,c){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",{matrix:{type:"1fv",value:new Float32Array(a)},texelSize:{type:"v2",value:{x:1/b,y:1/c}}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{matrix:{get:function(){return this.uniforms.matrix.value},set:function(a){this.uniforms.matrix.value=new Float32Array(a)}},width:{get:function(){return 1/this.uniforms.texelSize.value.x},set:function(a){this.uniforms.texelSize.value.x=1/a}},height:{get:function(){return 1/this.uniforms.texelSize.value.y},set:function(a){this.uniforms.texelSize.value.y=1/a}}})},{"../../core":29}],96:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d},{"../../core":29}],97:[function(a,b,c){function d(a){var b=new e.Matrix;a.renderable=!1,e.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 original =  texture2D(uSampler, vTextureCoord);\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{mapSampler:{type:"sampler2D",value:a.texture},otherMatrix:{type:"mat3",value:b.toArray(!0)},scale:{type:"v2",value:{x:1,y:1}}}),this.maskSprite=a,this.maskMatrix=b,this.scale=new e.Point(20,20)}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager;d.calculateMappedMatrix(b.frame,this.maskSprite,this.maskMatrix),this.uniforms.otherMatrix.value=this.maskMatrix.toArray(!0),this.uniforms.scale.value.x=this.scale.x*(1/b.frame.width),this.uniforms.scale.value.y=this.scale.y*(1/b.frame.height);var e=this.getShader(a);d.applyFilter(e,b,c)},Object.defineProperties(d.prototype,{map:{get:function(){return this.uniforms.mapSampler.value},set:function(a){this.uniforms.mapSampler.value=a}}})},{"../../core":29}],98:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",{scale:{type:"1f",value:1},angle:{type:"1f",value:5},dimensions:{type:"4fv",value:[0,0,0,0]}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{scale:{get:function(){return this.uniforms.scale.value},set:function(a){this.uniforms.scale.value=a}},angle:{get:function(){
return this.uniforms.angle.value},set:function(a){this.uniforms.angle.value=a}}})},{"../../core":29}],99:[function(a,b,c){function d(){e.AbstractFilter.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n","precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},strength:{type:"1f",value:1}}),this.passes=1,this.strength=4}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c,d){var e=this.getShader(a);if(this.uniforms.strength.value=this.strength/4/this.passes*(b.frame.height/b.size.height),1===this.passes)a.filterManager.applyFilter(e,b,c,d);else{for(var f=a.filterManager.getRenderTarget(!0),g=b,h=f,i=0;i<this.passes-1;i++){a.filterManager.applyFilter(e,g,h,d);var j=h;h=g,g=j}a.filterManager.applyFilter(e,g,c,d),a.filterManager.returnRenderTarget(f)}},Object.defineProperties(d.prototype,{blur:{get:function(){return this.strength},set:function(a){this.padding=.5*a,this.strength=a}}})},{"../../core":29}],100:[function(a,b,c){function d(){e.AbstractFilter.call(this),this.blurXFilter=new f,this.blurYTintFilter=new g,this.defaultFilter=new e.AbstractFilter,this.padding=30,this._dirtyPosition=!0,this._angle=45*Math.PI/180,this._distance=10,this.alpha=.75,this.hideObject=!1,this.blendMode=e.BLEND_MODES.MULTIPLY}var e=a("../../core"),f=a("../blur/BlurXFilter"),g=a("./BlurYTintFilter");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager.getRenderTarget(!0);this._dirtyPosition&&(this._dirtyPosition=!1,this.blurYTintFilter.uniforms.offset.value[0]=Math.sin(this._angle)*this._distance,this.blurYTintFilter.uniforms.offset.value[1]=Math.cos(this._angle)*this._distance),this.blurXFilter.applyFilter(a,b,d),a.blendModeManager.setBlendMode(this.blendMode),this.blurYTintFilter.applyFilter(a,d,c),a.blendModeManager.setBlendMode(e.BLEND_MODES.NORMAL),this.hideObject||this.defaultFilter.applyFilter(a,b,c),a.filterManager.returnRenderTarget(d)},Object.defineProperties(d.prototype,{blur:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=this.blurYTintFilter.blur=a}},blurX:{get:function(){return this.blurXFilter.blur},set:function(a){this.blurXFilter.blur=a}},blurY:{get:function(){return this.blurYTintFilter.blur},set:function(a){this.blurYTintFilter.blur=a}},color:{get:function(){return e.utils.rgb2hex(this.blurYTintFilter.uniforms.color.value)},set:function(a){this.blurYTintFilter.uniforms.color.value=e.utils.hex2rgb(a)}},alpha:{get:function(){return this.blurYTintFilter.uniforms.alpha.value},set:function(a){this.blurYTintFilter.uniforms.alpha.value=a}},distance:{get:function(){return this._distance},set:function(a){this._dirtyPosition=!0,this._distance=a}},angle:{get:function(){return this._angle},set:function(a){this._dirtyPosition=!0,this._angle=a}}})},{"../../core":29,"../blur/BlurXFilter":90,"./BlurYTintFilter":99}],101:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{gray:{type:"1f",value:1}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{gray:{get:function(){return this.uniforms.gray.value},set:function(a){this.uniforms.gray.value=a}}})},{"../../core":29}],102:[function(a,b,c){b.exports={AsciiFilter:a("./ascii/AsciiFilter"),BloomFilter:a("./bloom/BloomFilter"),BlurFilter:a("./blur/BlurFilter"),BlurXFilter:a("./blur/BlurXFilter"),BlurYFilter:a("./blur/BlurYFilter"),BlurDirFilter:a("./blur/BlurDirFilter"),ColorMatrixFilter:a("./color/ColorMatrixFilter"),ColorStepFilter:a("./color/ColorStepFilter"),ConvolutionFilter:a("./convolution/ConvolutionFilter"),CrossHatchFilter:a("./crosshatch/CrossHatchFilter"),DisplacementFilter:a("./displacement/DisplacementFilter"),DotScreenFilter:a("./dot/DotScreenFilter"),GrayFilter:a("./gray/GrayFilter"),DropShadowFilter:a("./dropshadow/DropShadowFilter"),InvertFilter:a("./invert/InvertFilter"),NoiseFilter:a("./noise/NoiseFilter"),NormalMapFilter:a("./normal/NormalMapFilter"),PixelateFilter:a("./pixelate/PixelateFilter"),RGBSplitFilter:a("./rgb/RGBSplitFilter"),ShockwaveFilter:a("./shockwave/ShockwaveFilter"),SepiaFilter:a("./sepia/SepiaFilter"),SmartBlurFilter:a("./blur/SmartBlurFilter"),TiltShiftFilter:a("./tiltshift/TiltShiftFilter"),TiltShiftXFilter:a("./tiltshift/TiltShiftXFilter"),TiltShiftYFilter:a("./tiltshift/TiltShiftYFilter"),TwistFilter:a("./twist/TwistFilter")}},{"./ascii/AsciiFilter":86,"./bloom/BloomFilter":87,"./blur/BlurDirFilter":88,"./blur/BlurFilter":89,"./blur/BlurXFilter":90,"./blur/BlurYFilter":91,"./blur/SmartBlurFilter":92,"./color/ColorMatrixFilter":93,"./color/ColorStepFilter":94,"./convolution/ConvolutionFilter":95,"./crosshatch/CrossHatchFilter":96,"./displacement/DisplacementFilter":97,"./dot/DotScreenFilter":98,"./dropshadow/DropShadowFilter":100,"./gray/GrayFilter":101,"./invert/InvertFilter":103,"./noise/NoiseFilter":104,"./normal/NormalMapFilter":105,"./pixelate/PixelateFilter":106,"./rgb/RGBSplitFilter":107,"./sepia/SepiaFilter":108,"./shockwave/ShockwaveFilter":109,"./tiltshift/TiltShiftFilter":111,"./tiltshift/TiltShiftXFilter":112,"./tiltshift/TiltShiftYFilter":113,"./twist/TwistFilter":114}],103:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",{invert:{type:"1f",value:1}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{invert:{get:function(){return this.uniforms.invert.value},set:function(a){this.uniforms.invert.value=a}}})},{"../../core":29}],104:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",{noise:{type:"1f",value:.5}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{noise:{get:function(){return this.uniforms.noise.value},set:function(a){this.uniforms.noise.value=a}}})},{"../../core":29}],105:[function(a,b,c){function d(a){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D displacementMap;\nuniform sampler2D uSampler;\n\nuniform vec4 dimensions;\n\nconst vec2 Resolution = vec2(1.0,1.0);      //resolution of screen\nuniform vec3 LightPos;    //light position, normalized\nconst vec4 LightColor = vec4(1.0, 1.0, 1.0, 1.0);      //light RGBA -- alpha is intensity\nconst vec4 AmbientColor = vec4(1.0, 1.0, 1.0, 0.5);    //ambient RGBA -- alpha is intensity\nconst vec3 Falloff = vec3(0.0, 1.0, 0.2);         //attenuation coefficients\n\nuniform vec3 LightDir; // = vec3(1.0, 0.0, 1.0);\n\nuniform vec2 mapDimensions; // = vec2(256.0, 256.0);\n\n\nvoid main(void)\n{\n    vec2 mapCords = vTextureCoord.xy;\n\n    vec4 color = texture2D(uSampler, vTextureCoord.st);\n    vec3 nColor = texture2D(displacementMap, vTextureCoord.st).rgb;\n\n\n    mapCords *= vec2(dimensions.x/512.0, dimensions.y/512.0);\n\n    mapCords.y *= -1.0;\n    mapCords.y += 1.0;\n\n    // RGBA of our diffuse color\n    vec4 DiffuseColor = texture2D(uSampler, vTextureCoord);\n\n    // RGB of our normal map\n    vec3 NormalMap = texture2D(displacementMap, mapCords).rgb;\n\n    // The delta position of light\n    // vec3 LightDir = vec3(LightPos.xy - (gl_FragCoord.xy / Resolution.xy), LightPos.z);\n    vec3 LightDir = vec3(LightPos.xy - (mapCords.xy), LightPos.z);\n\n    // Correct for aspect ratio\n    // LightDir.x *= Resolution.x / Resolution.y;\n\n    // Determine distance (used for attenuation) BEFORE we normalize our LightDir\n    float D = length(LightDir);\n\n    // normalize our vectors\n    vec3 N = normalize(NormalMap * 2.0 - 1.0);\n    vec3 L = normalize(LightDir);\n\n    // Pre-multiply light color with intensity\n    // Then perform 'N dot L' to determine our diffuse term\n    vec3 Diffuse = (LightColor.rgb * LightColor.a) * max(dot(N, L), 0.0);\n\n    // pre-multiply ambient color with intensity\n    vec3 Ambient = AmbientColor.rgb * AmbientColor.a;\n\n    // calculate attenuation\n    float Attenuation = 1.0 / ( Falloff.x + (Falloff.y*D) + (Falloff.z*D*D) );\n\n    // the calculation which brings it all together\n    vec3 Intensity = Ambient + Diffuse * Attenuation;\n    vec3 FinalColor = DiffuseColor.rgb * Intensity;\n    gl_FragColor = vColor * vec4(FinalColor, DiffuseColor.a);\n\n    // gl_FragColor = vec4(1.0, 0.0, 0.0, Attenuation); // vColor * vec4(FinalColor, DiffuseColor.a);\n\n/*\n    // normalise color\n    vec3 normal = normalize(nColor * 2.0 - 1.0);\n\n    vec3 deltaPos = vec3( (light.xy - gl_FragCoord.xy) / resolution.xy, light.z );\n\n    float lambert = clamp(dot(normal, lightDir), 0.0, 1.0);\n\n    float d = sqrt(dot(deltaPos, deltaPos));\n    float att = 1.0 / ( attenuation.x + (attenuation.y*d) + (attenuation.z*d*d) );\n\n    vec3 result = (ambientColor * ambientIntensity) + (lightColor.rgb * lambert) * att;\n    result *= color.rgb;\n\n    gl_FragColor = vec4(result, 1.0);\n*/\n}\n",{displacementMap:{type:"sampler2D",value:a},scale:{type:"2f",value:{x:15,y:15}},offset:{type:"2f",value:{x:0,y:0}},mapDimensions:{type:"2f",value:{x:1,y:1}},dimensions:{type:"4f",value:[0,0,0,0]},LightPos:{type:"3f",value:[0,1,0]}}),a.baseTexture._powerOf2=!0,a.baseTexture.hasLoaded?this.onTextureLoaded():a.baseTexture.once("loaded",this.onTextureLoaded,this)}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.onTextureLoaded=function(){this.uniforms.mapDimensions.value.x=this.uniforms.displacementMap.value.width,this.uniforms.mapDimensions.value.y=this.uniforms.displacementMap.value.height},Object.defineProperties(d.prototype,{map:{get:function(){return this.uniforms.displacementMap.value},set:function(a){this.uniforms.displacementMap.value=a}},scale:{get:function(){return this.uniforms.scale.value},set:function(a){this.uniforms.scale.value=a}},offset:{get:function(){return this.uniforms.offset.value},set:function(a){this.uniforms.offset.value=a}}})},{"../../core":29}],106:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",{dimensions:{type:"4fv",value:new Float32Array([0,0,0,0])},pixelSize:{type:"v2",value:{x:10,y:10}}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{size:{get:function(){return this.uniforms.pixelSize.value},set:function(a){this.uniforms.pixelSize.value=a}}})},{"../../core":29}],107:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},dimensions:{type:"4fv",value:[0,0,0,0]}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{red:{get:function(){return this.uniforms.red.value},set:function(a){this.uniforms.red.value=a}},green:{get:function(){return this.uniforms.green.value},set:function(a){this.uniforms.green.value=a}},blue:{get:function(){return this.uniforms.blue.value},set:function(a){this.uniforms.blue.value=a}}})},{"../../core":29}],108:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{sepia:{type:"1f",value:1}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{sepia:{get:function(){return this.uniforms.sepia.value},set:function(a){this.uniforms.sepia.value=a}}})},{"../../core":29}],109:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",{center:{type:"v2",value:{x:.5,y:.5}},params:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{center:{get:function(){return this.uniforms.center.value},set:function(a){this.uniforms.center.value=a}},params:{get:function(){return this.uniforms.params.value},set:function(a){this.uniforms.params.value=a}},time:{get:function(){return this.uniforms.time.value},set:function(a){this.uniforms.time.value=a}}})},{"../../core":29}],110:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",{blur:{type:"1f",value:100},gradientBlur:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},delta:{type:"v2",value:{x:30,y:30}},texSize:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}}),this.updateDelta()}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.updateDelta=function(){this.uniforms.delta.value.x=0,this.uniforms.delta.value.y=0},Object.defineProperties(d.prototype,{blur:{get:function(){return this.uniforms.blur.value},set:function(a){this.uniforms.blur.value=a}},gradientBlur:{get:function(){return this.uniforms.gradientBlur.value},set:function(a){this.uniforms.gradientBlur.value=a}},start:{get:function(){return this.uniforms.start.value},set:function(a){this.uniforms.start.value=a,this.updateDelta()}},end:{get:function(){return this.uniforms.end.value},set:function(a){this.uniforms.end.value=a,this.updateDelta()}}})},{"../../core":29}],111:[function(a,b,c){function d(){e.AbstractFilter.call(this),this.tiltShiftXFilter=new f,this.tiltShiftYFilter=new g}var e=a("../../core"),f=a("./TiltShiftXFilter"),g=a("./TiltShiftYFilter");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.applyFilter=function(a,b,c){var d=a.filterManager.getRenderTarget(!0);this.tiltShiftXFilter.applyFilter(a,b,d),this.tiltShiftYFilter.applyFilter(a,d,c),a.filterManager.returnRenderTarget(d)},Object.defineProperties(d.prototype,{blur:{get:function(){return this.tiltShiftXFilter.blur},set:function(a){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=a}},gradientBlur:{get:function(){return this.tiltShiftXFilter.gradientBlur},set:function(a){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=a}},start:{get:function(){return this.tiltShiftXFilter.start},set:function(a){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=a}},end:{get:function(){return this.tiltShiftXFilter.end},set:function(a){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=a}}})},{"../../core":29,"./TiltShiftXFilter":112,"./TiltShiftYFilter":113}],112:[function(a,b,c){function d(){e.call(this)}var e=a("./TiltShiftAxisFilter");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.updateDelta=function(){var a=this.uniforms.end.value.x-this.uniforms.start.value.x,b=this.uniforms.end.value.y-this.uniforms.start.value.y,c=Math.sqrt(a*a+b*b);this.uniforms.delta.value.x=a/c,this.uniforms.delta.value.y=b/c}},{"./TiltShiftAxisFilter":110}],113:[function(a,b,c){function d(){e.call(this)}var e=a("./TiltShiftAxisFilter");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.updateDelta=function(){var a=this.uniforms.end.value.x-this.uniforms.start.value.x,b=this.uniforms.end.value.y-this.uniforms.start.value.y,c=Math.sqrt(a*a+b*b);this.uniforms.delta.value.x=-b/c,this.uniforms.delta.value.y=a/c}},{"./TiltShiftAxisFilter":110}],114:[function(a,b,c){function d(){e.AbstractFilter.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",{radius:{type:"1f",value:.5},angle:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var e=a("../../core");d.prototype=Object.create(e.AbstractFilter.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{offset:{get:function(){return this.uniforms.offset.value},set:function(a){this.uniforms.offset.value=a}},radius:{get:function(){return this.uniforms.radius.value},set:function(a){this.uniforms.radius.value=a}},angle:{get:function(){return this.uniforms.angle.value},set:function(a){this.uniforms.angle.value=a}}})},{"../../core":29}],115:[function(a,b,c){function d(){this.global=new e.Point,this.target=null,this.originalEvent=null}var e=a("../core");d.prototype.constructor=d,b.exports=d,d.prototype.getLocalPosition=function(a,b,c){var d=a.worldTransform,f=c?c:this.global,g=d.a,h=d.c,i=d.tx,j=d.b,k=d.d,l=d.ty,m=1/(g*k+h*-j);return b=b||new e.Point,b.x=k*m*f.x+-h*m*f.x+(l*h-i*k)*m,b.y=g*m*f.y+-j*m*f.y+(-l*g+i*j)*m,b}},{"../core":29}],116:[function(a,b,c){function d(a,b){b=b||{},this.renderer=a,this.autoPreventDefault=void 0!==b.autoPreventDefault?b.autoPreventDefault:!0,this.interactionFrequency=b.interactionFrequency||10,this.mouse=new f,this.eventData={stopped:!1,target:null,type:null,data:this.mouse,stopPropagation:function(){this.stopped=!0}},this.interactiveDataPool=[],this.interactionDOMElement=null,this.eventsAdded=!1,this.onMouseUp=this.onMouseUp.bind(this),this.processMouseUp=this.processMouseUp.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.processMouseDown=this.processMouseDown.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.processMouseMove=this.processMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.processMouseOverOut=this.processMouseOverOut.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.processTouchStart=this.processTouchStart.bind(this),this.onTouchEnd=this.onTouchEnd.bind(this),this.processTouchEnd=this.processTouchEnd.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.processTouchMove=this.processTouchMove.bind(this),this.last=0,this.currentCursorStyle="inherit",this._tempPoint=new e.Point,this.resolution=1,this.setTargetElement(this.renderer.view,this.renderer.resolution)}var e=a("../core"),f=a("./InteractionData");Object.assign(e.DisplayObject.prototype,a("./interactiveTarget")),d.prototype.constructor=d,b.exports=d,d.prototype.setTargetElement=function(a,b){this.removeEvents(),this.interactionDOMElement=a,this.resolution=b||1,this.addEvents()},d.prototype.addEvents=function(){this.interactionDOMElement&&(e.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!0)},d.prototype.removeEvents=function(){this.interactionDOMElement&&(e.ticker.shared.remove(this.update),window.navigator.msPointerEnabled&&(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0),this.interactionDOMElement=null,window.removeEventListener("mouseup",this.onMouseUp,!0),this.eventsAdded=!1)},d.prototype.update=function(a){if(this._deltaTime+=a,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},d.prototype.dispatchEvent=function(a,b,c){c.stopped||(c.target=a,c.type=b,a.emit(b,c),a[b]&&a[b](c))},d.prototype.mapPositionToPoint=function(a,b,c){var d=this.interactionDOMElement.getBoundingClientRect();a.x=(b-d.left)*(this.interactionDOMElement.width/d.width)/this.resolution,a.y=(c-d.top)*(this.interactionDOMElement.height/d.height)/this.resolution},d.prototype.processInteractive=function(a,b,c,d,e){if(!b.visible)return!1;var f=b.children,g=!1;if(e=e||b.interactive,b.interactiveChildren)for(var h=f.length-1;h>=0;h--)!g&&d?g=this.processInteractive(a,f[h],c,!0,e):this.processInteractive(a,f[h],c,!1,!1);return e&&(d&&(b.hitArea?(b.worldTransform.applyInverse(a,this._tempPoint),g=b.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):b.containsPoint&&(g=b.containsPoint(a))),b.interactive&&c(b,g)),g},d.prototype.onMouseDown=function(a){this.mouse.originalEvent=a,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0)},d.prototype.processMouseDown=function(a,b){var c=this.mouse.originalEvent,d=2===c.button||3===c.which;b&&(a[d?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(a,d?"rightdown":"mousedown",this.eventData))},d.prototype.onMouseUp=function(a){this.mouse.originalEvent=a,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0)},d.prototype.processMouseUp=function(a,b){var c=this.mouse.originalEvent,d=2===c.button||3===c.which,e=d?"_isRightDown":"_isLeftDown";b?(this.dispatchEvent(a,d?"rightup":"mouseup",this.eventData),a[e]&&(a[e]=!1,this.dispatchEvent(a,d?"rightclick":"click",this.eventData))):a[e]&&(a[e]=!1,this.dispatchEvent(a,d?"rightupoutside":"mouseupoutside",this.eventData))},d.prototype.onMouseMove=function(a){this.mouse.originalEvent=a,this.eventData.data=this.mouse,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY),this.didMove=!0,this.cursor="inherit",this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},d.prototype.processMouseMove=function(a,b){this.dispatchEvent(a,"mousemove",this.eventData),this.processMouseOverOut(a,b)},d.prototype.onMouseOut=function(a){this.mouse.originalEvent=a,this.eventData.stopped=!1,this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY),this.interactionDOMElement.style.cursor="inherit",this.mapPositionToPoint(this.mouse.global,a.clientX,a.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1)},d.prototype.processMouseOverOut=function(a,b){b?(a._over||(a._over=!0,this.dispatchEvent(a,"mouseover",this.eventData)),a.buttonMode&&(this.cursor=a.defaultCursor)):a._over&&(a._over=!1,this.dispatchEvent(a,"mouseout",this.eventData))},d.prototype.onTouchStart=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;c>d;d++){var e=b[d],f=this.getTouchData(e);f.originalEvent=a,this.eventData.data=f,this.eventData.stopped=!1,this.processInteractive(f.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.returnTouchData(f)}},d.prototype.processTouchStart=function(a,b){b&&(a._touchDown=!0,this.dispatchEvent(a,"touchstart",this.eventData))},d.prototype.onTouchEnd=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;c>d;d++){var e=b[d],f=this.getTouchData(e);f.originalEvent=a,this.eventData.data=f,this.eventData.stopped=!1,this.processInteractive(f.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.returnTouchData(f)}},d.prototype.processTouchEnd=function(a,b){b?(this.dispatchEvent(a,"touchend",this.eventData),a._touchDown&&(a._touchDown=!1,this.dispatchEvent(a,"tap",this.eventData))):a._touchDown&&(a._touchDown=!1,this.dispatchEvent(a,"touchendoutside",this.eventData))},d.prototype.onTouchMove=function(a){this.autoPreventDefault&&a.preventDefault();for(var b=a.changedTouches,c=b.length,d=0;c>d;d++){var e=b[d],f=this.getTouchData(e);f.originalEvent=a,this.eventData.data=f,this.eventData.stopped=!1,this.processInteractive(f.global,this.renderer._lastObjectRendered,this.processTouchMove,!1),this.returnTouchData(f)}},d.prototype.processTouchMove=function(a,b){b=b,this.dispatchEvent(a,"touchmove",this.eventData)},d.prototype.getTouchData=function(a){var b=this.interactiveDataPool.pop();return b||(b=new f),b.identifier=a.identifier,this.mapPositionToPoint(b.global,a.clientX,a.clientY),navigator.isCocoonJS&&(b.global.x=b.global.x/this.resolution,b.global.y=b.global.y/this.resolution),a.globalX=b.global.x,a.globalY=b.global.y,b},d.prototype.returnTouchData=function(a){this.interactiveDataPool.push(a)},d.prototype.destroy=function(){this.removeEvents(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onTouchStart=null,
this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},e.WebGLRenderer.registerPlugin("interaction",d),e.CanvasRenderer.registerPlugin("interaction",d)},{"../core":29,"./InteractionData":115,"./interactiveTarget":118}],117:[function(a,b,c){b.exports={InteractionData:a("./InteractionData"),InteractionManager:a("./InteractionManager"),interactiveTarget:a("./interactiveTarget")}},{"./InteractionData":115,"./InteractionManager":116,"./interactiveTarget":118}],118:[function(a,b,c){var d={interactive:!1,buttonMode:!1,interactiveChildren:!0,defaultCursor:"pointer",_over:!1,_touchDown:!1};b.exports=d},{}],119:[function(a,b,c){function d(a,b){var c={},d=a.data.getElementsByTagName("info")[0],e=a.data.getElementsByTagName("common")[0];c.font=d.getAttribute("face"),c.size=parseInt(d.getAttribute("size"),10),c.lineHeight=parseInt(e.getAttribute("lineHeight"),10),c.chars={};for(var h=a.data.getElementsByTagName("char"),i=0;i<h.length;i++){var j=parseInt(h[i].getAttribute("id"),10),k=new f.Rectangle(parseInt(h[i].getAttribute("x"),10)+b.frame.x,parseInt(h[i].getAttribute("y"),10)+b.frame.y,parseInt(h[i].getAttribute("width"),10),parseInt(h[i].getAttribute("height"),10));c.chars[j]={xOffset:parseInt(h[i].getAttribute("xoffset"),10),yOffset:parseInt(h[i].getAttribute("yoffset"),10),xAdvance:parseInt(h[i].getAttribute("xadvance"),10),kerning:{},texture:new f.Texture(b.baseTexture,k)}}var l=a.data.getElementsByTagName("kerning");for(i=0;i<l.length;i++){var m=parseInt(l[i].getAttribute("first"),10),n=parseInt(l[i].getAttribute("second"),10),o=parseInt(l[i].getAttribute("amount"),10);c.chars[n].kerning[m]=o}a.bitmapFont=c,g.BitmapText.fonts[c.font]=c}var e=a("resource-loader").Resource,f=a("../core"),g=a("../extras"),h=a("path");b.exports=function(){return function(a,b){if(!a.data||!a.isXml)return b();if(0===a.data.getElementsByTagName("page").length||0===a.data.getElementsByTagName("info").length||null===a.data.getElementsByTagName("info")[0].getAttribute("face"))return b();var c=h.dirname(a.url);"."===c&&(c=""),this.baseUrl&&c&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(c+="/"),c=c.replace(this.baseUrl,"")),c&&"/"!==c.charAt(c.length-1)&&(c+="/");var g=c+a.data.getElementsByTagName("page")[0].getAttribute("file");if(f.utils.TextureCache[g])d(a,f.utils.TextureCache[g]),b();else{var i={crossOrigin:a.crossOrigin,loadType:e.LOAD_TYPE.IMAGE};this.add(a.name+"_image",g,i,function(c){d(a,c.texture),b()})}}}},{"../core":29,"../extras":85,path:3,"resource-loader":18}],120:[function(a,b,c){b.exports={Loader:a("./loader"),bitmapFontParser:a("./bitmapFontParser"),spritesheetParser:a("./spritesheetParser"),textureParser:a("./textureParser"),Resource:a("resource-loader").Resource}},{"./bitmapFontParser":119,"./loader":121,"./spritesheetParser":122,"./textureParser":123,"resource-loader":18}],121:[function(a,b,c){function d(a,b){e.call(this,a,b);for(var c=0;c<d._pixiMiddleware.length;++c)this.use(d._pixiMiddleware[c]())}var e=a("resource-loader"),f=a("./textureParser"),g=a("./spritesheetParser"),h=a("./bitmapFontParser");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d._pixiMiddleware=[e.middleware.parsing.blob,f,g,h],d.addPixiMiddleware=function(a){d._pixiMiddleware.push(a)};var i=e.Resource;i.setExtensionXhrType("fnt",i.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":119,"./spritesheetParser":122,"./textureParser":123,"resource-loader":18}],122:[function(a,b,c){var d=a("resource-loader").Resource,e=a("path"),f=a("../core");b.exports=function(){return function(a,b){if(!a.data||!a.isJson||!a.data.frames)return b();var c={crossOrigin:a.crossOrigin,loadType:d.LOAD_TYPE.IMAGE},g=e.dirname(a.url.replace(this.baseUrl,"")),h=f.utils.getResolutionOfUrl(a.url);this.add(a.name+"_image",g+"/"+a.data.meta.image,c,function(c){a.textures={};var d=a.data.frames;for(var e in d){var g=d[e].frame;if(g){var i=null,j=null;if(i=d[e].rotated?new f.Rectangle(g.x,g.y,g.h,g.w):new f.Rectangle(g.x,g.y,g.w,g.h),d[e].trimmed&&(j=new f.Rectangle(d[e].spriteSourceSize.x/h,d[e].spriteSourceSize.y/h,d[e].sourceSize.w/h,d[e].sourceSize.h/h)),d[e].rotated){var k=i.width;i.width=i.height,i.height=k}i.x/=h,i.y/=h,i.width/=h,i.height/=h,a.textures[e]=new f.Texture(c.texture.baseTexture,i,i.clone(),j,d[e].rotated),f.utils.TextureCache[e]=a.textures[e]}}b()})}}},{"../core":29,path:3,"resource-loader":18}],123:[function(a,b,c){var d=a("../core");b.exports=function(){return function(a,b){a.data&&a.isImage&&(a.texture=new d.Texture(new d.BaseTexture(a.data,null,d.utils.getResolutionOfUrl(a.url))),d.utils.TextureCache[a.url]=a.texture),b()}}},{"../core":29}],124:[function(a,b,c){function d(a,b,c,f,g){e.Container.call(this),this._texture=null,this.uvs=c||new Float32Array([0,1,1,1,1,0,0,1]),this.vertices=b||new Float32Array([0,0,100,0,100,100,0,100]),this.indices=f||new Uint16Array([0,1,2,3]),this.dirty=!0,this.blendMode=e.BLEND_MODES.NORMAL,this.canvasPadding=0,this.drawMode=g||d.DRAW_MODES.TRIANGLE_MESH,this.texture=a}var e=a("../core"),f=new e.Point,g=new e.Polygon;d.prototype=Object.create(e.Container.prototype),d.prototype.constructor=d,b.exports=d,Object.defineProperties(d.prototype,{texture:{get:function(){return this._texture},set:function(a){this._texture!==a&&(this._texture=a,a&&(a.baseTexture.hasLoaded?this._onTextureUpdate():a.once("update",this._onTextureUpdate,this)))}}}),d.prototype._renderWebGL=function(a){a.setObjectRenderer(a.plugins.mesh),a.plugins.mesh.render(this)},d.prototype._renderCanvas=function(a){var b=a.context,c=this.worldTransform;a.roundPixels?b.setTransform(c.a,c.b,c.c,c.d,0|c.tx,0|c.ty):b.setTransform(c.a,c.b,c.c,c.d,c.tx,c.ty),this.drawMode===d.DRAW_MODES.TRIANGLE_MESH?this._renderCanvasTriangleMesh(b):this._renderCanvasTriangles(b)},d.prototype._renderCanvasTriangleMesh=function(a){for(var b=this.vertices,c=this.uvs,d=b.length/2,e=0;d-2>e;e++){var f=2*e;this._renderCanvasDrawTriangle(a,b,c,f,f+2,f+4)}},d.prototype._renderCanvasTriangles=function(a){for(var b=this.vertices,c=this.uvs,d=this.indices,e=d.length,f=0;e>f;f+=3){var g=2*d[f],h=2*d[f+1],i=2*d[f+2];this._renderCanvasDrawTriangle(a,b,c,g,h,i)}},d.prototype._renderCanvasDrawTriangle=function(a,b,c,d,e,f){var g=this._texture.baseTexture.source,h=this._texture.baseTexture.width,i=this._texture.baseTexture.height,j=b[d],k=b[e],l=b[f],m=b[d+1],n=b[e+1],o=b[f+1],p=c[d]*h,q=c[e]*h,r=c[f]*h,s=c[d+1]*i,t=c[e+1]*i,u=c[f+1]*i;if(this.canvasPadding>0){var v=this.canvasPadding/this.worldTransform.a,w=this.canvasPadding/this.worldTransform.d,x=(j+k+l)/3,y=(m+n+o)/3,z=j-x,A=m-y,B=Math.sqrt(z*z+A*A);j=x+z/B*(B+v),m=y+A/B*(B+w),z=k-x,A=n-y,B=Math.sqrt(z*z+A*A),k=x+z/B*(B+v),n=y+A/B*(B+w),z=l-x,A=o-y,B=Math.sqrt(z*z+A*A),l=x+z/B*(B+v),o=y+A/B*(B+w)}a.save(),a.beginPath(),a.moveTo(j,m),a.lineTo(k,n),a.lineTo(l,o),a.closePath(),a.clip();var C=p*t+s*r+q*u-t*r-s*q-p*u,D=j*t+s*l+k*u-t*l-s*k-j*u,E=p*k+j*r+q*l-k*r-j*q-p*l,F=p*t*l+s*k*r+j*q*u-j*t*r-s*q*l-p*k*u,G=m*t+s*o+n*u-t*o-s*n-m*u,H=p*n+m*r+q*o-n*r-m*q-p*o,I=p*t*o+s*n*r+m*q*u-m*t*r-s*q*o-p*n*u;a.transform(D/C,G/C,E/C,H/C,F/C,I/C),a.drawImage(g,0,0),a.restore()},d.prototype.renderMeshFlat=function(a){var b=this.context,c=a.vertices,d=c.length/2;b.beginPath();for(var e=1;d-2>e;e++){var f=2*e,g=c[f],h=c[f+2],i=c[f+4],j=c[f+1],k=c[f+3],l=c[f+5];b.moveTo(g,j),b.lineTo(h,k),b.lineTo(i,l)}b.fillStyle="#FF0000",b.fill(),b.closePath()},d.prototype._onTextureUpdate=function(){this.updateFrame=!0},d.prototype.getBounds=function(a){if(!this._currentBounds){for(var b=a||this.worldTransform,c=b.a,d=b.b,f=b.c,g=b.d,h=b.tx,i=b.ty,j=-(1/0),k=-(1/0),l=1/0,m=1/0,n=this.vertices,o=0,p=n.length;p>o;o+=2){var q=n[o],r=n[o+1],s=c*q+f*r+h,t=g*r+d*q+i;l=l>s?s:l,m=m>t?t:m,j=s>j?s:j,k=t>k?t:k}if(l===-(1/0)||k===1/0)return e.Rectangle.EMPTY;var u=this._bounds;u.x=l,u.width=j-l,u.y=m,u.height=k-m,this._currentBounds=u}return this._currentBounds},d.prototype.containsPoint=function(a){if(!this.getBounds().contains(a.x,a.y))return!1;this.worldTransform.applyInverse(a,f);var b,c,e=this.vertices,h=g.points;if(this.drawMode===d.DRAW_MODES.TRIANGLES){var i=this.indices;for(c=this.indices.length,b=0;c>b;b+=3){var j=2*i[b],k=2*i[b+1],l=2*i[b+2];if(h[0]=e[j],h[1]=e[j+1],h[2]=e[k],h[3]=e[k+1],h[4]=e[l],h[5]=e[l+1],g.contains(f.x,f.y))return!0}}else for(c=e.length,b=0;c>b;b+=6)if(h[0]=e[b],h[1]=e[b+1],h[2]=e[b+2],h[3]=e[b+3],h[4]=e[b+4],h[5]=e[b+5],g.contains(f.x,f.y))return!0;return!1},d.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":29}],125:[function(a,b,c){function d(a,b){e.call(this,a),this.points=b,this.vertices=new Float32Array(4*b.length),this.uvs=new Float32Array(4*b.length),this.colors=new Float32Array(2*b.length),this.indices=new Uint16Array(2*b.length),this._ready=!0,this.refresh()}var e=a("./Mesh"),f=a("../core");d.prototype=Object.create(e.prototype),d.prototype.constructor=d,b.exports=d,d.prototype.refresh=function(){var a=this.points;if(!(a.length<1)&&this._texture._uvs){var b=this.uvs,c=this.indices,d=this.colors,e=this._texture._uvs,g=new f.Point(e.x0,e.y0),h=new f.Point(e.x2-e.x0,e.y2-e.y0);b[0]=0+g.x,b[1]=0+g.y,b[2]=0+g.x,b[3]=1*h.y+g.y,d[0]=1,d[1]=1,c[0]=0,c[1]=1;for(var i,j,k,l=a.length,m=1;l>m;m++)i=a[m],j=4*m,k=m/(l-1),b[j]=k*h.x+g.x,b[j+1]=0+g.y,b[j+2]=k*h.x+g.x,b[j+3]=1*h.y+g.y,j=2*m,d[j]=1,d[j+1]=1,j=2*m,c[j]=j,c[j+1]=j+1;this.dirty=!0}},d.prototype._onTextureUpdate=function(){e.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},d.prototype.updateTransform=function(){var a=this.points;if(!(a.length<1)){for(var b,c,d,e,f,g,h=a[0],i=0,j=0,k=this.vertices,l=a.length,m=0;l>m;m++)c=a[m],d=4*m,b=m<a.length-1?a[m+1]:c,j=-(b.x-h.x),i=b.y-h.y,e=10*(1-m/(l-1)),e>1&&(e=1),f=Math.sqrt(i*i+j*j),g=this._texture.height/2,i/=f,j/=f,i*=g,j*=g,k[d]=c.x+i,k[d+1]=c.y+j,k[d+2]=c.x-i,k[d+3]=c.y-j,h=c;this.containerUpdateTransform()}}},{"../core":29,"./Mesh":124}],126:[function(a,b,c){b.exports={Mesh:a("./Mesh"),Rope:a("./Rope"),MeshRenderer:a("./webgl/MeshRenderer"),MeshShader:a("./webgl/MeshShader")}},{"./Mesh":124,"./Rope":125,"./webgl/MeshRenderer":127,"./webgl/MeshShader":128}],127:[function(a,b,c){function d(a){e.ObjectRenderer.call(this,a),this.indices=new Uint16Array(15e3);for(var b=0,c=0;15e3>b;b+=6,c+=4)this.indices[b+0]=c+0,this.indices[b+1]=c+1,this.indices[b+2]=c+2,this.indices[b+3]=c+0,this.indices[b+4]=c+2,this.indices[b+5]=c+3}var e=a("../../core"),f=a("../Mesh");d.prototype=Object.create(e.ObjectRenderer.prototype),d.prototype.constructor=d,b.exports=d,e.WebGLRenderer.registerPlugin("mesh",d),d.prototype.onContextChange=function(){},d.prototype.render=function(a){a._vertexBuffer||this._initWebGL(a);var b=this.renderer,c=b.gl,d=a._texture.baseTexture,e=b.shaderManager.plugins.meshShader,g=a.drawMode===f.DRAW_MODES.TRIANGLE_MESH?c.TRIANGLE_STRIP:c.TRIANGLES;b.blendModeManager.setBlendMode(a.blendMode),c.uniformMatrix3fv(e.uniforms.translationMatrix._location,!1,a.worldTransform.toArray(!0)),c.uniformMatrix3fv(e.uniforms.projectionMatrix._location,!1,b.currentRenderTarget.projectionMatrix.toArray(!0)),c.uniform1f(e.uniforms.alpha._location,a.worldAlpha),a.dirty?(a.dirty=!1,c.bindBuffer(c.ARRAY_BUFFER,a._vertexBuffer),c.bufferData(c.ARRAY_BUFFER,a.vertices,c.STATIC_DRAW),c.vertexAttribPointer(e.attributes.aVertexPosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,a._uvBuffer),c.bufferData(c.ARRAY_BUFFER,a.uvs,c.STATIC_DRAW),c.vertexAttribPointer(e.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),d._glTextures[c.id]?c.bindTexture(c.TEXTURE_2D,d._glTextures[c.id]):this.renderer.updateTexture(d),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a._indexBuffer),c.bufferData(c.ELEMENT_ARRAY_BUFFER,a.indices,c.STATIC_DRAW)):(c.bindBuffer(c.ARRAY_BUFFER,a._vertexBuffer),c.bufferSubData(c.ARRAY_BUFFER,0,a.vertices),c.vertexAttribPointer(e.attributes.aVertexPosition,2,c.FLOAT,!1,0,0),c.bindBuffer(c.ARRAY_BUFFER,a._uvBuffer),c.vertexAttribPointer(e.attributes.aTextureCoord,2,c.FLOAT,!1,0,0),c.activeTexture(c.TEXTURE0),d._glTextures[c.id]?c.bindTexture(c.TEXTURE_2D,d._glTextures[c.id]):this.renderer.updateTexture(d),c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,a._indexBuffer),c.bufferSubData(c.ELEMENT_ARRAY_BUFFER,0,a.indices)),c.drawElements(g,a.indices.length,c.UNSIGNED_SHORT,0)},d.prototype._initWebGL=function(a){var b=this.renderer.gl;a._vertexBuffer=b.createBuffer(),a._indexBuffer=b.createBuffer(),a._uvBuffer=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,a._vertexBuffer),b.bufferData(b.ARRAY_BUFFER,a.vertices,b.DYNAMIC_DRAW),b.bindBuffer(b.ARRAY_BUFFER,a._uvBuffer),b.bufferData(b.ARRAY_BUFFER,a.uvs,b.STATIC_DRAW),a.colors&&(a._colorBuffer=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,a._colorBuffer),b.bufferData(b.ARRAY_BUFFER,a.colors,b.STATIC_DRAW)),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,a._indexBuffer),b.bufferData(b.ELEMENT_ARRAY_BUFFER,a.indices,b.STATIC_DRAW)},d.prototype.flush=function(){},d.prototype.start=function(){var a=this.renderer.shaderManager.plugins.meshShader;this.renderer.shaderManager.setShader(a)},d.prototype.destroy=function(){}},{"../../core":29,"../Mesh":124}],128:[function(a,b,c){function d(a){e.Shader.call(this,a,["precision lowp float;","attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","}"].join("\n"),["precision lowp float;","varying vec2 vTextureCoord;","uniform float alpha;","uniform sampler2D uSampler;","void main(void){","   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;","}"].join("\n"),{alpha:{type:"1f",value:0},translationMatrix:{type:"mat3",value:new Float32Array(9)},projectionMatrix:{type:"mat3",value:new Float32Array(9)}},{aVertexPosition:0,aTextureCoord:0})}var e=a("../../core");d.prototype=Object.create(e.Shader.prototype),d.prototype.constructor=d,b.exports=d,e.ShaderManager.registerPlugin("meshShader",d)},{"../../core":29}],129:[function(a,b,c){Object.assign||(Object.assign=a("object-assign"))},{"object-assign":12}],130:[function(a,b,c){a("./Object.assign"),a("./requestAnimationFrame")},{"./Object.assign":129,"./requestAnimationFrame":131}],131:[function(a,b,c){(function(a){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!a.performance||!a.performance.now){var b=Date.now();a.performance||(a.performance={}),a.performance.now=function(){return Date.now()-b}}for(var c=Date.now(),d=["ms","moz","webkit","o"],e=0;e<d.length&&!a.requestAnimationFrame;++e)a.requestAnimationFrame=a[d[e]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[d[e]+"CancelAnimationFrame"]||a[d[e]+"CancelRequestAnimationFrame"];a.requestAnimationFrame||(a.requestAnimationFrame=function(a){if("function"!=typeof a)throw new TypeError(a+"is not a function");var b=Date.now(),d=16+c-b;return 0>d&&(d=0),c=b,setTimeout(function(){c=Date.now(),a(performance.now())},d)}),a.cancelAnimationFrame||(a.cancelAnimationFrame=function(a){clearTimeout(a)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});var p2={World:function(){},Body:function(){}};!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.Promise=a()}}(function(){var a,b,c;return function d(a,b,c){function e(g,h){if(!b[g]){if(!a[g]){var i="function"==typeof _dereq_&&_dereq_;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=b[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,d,a,b,c)}return b[g].exports}for(var f="function"==typeof _dereq_&&_dereq_,g=0;g<c.length;g++)e(c[g]);return e}({1:[function(a,b,c){"use strict";b.exports=function(a){function b(a){var b=new c(a),d=b.promise();return b.setHowMany(1),b.setUnwrap(),b.init(),d}var c=a._SomePromiseArray;a.any=function(a){return b(a)},a.prototype.any=function(){return b(this)}}},{}],2:[function(a,b,c){"use strict";function d(){this._isTickUsed=!1,this._lateQueue=new k(16),this._normalQueue=new k(16),this._trampolineEnabled=!0;var a=this;this.drainQueues=function(){a._drainQueues()},this._schedule=j.isStatic?j(this.drainQueues):j}function e(a,b,c){this._lateQueue.push(a,b,c),this._queueTick()}function f(a,b,c){this._normalQueue.push(a,b,c),this._queueTick()}function g(a){this._normalQueue._pushOne(a),this._queueTick()}var h;try{throw new Error}catch(i){h=i}var j=a("./schedule.js"),k=a("./queue.js"),l=a("./util.js");d.prototype.disableTrampolineIfNecessary=function(){l.hasDevTools&&(this._trampolineEnabled=!1)},d.prototype.enableTrampoline=function(){this._trampolineEnabled||(this._trampolineEnabled=!0,this._schedule=function(a){setTimeout(a,0)})},d.prototype.haveItemsQueued=function(){return this._normalQueue.length()>0},d.prototype.throwLater=function(a,b){if(1===arguments.length&&(b=a,a=function(){throw b}),"undefined"!=typeof setTimeout)setTimeout(function(){a(b)},0);else try{this._schedule(function(){a(b)})}catch(c){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")}},l.hasDevTools?(j.isStatic&&(j=function(a){setTimeout(a,0)}),d.prototype.invokeLater=function(a,b,c){this._trampolineEnabled?e.call(this,a,b,c):this._schedule(function(){setTimeout(function(){a.call(b,c)},100)})},d.prototype.invoke=function(a,b,c){this._trampolineEnabled?f.call(this,a,b,c):this._schedule(function(){a.call(b,c)})},d.prototype.settlePromises=function(a){this._trampolineEnabled?g.call(this,a):this._schedule(function(){a._settlePromises()})}):(d.prototype.invokeLater=e,d.prototype.invoke=f,d.prototype.settlePromises=g),d.prototype.invokeFirst=function(a,b,c){this._normalQueue.unshift(a,b,c),this._queueTick()},d.prototype._drainQueue=function(a){for(;a.length()>0;){var b=a.shift();if("function"==typeof b){var c=a.shift(),d=a.shift();b.call(c,d)}else b._settlePromises()}},d.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._drainQueue(this._lateQueue)},d.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},d.prototype._reset=function(){this._isTickUsed=!1},b.exports=new d,b.exports.firstLineError=h},{"./queue.js":28,"./schedule.js":31,"./util.js":38}],3:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d=function(a,b){this._reject(b)},e=function(a,b){b.promiseRejectionQueued=!0,b.bindingPromise._then(d,d,null,this,a)},f=function(a,b){this._setBoundTo(a),this._isPending()&&this._resolveCallback(b.target)},g=function(a,b){b.promiseRejectionQueued||this._reject(a)};a.prototype.bind=function(d){var h=c(d),i=new a(b);i._propagateFrom(this,1);var j=this._target();if(h instanceof a){var k={promiseRejectionQueued:!1,promise:i,target:j,bindingPromise:h};j._then(b,e,i._progress,i,k),h._then(f,g,i._progress,i,k)}else i._setBoundTo(d),i._resolveCallback(j);return i},a.prototype._setBoundTo=function(a){void 0!==a?(this._bitField=131072|this._bitField,this._boundTo=a):this._bitField=-131073&this._bitField},a.prototype._isBound=function(){return 131072===(131072&this._bitField)},a.bind=function(d,e){var f=c(d),g=new a(b);return f instanceof a?f._then(function(a){g._setBoundTo(a),g._resolveCallback(e)},g._reject,g._progress,g,null):(g._setBoundTo(d),g._resolveCallback(e)),g}}},{}],4:[function(a,b,c){"use strict";function d(){try{Promise===f&&(Promise=e)}catch(a){}return f}var e;"undefined"!=typeof Promise&&(e=Promise);var f=a("./promise.js")();f.noConflict=d,b.exports=f},{"./promise.js":23}],5:[function(a,b,c){"use strict";var d=Object.create;if(d){var e=d(null),f=d(null);e[" size"]=f[" size"]=0}b.exports=function(b){function c(a,c){var d;if(null!=a&&(d=a[c]),"function"!=typeof d){var e="Object "+h.classString(a)+" has no method '"+h.toString(c)+"'";throw new b.TypeError(e)}return d}function d(a){var b=this.pop(),d=c(a,b);return d.apply(a,this)}function e(a){return a[this]}function f(a){var b=+this;return 0>b&&(b=Math.max(0,b+a.length)),a[b]}var g,h=a("./util.js"),i=h.canEvaluate;h.isIdentifier;b.prototype.call=function(a){for(var b=arguments.length,c=new Array(b-1),e=1;b>e;++e)c[e-1]=arguments[e];return c.push(a),this._then(d,void 0,void 0,c,void 0)},b.prototype.get=function(a){var b,c="number"==typeof a;if(c)b=f;else if(i){var d=g(a);b=null!==d?d:e}else b=e;return this._then(b,void 0,void 0,a,void 0)}}},{"./util.js":38}],6:[function(a,b,c){"use strict";b.exports=function(b){var c=a("./errors.js"),d=a("./async.js"),e=c.CancellationError;b.prototype._cancel=function(a){if(!this.isCancellable())return this;for(var b,c=this;void 0!==(b=c._cancellationParent)&&b.isCancellable();)c=b;this._unsetCancellable(),c._target()._rejectCallback(a,!1,!0)},b.prototype.cancel=function(a){return this.isCancellable()?(void 0===a&&(a=new e),d.invokeLater(this._cancel,this,a),this):this},b.prototype.cancellable=function(){return this._cancellable()?this:(d.enableTrampoline(),this._setCancellable(),this._cancellationParent=void 0,this)},b.prototype.uncancellable=function(){var a=this.then();return a._unsetCancellable(),a},b.prototype.fork=function(a,b,c){var d=this._then(a,b,c,void 0,void 0);return d._setCancellable(),d._cancellationParent=void 0,d}}},{"./async.js":2,"./errors.js":13}],7:[function(a,b,c){"use strict";b.exports=function(){function b(a){this._parent=a;var c=this._length=1+(void 0===a?0:a._length);u(this,b),c>32&&this.uncycle()}function c(a,b){for(var c=0;c<b.length-1;++c)b[c].push("From previous event:"),b[c]=b[c].join("\n");return c<b.length&&(b[c]=b[c].join("\n")),a+"\n"+b.join("\n")}function d(a){for(var b=0;b<a.length;++b)(0===a[b].length||b+1<a.length&&a[b][0]===a[b+1][0])&&(a.splice(b,1),b--)}function e(a){for(var b=a[0],c=1;c<a.length;++c){for(var d=a[c],e=b.length-1,f=b[e],g=-1,h=d.length-1;h>=0;--h)if(d[h]===f){g=h;break}for(var h=g;h>=0;--h){var i=d[h];if(b[e]!==i)break;b.pop(),e--}b=d}}function f(a){for(var b=[],c=0;c<a.length;++c){var d=a[c],e=o.test(d)||"    (No stack trace)"===d,f=e&&r(d);e&&!f&&(q&&" "!==d.charAt(0)&&(d="    "+d),b.push(d))}return b}function g(a){for(var b=a.stack.replace(/\s+$/g,"").split("\n"),c=0;c<b.length;++c){var d=b[c];if("    (No stack trace)"===d||o.test(d))break}return c>0&&(b=b.slice(c)),b}function h(a){var b;if("function"==typeof a)b="[function "+(a.name||"anonymous")+"]";else{b=a.toString();var c=/\[object [a-zA-Z0-9$_]+\]/;if(c.test(b))try{var d=JSON.stringify(a);b=d}catch(e){}0===b.length&&(b="(empty array)")}return"(<"+i(b)+">, no stack trace)"}function i(a){var b=41;return a.length<b?a:a.substr(0,b-3)+"..."}function j(a){var b=a.match(s);return b?{fileName:b[1],line:parseInt(b[2],10)}:void 0}var k,l=a("./async.js"),m=a("./util.js"),n=/[\\\/]bluebird[\\\/]js[\\\/](main|debug|zalgo|instrumented)/,o=null,p=null,q=!1;m.inherits(b,Error),b.prototype.uncycle=function(){var a=this._length;if(!(2>a)){for(var b=[],c={},d=0,e=this;void 0!==e;++d)b.push(e),e=e._parent;a=this._length=d;for(var d=a-1;d>=0;--d){var f=b[d].stack;void 0===c[f]&&(c[f]=d)}for(var d=0;a>d;++d){var g=b[d].stack,h=c[g];if(void 0!==h&&h!==d){h>0&&(b[h-1]._parent=void 0,b[h-1]._length=1),b[d]._parent=void 0,b[d]._length=1;var i=d>0?b[d-1]:this;a-1>h?(i._parent=b[h+1],i._parent.uncycle(),i._length=i._parent._length+1):(i._parent=void 0,i._length=1);for(var j=i._length+1,k=d-2;k>=0;--k)b[k]._length=j,j++;return}}}},b.prototype.parent=function(){return this._parent},b.prototype.hasParent=function(){return void 0!==this._parent},b.prototype.attachExtraTrace=function(a){if(!a.__stackCleaned__){this.uncycle();for(var g=b.parseStackAndMessage(a),h=g.message,i=[g.stack],j=this;void 0!==j;)i.push(f(j.stack.split("\n"))),j=j._parent;e(i),d(i),m.notEnumerableProp(a,"stack",c(h,i)),m.notEnumerableProp(a,"__stackCleaned__",!0)}},b.parseStackAndMessage=function(a){var b=a.stack,c=a.toString();return b="string"==typeof b&&b.length>0?g(a):["    (No stack trace)"],{message:c,stack:f(b)}},b.formatAndLogError=function(a,b){if("undefined"!=typeof console){var c;if("object"==typeof a||"function"==typeof a){var d=a.stack;c=b+p(d,a)}else c=b+String(a);"function"==typeof k?k(c):("function"==typeof console.log||"object"==typeof console.log)&&console.log(c)}},b.unhandledRejection=function(a){b.formatAndLogError(a,"^--- With additional stack trace: ")},b.isSupported=function(){return"function"==typeof u},b.fireRejectionEvent=function(a,c,d,e){var f=!1;try{"function"==typeof c&&(f=!0,"rejectionHandled"===a?c(e):c(d,e))}catch(g){l.throwLater(g)}var h=!1;try{h=v(a,d,e)}catch(g){h=!0,l.throwLater(g)}var i=!1;if(t)try{i=t(a.toLowerCase(),{reason:d,promise:e})}catch(g){i=!0,l.throwLater(g)}h||f||i||"unhandledRejection"!==a||b.formatAndLogError(d,"Unhandled rejection ")};var r=function(){return!1},s=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;b.setBounds=function(a,c){if(b.isSupported()){for(var d,e,f=a.stack.split("\n"),g=c.stack.split("\n"),h=-1,i=-1,k=0;k<f.length;++k){var l=j(f[k]);if(l){d=l.fileName,h=l.line;break}}for(var k=0;k<g.length;++k){var l=j(g[k]);if(l){e=l.fileName,i=l.line;break}}0>h||0>i||!d||!e||d!==e||h>=i||(r=function(a){if(n.test(a))return!0;var b=j(a);return b&&b.fileName===d&&h<=b.line&&b.line<=i?!0:!1})}};var t,u=function(){var a=/^\s*at\s*/,b=function(a,b){return"string"==typeof a?a:void 0!==b.name&&void 0!==b.message?b.toString():h(b)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit=Error.stackTraceLimit+6,o=a,p=b;var c=Error.captureStackTrace;return r=function(a){return n.test(a)},function(a,b){Error.stackTraceLimit=Error.stackTraceLimit+6,c(a,b),Error.stackTraceLimit=Error.stackTraceLimit-6}}var d=new Error;if("string"==typeof d.stack&&d.stack.split("\n")[0].indexOf("stackDetection@")>=0)return o=/@/,p=b,q=!0,function(a){a.stack=(new Error).stack};var e;try{throw new Error}catch(f){e="stack"in f}return"stack"in d||!e?(p=function(a,b){return"string"==typeof a?a:"object"!=typeof b&&"function"!=typeof b||void 0===b.name||void 0===b.message?h(b):b.toString()},null):(o=a,p=b,function(a){Error.stackTraceLimit=Error.stackTraceLimit+6;try{throw new Error}catch(b){a.stack=b.stack}Error.stackTraceLimit=Error.stackTraceLimit-6})}([]),v=function(){if(m.isNode)return function(a,b,c){return"rejectionHandled"===a?process.emit(a,c):process.emit(a,b,c)};var a=!1,b=!0;try{var c=new self.CustomEvent("test");a=c instanceof CustomEvent}catch(d){}if(!a)try{var e=document.createEvent("CustomEvent");e.initCustomEvent("testingtheevent",!1,!0,{}),self.dispatchEvent(e)}catch(d){b=!1}b&&(t=function(b,c){var d;return a?d=new self.CustomEvent(b,{detail:c,bubbles:!1,cancelable:!0}):self.dispatchEvent&&(d=document.createEvent("CustomEvent"),d.initCustomEvent(b,!1,!0,c)),d?!self.dispatchEvent(d):!1});var f={};return f.unhandledRejection="onunhandledRejection".toLowerCase(),f.rejectionHandled="onrejectionHandled".toLowerCase(),function(a,b,c){var d=f[a],e=self[d];return e?("rejectionHandled"===a?e.call(self,c):e.call(self,b,c),!0):!1}}();return"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(k=function(a){console.warn(a)},m.isNode&&process.stderr.isTTY?k=function(a){process.stderr.write("[31m"+a+"[39m\n")}:m.isNode||"string"!=typeof(new Error).stack||(k=function(a){console.warn("%c"+a,"color: red")})),b}},{"./async.js":2,"./util.js":38}],8:[function(a,b,c){"use strict";b.exports=function(b){function c(a,b,c){this._instances=a,this._callback=b,this._promise=c}function d(a,b){var c={},d=g(a).call(c,b);if(d===h)return d;var e=i(c);return e.length?(h.e=new j("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"),h):d}var e=a("./util.js"),f=a("./errors.js"),g=e.tryCatch,h=e.errorObj,i=a("./es5.js").keys,j=f.TypeError;return c.prototype.doFilter=function(a){for(var c=this._callback,e=this._promise,f=e._boundTo,i=0,j=this._instances.length;j>i;++i){var k=this._instances[i],l=k===Error||null!=k&&k.prototype instanceof Error;if(l&&a instanceof k){var m=g(c).call(f,a);return m===h?(b.e=m.e,b):m}if("function"==typeof k&&!l){var n=d(k,a);if(n===h){a=h.e;break}if(n){var m=g(c).call(f,a);return m===h?(b.e=m.e,b):m}}}return b.e=a,b},c}},{"./errors.js":13,"./es5.js":14,"./util.js":38}],9:[function(a,b,c){"use strict";b.exports=function(a,b,c){function d(){this._trace=new b(f())}function e(){return c()?new d:void 0}function f(){var a=g.length-1;return a>=0?g[a]:void 0}var g=[];return d.prototype._pushContext=function(){c()&&void 0!==this._trace&&g.push(this._trace)},d.prototype._popContext=function(){c()&&void 0!==this._trace&&g.pop()},a.prototype._peekContext=f,a.prototype._pushContext=d.prototype._pushContext,a.prototype._popContext=d.prototype._popContext,e}},{}],10:[function(a,b,c){"use strict";b.exports=function(b,c){var d,e,f=b._getDomain,g=a("./async.js"),h=a("./errors.js").Warning,i=a("./util.js"),j=i.canAttachTrace,k=i.isNode&&(!!process.env.BLUEBIRD_DEBUG||"development"===process.env.NODE_ENV);return k&&g.disableTrampolineIfNecessary(),b.prototype._ignoreRejections=function(){this._unsetRejectionIsUnhandled(),this._bitField=16777216|this._bitField},b.prototype._ensurePossibleRejectionHandled=function(){0===(16777216&this._bitField)&&(this._setRejectionIsUnhandled(),g.invokeLater(this._notifyUnhandledRejection,this,void 0))},b.prototype._notifyUnhandledRejectionIsHandled=function(){c.fireRejectionEvent("rejectionHandled",d,void 0,this)},b.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var a=this._getCarriedStackTrace()||this._settledValue;this._setUnhandledRejectionIsNotified(),c.fireRejectionEvent("unhandledRejection",e,a,this)}},b.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=524288|this._bitField},b.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-524289&this._bitField},b.prototype._isUnhandledRejectionNotified=function(){return(524288&this._bitField)>0},b.prototype._setRejectionIsUnhandled=function(){this._bitField=2097152|this._bitField},b.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-2097153&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},b.prototype._isRejectionUnhandled=function(){return(2097152&this._bitField)>0},b.prototype._setCarriedStackTrace=function(a){this._bitField=1048576|this._bitField,this._fulfillmentHandler0=a},b.prototype._isCarryingStackTrace=function(){return(1048576&this._bitField)>0},b.prototype._getCarriedStackTrace=function(){return this._isCarryingStackTrace()?this._fulfillmentHandler0:void 0},b.prototype._captureStackTrace=function(){return k&&(this._trace=new c(this._peekContext())),this},b.prototype._attachExtraTrace=function(a,b){if(k&&j(a)){var d=this._trace;if(void 0!==d&&b&&(d=d._parent),void 0!==d)d.attachExtraTrace(a);else if(!a.__stackCleaned__){var e=c.parseStackAndMessage(a);i.notEnumerableProp(a,"stack",e.message+"\n"+e.stack.join("\n")),i.notEnumerableProp(a,"__stackCleaned__",!0)}}},b.prototype._warn=function(a){var b=new h(a),d=this._peekContext();if(d)d.attachExtraTrace(b);else{var e=c.parseStackAndMessage(b);b.stack=e.message+"\n"+e.stack.join("\n")}c.formatAndLogError(b,"")},b.onPossiblyUnhandledRejection=function(a){var b=f();e="function"==typeof a?null===b?a:b.bind(a):void 0},b.onUnhandledRejectionHandled=function(a){var b=f();d="function"==typeof a?null===b?a:b.bind(a):void 0},b.longStackTraces=function(){if(g.haveItemsQueued()&&k===!1)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/DT1qyG\n");k=c.isSupported(),k&&g.disableTrampolineIfNecessary()},b.hasLongStackTraces=function(){return k&&c.isSupported()},c.isSupported()||(b.longStackTraces=function(){},
k=!1),function(){return k}}},{"./async.js":2,"./errors.js":13,"./util.js":38}],11:[function(a,b,c){"use strict";var d=a("./util.js"),e=d.isPrimitive;b.exports=function(a){var b=function(){return this},c=function(){throw this},d=function(){},f=function(){throw void 0},g=function(a,b){return 1===b?function(){throw a}:2===b?function(){return a}:void 0};a.prototype["return"]=a.prototype.thenReturn=function(a){return void 0===a?this.then(d):e(a)?this._then(g(a,2),void 0,void 0,void 0,void 0):this._then(b,void 0,void 0,a,void 0)},a.prototype["throw"]=a.prototype.thenThrow=function(a){return void 0===a?this.then(f):e(a)?this._then(g(a,1),void 0,void 0,void 0,void 0):this._then(c,void 0,void 0,a,void 0)}}},{"./util.js":38}],12:[function(a,b,c){"use strict";b.exports=function(a,b){var c=a.reduce;a.prototype.each=function(a){return c(this,a,null,b)},a.each=function(a,d){return c(a,d,null,b)}}},{}],13:[function(a,b,c){"use strict";function d(a,b){function c(d){return this instanceof c?(l(this,"message","string"==typeof d?d:b),l(this,"name",a),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new c(d)}return k(c,Error),c}function e(a){return this instanceof e?(l(this,"name","OperationalError"),l(this,"message",a),this.cause=a,this.isOperational=!0,void(a instanceof Error?(l(this,"message",a.message),l(this,"stack",a.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new e(a)}var f,g,h=a("./es5.js"),i=h.freeze,j=a("./util.js"),k=j.inherits,l=j.notEnumerableProp,m=d("Warning","warning"),n=d("CancellationError","cancellation error"),o=d("TimeoutError","timeout error"),p=d("AggregateError","aggregate error");try{f=TypeError,g=RangeError}catch(q){f=d("TypeError","type error"),g=d("RangeError","range error")}for(var r="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),s=0;s<r.length;++s)"function"==typeof Array.prototype[r[s]]&&(p.prototype[r[s]]=Array.prototype[r[s]]);h.defineProperty(p.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),p.prototype.isOperational=!0;var t=0;p.prototype.toString=function(){var a=Array(4*t+1).join(" "),b="\n"+a+"AggregateError of:\n";t++,a=Array(4*t+1).join(" ");for(var c=0;c<this.length;++c){for(var d=this[c]===this?"[Circular AggregateError]":this[c]+"",e=d.split("\n"),f=0;f<e.length;++f)e[f]=a+e[f];d=e.join("\n"),b+=d+"\n"}return t--,b},k(e,Error);var u=Error.__BluebirdErrorTypes__;u||(u=i({CancellationError:n,TimeoutError:o,OperationalError:e,RejectionError:e,AggregateError:p}),l(Error,"__BluebirdErrorTypes__",u)),b.exports={Error:Error,TypeError:f,RangeError:g,CancellationError:u.CancellationError,OperationalError:u.OperationalError,TimeoutError:u.TimeoutError,AggregateError:u.AggregateError,Warning:m}},{"./es5.js":14,"./util.js":38}],14:[function(a,b,c){var d=function(){"use strict";return void 0===this}();if(d)b.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:d,propertyIsWritable:function(a,b){var c=Object.getOwnPropertyDescriptor(a,b);return!(c&&!c.writable&&!c.set)}};else{var e={}.hasOwnProperty,f={}.toString,g={}.constructor.prototype,h=function(a){var b=[];for(var c in a)e.call(a,c)&&b.push(c);return b},i=function(a,b){return{value:a[b]}},j=function(a,b,c){return a[b]=c.value,a},k=function(a){return a},l=function(a){try{return Object(a).constructor.prototype}catch(b){return g}},m=function(a){try{return"[object Array]"===f.call(a)}catch(b){return!1}};b.exports={isArray:m,keys:h,names:h,defineProperty:j,getDescriptor:i,freeze:k,getPrototypeOf:l,isES5:d,propertyIsWritable:function(){return!0}}}},{}],15:[function(a,b,c){"use strict";b.exports=function(a,b){var c=a.map;a.prototype.filter=function(a,d){return c(this,a,d,b)},a.filter=function(a,d,e){return c(a,d,e,b)}}},{}],16:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(){return this}function f(){throw this}function g(a){return function(){return a}}function h(a){return function(){throw a}}function i(a,b,c){var d;return d=m(b)?c?g(b):h(b):c?e:f,a._then(d,n,void 0,b,void 0)}function j(a){var e=this.promise,f=this.handler,g=e._isBound()?f.call(e._boundTo):f();if(void 0!==g){var h=d(g,e);if(h instanceof b)return h=h._target(),i(h,a,e.isFulfilled())}return e.isRejected()?(c.e=a,c):a}function k(a){var c=this.promise,e=this.handler,f=c._isBound()?e.call(c._boundTo,a):e(a);if(void 0!==f){var g=d(f,c);if(g instanceof b)return g=g._target(),i(g,a,!0)}return a}var l=a("./util.js"),m=l.isPrimitive,n=l.thrower;b.prototype._passThroughHandler=function(a,b){if("function"!=typeof a)return this.then();var c={promise:this,handler:a};return this._then(b?j:k,b?j:void 0,void 0,c,void 0)},b.prototype.lastly=b.prototype["finally"]=function(a){return this._passThroughHandler(a,!0)},b.prototype.tap=function(a){return this._passThroughHandler(a,!1)}}},{"./util.js":38}],17:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a,c,d){for(var f=0;f<c.length;++f){d._pushContext();var g=l(c[f])(a);if(d._popContext(),g===k){d._pushContext();var h=b.reject(k.e);return d._popContext(),h}var i=e(g,d);if(i instanceof b)return i}return null}function g(a,c,e,f){var g=this._promise=new b(d);g._captureStackTrace(),this._stack=f,this._generatorFunction=a,this._receiver=c,this._generator=void 0,this._yieldHandlers="function"==typeof e?[e].concat(m):m}var h=a("./errors.js"),i=h.TypeError,j=a("./util.js"),k=j.errorObj,l=j.tryCatch,m=[];g.prototype.promise=function(){return this._promise},g.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._next(void 0)},g.prototype._continue=function(a){if(a===k)return this._promise._rejectCallback(a.e,!1,!0);var c=a.value;if(a.done===!0)this._promise._resolveCallback(c);else{var d=e(c,this._promise);if(!(d instanceof b)&&(d=f(d,this._yieldHandlers,this._promise),null===d))return void this._throw(new i("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/4Y4pDk\n\n".replace("%s",c)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));d._then(this._next,this._throw,void 0,this,null)}},g.prototype._throw=function(a){this._promise._attachExtraTrace(a),this._promise._pushContext();var b=l(this._generator["throw"]).call(this._generator,a);this._promise._popContext(),this._continue(b)},g.prototype._next=function(a){this._promise._pushContext();var b=l(this._generator.next).call(this._generator,a);this._promise._popContext(),this._continue(b)},b.coroutine=function(a,b){if("function"!=typeof a)throw new i("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var c=Object(b).yieldHandler,d=g,e=(new Error).stack;return function(){var b=a.apply(this,arguments),f=new d(void 0,void 0,c,e);return f._generator=b,f._next(void 0),f.promise()}},b.coroutine.addYieldHandler=function(a){if("function"!=typeof a)throw new i("fn must be a function\n\n    See http://goo.gl/916lJJ\n");m.push(a)},b.spawn=function(a){if("function"!=typeof a)return c("generatorFunction must be a function\n\n    See http://goo.gl/6Vqhm0\n");var d=new g(a,this),e=d.promise();return d._run(b.spawn),e}}},{"./errors.js":13,"./util.js":38}],18:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){var f=a("./util.js");f.canEvaluate,f.tryCatch,f.errorObj;b.join=function(){var a,b=arguments.length-1;if(b>0&&"function"==typeof arguments[b]){a=arguments[b];var d}for(var e=arguments.length,f=new Array(e),g=0;e>g;++g)f[g]=arguments[g];a&&f.pop();var d=new c(f).promise();return void 0!==a?d.spread(a):d}}},{"./util.js":38}],19:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){function g(a,b,c,d){this.constructor$(a),this._promise._captureStackTrace(),this._callback=b,this._preservedValues=d===f?new Array(this.length()):null,this._limit=c,this._inFlight=0,this._queue=c>=1?[]:o,j.invoke(h,this,void 0)}function h(){this._init$(void 0,-2)}function i(a,b,c,d){var e="object"==typeof c&&null!==c?c.concurrency:0;return e="number"==typeof e&&isFinite(e)&&e>=1?e:0,new g(a,b,e,d)}var j=a("./async.js"),k=a("./util.js"),l=k.tryCatch,m=k.errorObj,n={},o=[];k.inherits(g,c),g.prototype._init=function(){},g.prototype._promiseFulfilled=function(a,c){var d=this._values,f=this.length(),g=this._preservedValues,h=this._limit;if(d[c]===n){if(d[c]=a,h>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return}else{if(h>=1&&this._inFlight>=h)return d[c]=a,void this._queue.push(c);null!==g&&(g[c]=a);var i=this._callback,j=this._promise._boundTo;this._promise._pushContext();var k=l(i).call(j,a,c,f);if(this._promise._popContext(),k===m)return this._reject(k.e);var o=e(k,this._promise);if(o instanceof b){if(o=o._target(),o._isPending())return h>=1&&this._inFlight++,d[c]=n,o._proxyPromiseArray(this,c);if(!o._isFulfilled())return this._reject(o._reason());k=o._value()}d[c]=k}var p=++this._totalResolved;p>=f&&(null!==g?this._filter(d,g):this._resolve(d))},g.prototype._drainQueue=function(){for(var a=this._queue,b=this._limit,c=this._values;a.length>0&&this._inFlight<b;){if(this._isResolved())return;var d=a.pop();this._promiseFulfilled(c[d],d)}},g.prototype._filter=function(a,b){for(var c=b.length,d=new Array(c),e=0,f=0;c>f;++f)a[f]&&(d[e++]=b[f]);d.length=e,this._resolve(d)},g.prototype.preservedValues=function(){return this._preservedValues},b.prototype.map=function(a,b){return"function"!=typeof a?d("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):i(this,a,b,null).promise()},b.map=function(a,b,c,e){return"function"!=typeof b?d("fn must be a function\n\n    See http://goo.gl/916lJJ\n"):i(a,b,c,e).promise()}}},{"./async.js":2,"./util.js":38}],20:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){var f=a("./util.js"),g=f.tryCatch;b.method=function(a){if("function"!=typeof a)throw new b.TypeError("fn must be a function\n\n    See http://goo.gl/916lJJ\n");return function(){var d=new b(c);d._captureStackTrace(),d._pushContext();var e=g(a).apply(this,arguments);return d._popContext(),d._resolveFromSyncValue(e),d}},b.attempt=b["try"]=function(a,d,h){if("function"!=typeof a)return e("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var i=new b(c);i._captureStackTrace(),i._pushContext();var j=f.isArray(d)?g(a).apply(h,d):g(a).call(h,d);return i._popContext(),i._resolveFromSyncValue(j),i},b.prototype._resolveFromSyncValue=function(a){a===f.errorObj?this._rejectCallback(a.e,!1,!0):this._resolveCallback(a,!0)}}},{"./util.js":38}],21:[function(a,b,c){"use strict";b.exports=function(b){function c(a,b){var c=this;if(!f.isArray(a))return d.call(c,a,b);var e=h(b).apply(c._boundTo,[null].concat(a));e===i&&g.throwLater(e.e)}function d(a,b){var c=this,d=c._boundTo,e=void 0===a?h(b).call(d,null):h(b).call(d,null,a);e===i&&g.throwLater(e.e)}function e(a,b){var c=this;if(!a){var d=c._target(),e=d._getCarriedStackTrace();e.cause=a,a=e}var f=h(b).call(c._boundTo,a);f===i&&g.throwLater(f.e)}var f=a("./util.js"),g=a("./async.js"),h=f.tryCatch,i=f.errorObj;b.prototype.asCallback=b.prototype.nodeify=function(a,b){if("function"==typeof a){var f=d;void 0!==b&&Object(b).spread&&(f=c),this._then(f,e,void 0,this,a)}return this}}},{"./async.js":2,"./util.js":38}],22:[function(a,b,c){"use strict";b.exports=function(b,c){var d=a("./util.js"),e=a("./async.js"),f=d.tryCatch,g=d.errorObj;b.prototype.progressed=function(a){return this._then(void 0,void 0,a,void 0,void 0)},b.prototype._progress=function(a){this._isFollowingOrFulfilledOrRejected()||this._target()._progressUnchecked(a)},b.prototype._progressHandlerAt=function(a){return 0===a?this._progressHandler0:this[(a<<2)+a-5+2]},b.prototype._doProgressWith=function(a){var c=a.value,e=a.handler,h=a.promise,i=a.receiver,j=f(e).call(i,c);if(j===g){if(null!=j.e&&"StopProgressPropagation"!==j.e.name){var k=d.canAttachTrace(j.e)?j.e:new Error(d.toString(j.e));h._attachExtraTrace(k),h._progress(j.e)}}else j instanceof b?j._then(h._progress,null,null,h,void 0):h._progress(j)},b.prototype._progressUnchecked=function(a){for(var d=this._length(),f=this._progress,g=0;d>g;g++){var h=this._progressHandlerAt(g),i=this._promiseAt(g);if(i instanceof b)"function"==typeof h?e.invoke(this._doProgressWith,this,{handler:h,promise:i,receiver:this._receiverAt(g),value:a}):e.invoke(f,i,a);else{var j=this._receiverAt(g);"function"==typeof h?h.call(j,a,i):j instanceof c&&!j._isResolved()&&j._promiseProgressed(a,i)}}}}},{"./async.js":2,"./util.js":38}],23:[function(a,b,c){"use strict";b.exports=function(){function b(a){if("function"!=typeof a)throw new k("the promise constructor requires a resolver function\n\n    See http://goo.gl/EC22Yn\n");if(this.constructor!==b)throw new k("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/KsIlge\n");this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._progressHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._settledValue=void 0,a!==l&&this._resolveFromResolver(a)}function c(a){var c=new b(l);c._fulfillmentHandler0=a,c._rejectionHandler0=a,c._progressHandler0=a,c._promise0=a,c._receiver0=a,c._settledValue=a}var d,e=function(){return new k("circular promise resolution chain\n\n    See http://goo.gl/LhFpo0\n")},f=function(){return new b.PromiseInspection(this._target())},g=function(a){return b.reject(new k(a))},h=a("./util.js");d=h.isNode?function(){var a=process.domain;return void 0===a&&(a=null),a}:function(){return null},h.notEnumerableProp(b,"_getDomain",d);var i=a("./async.js"),j=a("./errors.js"),k=b.TypeError=j.TypeError;b.RangeError=j.RangeError,b.CancellationError=j.CancellationError,b.TimeoutError=j.TimeoutError,b.OperationalError=j.OperationalError,b.RejectionError=j.OperationalError,b.AggregateError=j.AggregateError;var l=function(){},m={},n={e:null},o=a("./thenables.js")(b,l),p=a("./promise_array.js")(b,l,o,g),q=a("./captured_trace.js")(),r=a("./debuggability.js")(b,q),s=a("./context.js")(b,q,r),t=a("./catch_filter.js")(n),u=a("./promise_resolver.js"),v=u._nodebackForPromise,w=h.errorObj,x=h.tryCatch;return b.prototype.toString=function(){return"[object Promise]"},b.prototype.caught=b.prototype["catch"]=function(a){var c=arguments.length;if(c>1){var d,e=new Array(c-1),f=0;for(d=0;c-1>d;++d){var g=arguments[d];if("function"!=typeof g)return b.reject(new k("Catch filter must inherit from Error or be a simple predicate function\n\n    See http://goo.gl/o84o68\n"));e[f++]=g}e.length=f,a=arguments[d];var h=new t(e,a,this);return this._then(void 0,h.doFilter,void 0,h,void 0)}return this._then(void 0,a,void 0,void 0,void 0)},b.prototype.reflect=function(){return this._then(f,f,void 0,this,void 0)},b.prototype.then=function(a,b,c){if(r()&&arguments.length>0&&"function"!=typeof a&&"function"!=typeof b){var d=".then() only accepts functions but was passed: "+h.classString(a);arguments.length>1&&(d+=", "+h.classString(b)),this._warn(d)}return this._then(a,b,c,void 0,void 0)},b.prototype.done=function(a,b,c){var d=this._then(a,b,c,void 0,void 0);d._setIsFinal()},b.prototype.spread=function(a,b){return this.all()._then(a,b,void 0,m,void 0)},b.prototype.isCancellable=function(){return!this.isResolved()&&this._cancellable()},b.prototype.toJSON=function(){var a={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(a.fulfillmentValue=this.value(),a.isFulfilled=!0):this.isRejected()&&(a.rejectionReason=this.reason(),a.isRejected=!0),a},b.prototype.all=function(){return new p(this).promise()},b.prototype.error=function(a){return this.caught(h.originatesFromRejection,a)},b.is=function(a){return a instanceof b},b.fromNode=function(a){var c=new b(l),d=x(a)(v(c));return d===w&&c._rejectCallback(d.e,!0,!0),c},b.all=function(a){return new p(a).promise()},b.defer=b.pending=function(){var a=new b(l);return new u(a)},b.cast=function(a){var c=o(a);if(!(c instanceof b)){var d=c;c=new b(l),c._fulfillUnchecked(d)}return c},b.resolve=b.fulfilled=b.cast,b.reject=b.rejected=function(a){var c=new b(l);return c._captureStackTrace(),c._rejectCallback(a,!0),c},b.setScheduler=function(a){if("function"!=typeof a)throw new k("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var b=i._schedule;return i._schedule=a,b},b.prototype._then=function(a,c,e,f,g){var h=void 0!==g,j=h?g:new b(l);h||(j._propagateFrom(this,5),j._captureStackTrace());var k=this._target();k!==this&&(void 0===f&&(f=this._boundTo),h||j._setIsMigrated());var m=k._addCallbacks(a,c,e,j,f,d());return k._isResolved()&&!k._isSettlePromisesQueued()&&i.invoke(k._settlePromiseAtPostResolution,k,m),j},b.prototype._settlePromiseAtPostResolution=function(a){this._isRejectionUnhandled()&&this._unsetRejectionIsUnhandled(),this._settlePromiseAt(a)},b.prototype._length=function(){return 131071&this._bitField},b.prototype._isFollowingOrFulfilledOrRejected=function(){return(939524096&this._bitField)>0},b.prototype._isFollowing=function(){return 536870912===(536870912&this._bitField)},b.prototype._setLength=function(a){this._bitField=-131072&this._bitField|131071&a},b.prototype._setFulfilled=function(){this._bitField=268435456|this._bitField},b.prototype._setRejected=function(){this._bitField=134217728|this._bitField},b.prototype._setFollowing=function(){this._bitField=536870912|this._bitField},b.prototype._setIsFinal=function(){this._bitField=33554432|this._bitField},b.prototype._isFinal=function(){return(33554432&this._bitField)>0},b.prototype._cancellable=function(){return(67108864&this._bitField)>0},b.prototype._setCancellable=function(){this._bitField=67108864|this._bitField},b.prototype._unsetCancellable=function(){this._bitField=-67108865&this._bitField},b.prototype._setIsMigrated=function(){this._bitField=4194304|this._bitField},b.prototype._unsetIsMigrated=function(){this._bitField=-4194305&this._bitField},b.prototype._isMigrated=function(){return(4194304&this._bitField)>0},b.prototype._receiverAt=function(a){var b=0===a?this._receiver0:this[5*a-5+4];return void 0===b&&this._isBound()?this._boundTo:b},b.prototype._promiseAt=function(a){return 0===a?this._promise0:this[5*a-5+3]},b.prototype._fulfillmentHandlerAt=function(a){return 0===a?this._fulfillmentHandler0:this[5*a-5+0]},b.prototype._rejectionHandlerAt=function(a){return 0===a?this._rejectionHandler0:this[5*a-5+1]},b.prototype._migrateCallbacks=function(a,c){var d=a._fulfillmentHandlerAt(c),e=a._rejectionHandlerAt(c),f=a._progressHandlerAt(c),g=a._promiseAt(c),h=a._receiverAt(c);g instanceof b&&g._setIsMigrated(),this._addCallbacks(d,e,f,g,h,null)},b.prototype._addCallbacks=function(a,b,c,d,e,f){var g=this._length();if(g>=131066&&(g=0,this._setLength(0)),0===g)this._promise0=d,void 0!==e&&(this._receiver0=e),"function"!=typeof a||this._isCarryingStackTrace()||(this._fulfillmentHandler0=null===f?a:f.bind(a)),"function"==typeof b&&(this._rejectionHandler0=null===f?b:f.bind(b)),"function"==typeof c&&(this._progressHandler0=null===f?c:f.bind(c));else{var h=5*g-5;this[h+3]=d,this[h+4]=e,"function"==typeof a&&(this[h+0]=null===f?a:f.bind(a)),"function"==typeof b&&(this[h+1]=null===f?b:f.bind(b)),"function"==typeof c&&(this[h+2]=null===f?c:f.bind(c))}return this._setLength(g+1),g},b.prototype._setProxyHandlers=function(a,b){var c=this._length();if(c>=131066&&(c=0,this._setLength(0)),0===c)this._promise0=b,this._receiver0=a;else{var d=5*c-5;this[d+3]=b,this[d+4]=a}this._setLength(c+1)},b.prototype._proxyPromiseArray=function(a,b){this._setProxyHandlers(a,b)},b.prototype._resolveCallback=function(a,c){if(!this._isFollowingOrFulfilledOrRejected()){if(a===this)return this._rejectCallback(e(),!1,!0);var d=o(a,this);if(!(d instanceof b))return this._fulfill(a);var f=1|(c?4:0);this._propagateFrom(d,f);var g=d._target();if(g._isPending()){for(var h=this._length(),i=0;h>i;++i)g._migrateCallbacks(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(g)}else g._isFulfilled()?this._fulfillUnchecked(g._value()):this._rejectUnchecked(g._reason(),g._getCarriedStackTrace())}},b.prototype._rejectCallback=function(a,b,c){c||h.markAsOriginatingFromRejection(a);var d=h.ensureErrorObject(a),e=d===a;this._attachExtraTrace(d,b?e:!1),this._reject(a,e?void 0:d)},b.prototype._resolveFromResolver=function(a){var b=this;this._captureStackTrace(),this._pushContext();var c=!0,d=x(a)(function(a){null!==b&&(b._resolveCallback(a),b=null)},function(a){null!==b&&(b._rejectCallback(a,c),b=null)});c=!1,this._popContext(),void 0!==d&&d===w&&null!==b&&(b._rejectCallback(d.e,!0,!0),b=null)},b.prototype._settlePromiseFromHandler=function(a,b,c,d){if(!d._isRejected()){d._pushContext();var f;if(f=b!==m||this._isRejected()?x(a).call(b,c):x(a).apply(this._boundTo,c),d._popContext(),f===w||f===d||f===n){var g=f===d?e():f.e;d._rejectCallback(g,!1,!0)}else d._resolveCallback(f)}},b.prototype._target=function(){for(var a=this;a._isFollowing();)a=a._followee();return a},b.prototype._followee=function(){return this._rejectionHandler0},b.prototype._setFollowee=function(a){this._rejectionHandler0=a},b.prototype._cleanValues=function(){this._cancellable()&&(this._cancellationParent=void 0)},b.prototype._propagateFrom=function(a,b){(1&b)>0&&a._cancellable()&&(this._setCancellable(),this._cancellationParent=a),(4&b)>0&&a._isBound()&&this._setBoundTo(a._boundTo)},b.prototype._fulfill=function(a){this._isFollowingOrFulfilledOrRejected()||this._fulfillUnchecked(a)},b.prototype._reject=function(a,b){this._isFollowingOrFulfilledOrRejected()||this._rejectUnchecked(a,b)},b.prototype._settlePromiseAt=function(a){var c=this._promiseAt(a),d=c instanceof b;if(d&&c._isMigrated())return c._unsetIsMigrated(),i.invoke(this._settlePromiseAt,this,a);var e=this._isFulfilled()?this._fulfillmentHandlerAt(a):this._rejectionHandlerAt(a),f=this._isCarryingStackTrace()?this._getCarriedStackTrace():void 0,g=this._settledValue,h=this._receiverAt(a);this._clearCallbackDataAtIndex(a),"function"==typeof e?d?this._settlePromiseFromHandler(e,h,g,c):e.call(h,g,c):h instanceof p?h._isResolved()||(this._isFulfilled()?h._promiseFulfilled(g,c):h._promiseRejected(g,c)):d&&(this._isFulfilled()?c._fulfill(g):c._reject(g,f)),a>=4&&4===(31&a)&&i.invokeLater(this._setLength,this,0)},b.prototype._clearCallbackDataAtIndex=function(a){if(0===a)this._isCarryingStackTrace()||(this._fulfillmentHandler0=void 0),this._rejectionHandler0=this._progressHandler0=this._receiver0=this._promise0=void 0;else{var b=5*a-5;this[b+3]=this[b+4]=this[b+0]=this[b+1]=this[b+2]=void 0}},b.prototype._isSettlePromisesQueued=function(){return-1073741824===(-1073741824&this._bitField)},b.prototype._setSettlePromisesQueued=function(){this._bitField=-1073741824|this._bitField},b.prototype._unsetSettlePromisesQueued=function(){this._bitField=1073741823&this._bitField},b.prototype._queueSettlePromises=function(){i.settlePromises(this),this._setSettlePromisesQueued()},b.prototype._fulfillUnchecked=function(a){if(a===this){var b=e();return this._attachExtraTrace(b),this._rejectUnchecked(b,void 0)}this._setFulfilled(),this._settledValue=a,this._cleanValues(),this._length()>0&&this._queueSettlePromises()},b.prototype._rejectUncheckedCheckError=function(a){var b=h.ensureErrorObject(a);this._rejectUnchecked(a,b===a?void 0:b)},b.prototype._rejectUnchecked=function(a,b){if(a===this){var c=e();return this._attachExtraTrace(c),this._rejectUnchecked(c)}return this._setRejected(),this._settledValue=a,this._cleanValues(),this._isFinal()?void i.throwLater(function(a){throw"stack"in a&&i.invokeFirst(q.unhandledRejection,void 0,a),a},void 0===b?a:b):(void 0!==b&&b!==a&&this._setCarriedStackTrace(b),void(this._length()>0?this._queueSettlePromises():this._ensurePossibleRejectionHandled()))},b.prototype._settlePromises=function(){this._unsetSettlePromisesQueued();for(var a=this._length(),b=0;a>b;b++)this._settlePromiseAt(b)},h.notEnumerableProp(b,"_makeSelfResolutionError",e),a("./progress.js")(b,p),a("./method.js")(b,l,o,g),a("./bind.js")(b,l,o),a("./finally.js")(b,n,o),a("./direct_resolve.js")(b),a("./synchronous_inspection.js")(b),a("./join.js")(b,p,o,l),b.Promise=b,a("./map.js")(b,p,g,o,l),a("./cancel.js")(b),a("./using.js")(b,g,o,s),a("./generators.js")(b,g,l,o),a("./nodeify.js")(b),a("./call_get.js")(b),a("./props.js")(b,p,o,g),a("./race.js")(b,l,o,g),a("./reduce.js")(b,p,g,o,l),a("./settle.js")(b,p),a("./some.js")(b,p,g),a("./promisify.js")(b,l),a("./any.js")(b),a("./each.js")(b,l),a("./timers.js")(b,l),a("./filter.js")(b,l),h.toFastProperties(b),h.toFastProperties(b.prototype),c({a:1}),c({b:2}),c({c:3}),c(1),c(function(){}),c(void 0),c(!1),c(new b(l)),q.setBounds(i.firstLineError,h.lastLineError),b}},{"./any.js":1,"./async.js":2,"./bind.js":3,"./call_get.js":5,"./cancel.js":6,"./captured_trace.js":7,"./catch_filter.js":8,"./context.js":9,"./debuggability.js":10,"./direct_resolve.js":11,"./each.js":12,"./errors.js":13,"./filter.js":15,"./finally.js":16,"./generators.js":17,"./join.js":18,"./map.js":19,"./method.js":20,"./nodeify.js":21,"./progress.js":22,"./promise_array.js":24,"./promise_resolver.js":25,"./promisify.js":26,"./props.js":27,"./race.js":29,"./reduce.js":30,"./settle.js":32,"./some.js":33,"./synchronous_inspection.js":34,"./thenables.js":35,"./timers.js":36,"./using.js":37,"./util.js":38}],24:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){switch(a){case-2:return[];case-3:return{}}}function g(a){var d,e=this._promise=new b(c);a instanceof b&&(d=a,e._propagateFrom(d,5)),this._values=a,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var h=a("./util.js"),i=h.isArray;return g.prototype.length=function(){return this._length},g.prototype.promise=function(){return this._promise},g.prototype._init=function j(a,c){var g=d(this._values,this._promise);if(g instanceof b){if(g=g._target(),this._values=g,!g._isFulfilled())return g._isPending()?void g._then(j,this._reject,void 0,this,c):void this._reject(g._reason());if(g=g._value(),!i(g)){var h=new b.TypeError("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");return void this.__hardReject__(h)}}else if(!i(g))return void this._promise._reject(e("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n")._reason());if(0===g.length)return void(-5===c?this._resolveEmptyArray():this._resolve(f(c)));var k=this.getActualLength(g.length);this._length=k,this._values=this.shouldCopyValues()?new Array(k):this._values;for(var l=this._promise,m=0;k>m;++m){var n=this._isResolved(),o=d(g[m],l);o instanceof b?(o=o._target(),n?o._ignoreRejections():o._isPending()?o._proxyPromiseArray(this,m):o._isFulfilled()?this._promiseFulfilled(o._value(),m):this._promiseRejected(o._reason(),m)):n||this._promiseFulfilled(o,m)}},g.prototype._isResolved=function(){return null===this._values},g.prototype._resolve=function(a){this._values=null,this._promise._fulfill(a)},g.prototype.__hardReject__=g.prototype._reject=function(a){this._values=null,this._promise._rejectCallback(a,!1,!0)},g.prototype._promiseProgressed=function(a,b){this._promise._progress({index:b,value:a})},g.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;c>=this._length&&this._resolve(this._values)},g.prototype._promiseRejected=function(a,b){this._totalResolved++,this._reject(a)},g.prototype.shouldCopyValues=function(){return!0},g.prototype.getActualLength=function(a){return a},g}},{"./util.js":38}],25:[function(a,b,c){"use strict";function d(a){return a instanceof Error&&n.getPrototypeOf(a)===Error.prototype}function e(a){var b;if(d(a)){b=new l(a),b.name=a.name,b.message=a.message,b.stack=a.stack;for(var c=n.keys(a),e=0;e<c.length;++e){var f=c[e];o.test(f)||(b[f]=a[f])}return b}return h.markAsOriginatingFromRejection(a),a}function f(a){return function(b,c){if(null!==a){if(b){var d=e(i(b));a._attachExtraTrace(d),a._reject(d)}else if(arguments.length>2){for(var f=arguments.length,g=new Array(f-1),h=1;f>h;++h)g[h-1]=arguments[h];a._fulfill(g)}else a._fulfill(c);a=null}}}var g,h=a("./util.js"),i=h.maybeWrapAsError,j=a("./errors.js"),k=j.TimeoutError,l=j.OperationalError,m=h.haveGetters,n=a("./es5.js"),o=/^(?:name|message|stack|cause)$/;if(g=m?function(a){this.promise=a}:function(a){this.promise=a,this.asCallback=f(a),this.callback=this.asCallback},m){var p={get:function(){return f(this.promise)}};n.defineProperty(g.prototype,"asCallback",p),n.defineProperty(g.prototype,"callback",p)}g._nodebackForPromise=f,g.prototype.toString=function(){return"[object PromiseResolver]"},g.prototype.resolve=g.prototype.fulfill=function(a){if(!(this instanceof g))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._resolveCallback(a)},g.prototype.reject=function(a){if(!(this instanceof g))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._rejectCallback(a)},g.prototype.progress=function(a){if(!(this instanceof g))throw new TypeError("Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\n\n    See http://goo.gl/sdkXL9\n");this.promise._progress(a)},g.prototype.cancel=function(a){this.promise.cancel(a)},g.prototype.timeout=function(){this.reject(new k("timeout"))},g.prototype.isResolved=function(){return this.promise.isResolved()},g.prototype.toJSON=function(){return this.promise.toJSON()},b.exports=g},{"./errors.js":13,"./es5.js":14,"./util.js":38}],26:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){return!v.test(a)}function e(a){try{return a.__isPromisified__===!0}catch(b){return!1}}function f(a,b,c){var d=n.getDataPropertyOrDefault(a,b+c,u);return d?e(d):!1}function g(a,b,c){for(var d=0;d<a.length;d+=2){var e=a[d];if(c.test(e))for(var f=e.replace(c,""),g=0;g<a.length;g+=2)if(a[g]===f)throw new s("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/iWrZbw\n".replace("%s",b))}}function h(a,b,c,d){for(var h=n.inheritedDataKeys(a),i=[],j=0;j<h.length;++j){var k=h[j],l=a[k],m=d===w?!0:w(k,l,a);"function"!=typeof l||n.isNativeFunctionMethod(l)||e(l)||f(a,k,b)||!d(k,l,a,m)||i.push(k,l)}return g(i,b,c),i}function i(a,d,e,f){function g(){var e=d;d===m&&(e=this);var f=new b(c);f._captureStackTrace();var g="string"==typeof i&&this!==h?this[i]:a,j=o(f);try{g.apply(e,p(arguments,j))}catch(k){f._rejectCallback(q(k),!0,!0)}return f}var h=function(){return this}(),i=a;return"string"==typeof i&&(a=f),n.notEnumerableProp(g,"__isPromisified__",!0),g}function j(a,b,c,d){for(var e=new RegExp(x(b)+"$"),f=h(a,b,e,c),g=0,i=f.length;i>g;g+=2){var j=f[g],k=f[g+1],l=j+b;a[l]=d===y?y(j,m,j,k,b):d(k,function(){return y(j,m,j,k,b)})}return n.toFastProperties(a),a}function k(a,b){return y(a,b,void 0,a)}var l,m={},n=a("./util.js"),o=a("./promise_resolver.js")._nodebackForPromise,p=n.withAppended,q=n.maybeWrapAsError,r=n.canEvaluate,s=a("./errors").TypeError,t="Async",u={__isPromisified__:!0},v=/^(?:length|name|arguments|caller|callee|prototype|__isPromisified__)$/,w=function(a){return n.isIdentifier(a)&&"_"!==a.charAt(0)&&"constructor"!==a},x=function(a){return a.replace(/([$])/,"\\$")},y=r?l:i;b.promisify=function(a,b){if("function"!=typeof a)throw new s("fn must be a function\n\n    See http://goo.gl/916lJJ\n");if(e(a))return a;var c=k(a,arguments.length<2?m:b);return n.copyDescriptors(a,c,d),c},b.promisifyAll=function(a,b){if("function"!=typeof a&&"object"!=typeof a)throw new s("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/9ITlV0\n");b=Object(b);var c=b.suffix;"string"!=typeof c&&(c=t);var d=b.filter;"function"!=typeof d&&(d=w);var e=b.promisifier;if("function"!=typeof e&&(e=y),!n.isIdentifier(c))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/8FZo5V\n");
for(var f=n.inheritedDataKeys(a),g=0;g<f.length;++g){var h=a[f[g]];"constructor"!==f[g]&&n.isClass(h)&&(j(h.prototype,c,d,e),j(h,c,d,e))}return j(a,c,d,e)}}},{"./errors":13,"./promise_resolver.js":25,"./util.js":38}],27:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){for(var b=j.keys(a),c=b.length,d=new Array(2*c),e=0;c>e;++e){var f=b[e];d[e]=a[f],d[e+c]=f}this.constructor$(d)}function g(a){var c,g=d(a);return i(g)?(c=g instanceof b?g._then(b.props,void 0,void 0,void 0,void 0):new f(g).promise(),g instanceof b&&c._propagateFrom(g,4),c):e("cannot await properties of a non-object\n\n    See http://goo.gl/OsFKC8\n")}var h=a("./util.js"),i=h.isObject,j=a("./es5.js");h.inherits(f,c),f.prototype._init=function(){this._init$(void 0,-3)},f.prototype._promiseFulfilled=function(a,b){this._values[b]=a;var c=++this._totalResolved;if(c>=this._length){for(var d={},e=this.length(),f=0,g=this.length();g>f;++f)d[this._values[f+e]]=this._values[f];this._resolve(d)}},f.prototype._promiseProgressed=function(a,b){this._promise._progress({key:this._values[b+this.length()],value:a})},f.prototype.shouldCopyValues=function(){return!1},f.prototype.getActualLength=function(a){return a>>1},b.prototype.props=function(){return g(this)},b.props=function(a){return g(a)}}},{"./es5.js":14,"./util.js":38}],28:[function(a,b,c){"use strict";function d(a,b,c,d,e){for(var f=0;e>f;++f)c[f+d]=a[f+b],a[f+b]=void 0}function e(a){this._capacity=a,this._length=0,this._front=0}e.prototype._willBeOverCapacity=function(a){return this._capacity<a},e.prototype._pushOne=function(a){var b=this.length();this._checkCapacity(b+1);var c=this._front+b&this._capacity-1;this[c]=a,this._length=b+1},e.prototype._unshiftOne=function(a){var b=this._capacity;this._checkCapacity(this.length()+1);var c=this._front,d=(c-1&b-1^b)-b;this[d]=a,this._front=d,this._length=this.length()+1},e.prototype.unshift=function(a,b,c){this._unshiftOne(c),this._unshiftOne(b),this._unshiftOne(a)},e.prototype.push=function(a,b,c){var d=this.length()+3;if(this._willBeOverCapacity(d))return this._pushOne(a),this._pushOne(b),void this._pushOne(c);var e=this._front+d-3;this._checkCapacity(d);var f=this._capacity-1;this[e+0&f]=a,this[e+1&f]=b,this[e+2&f]=c,this._length=d},e.prototype.shift=function(){var a=this._front,b=this[a];return this[a]=void 0,this._front=a+1&this._capacity-1,this._length--,b},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(a){this._capacity<a&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(a){var b=this._capacity;this._capacity=a;var c=this._front,e=this._length,f=c+e&b-1;d(this,0,this,b,f)},b.exports=e},{}],29:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a,f){var i=d(a);if(i instanceof b)return h(i);if(!g(a))return e("expecting an array, a promise or a thenable\n\n    See http://goo.gl/s8MMhc\n");var j=new b(c);void 0!==f&&j._propagateFrom(f,5);for(var k=j._fulfill,l=j._reject,m=0,n=a.length;n>m;++m){var o=a[m];(void 0!==o||m in a)&&b.cast(o)._then(k,l,void 0,j,null)}return j}var g=a("./util.js").isArray,h=function(a){return a.then(function(b){return f(b,a)})};b.race=function(a){return f(a,void 0)},b.prototype.race=function(){return f(this,void 0)}}},{"./util.js":38}],30:[function(a,b,c){"use strict";b.exports=function(b,c,d,e,f){function g(a,c,d,g){this.constructor$(a),this._promise._captureStackTrace(),this._preservedValues=g===f?[]:null,this._zerothIsAccum=void 0===d,this._gotAccum=!1,this._reducingIndex=this._zerothIsAccum?1:0,this._valuesPhase=void 0;var i=e(d,this._promise),k=!1,l=i instanceof b;l&&(i=i._target(),i._isPending()?i._proxyPromiseArray(this,-1):i._isFulfilled()?(d=i._value(),this._gotAccum=!0):(this._reject(i._reason()),k=!0)),l||this._zerothIsAccum||(this._gotAccum=!0),this._callback=c,this._accum=d,k||j.invoke(h,this,void 0)}function h(){this._init$(void 0,-5)}function i(a,b,c,e){if("function"!=typeof b)return d("fn must be a function\n\n    See http://goo.gl/916lJJ\n");var f=new g(a,b,c,e);return f.promise()}var j=a("./async.js"),k=a("./util.js"),l=k.tryCatch,m=k.errorObj;k.inherits(g,c),g.prototype._init=function(){},g.prototype._resolveEmptyArray=function(){(this._gotAccum||this._zerothIsAccum)&&this._resolve(null!==this._preservedValues?[]:this._accum)},g.prototype._promiseFulfilled=function(a,c){var d=this._values;d[c]=a;var f,g=this.length(),h=this._preservedValues,i=null!==h,j=this._gotAccum,k=this._valuesPhase;if(!k)for(k=this._valuesPhase=new Array(g),f=0;g>f;++f)k[f]=0;if(f=k[c],0===c&&this._zerothIsAccum?(this._accum=a,this._gotAccum=j=!0,k[c]=0===f?1:2):-1===c?(this._accum=a,this._gotAccum=j=!0):0===f?k[c]=1:(k[c]=2,this._accum=a),j){for(var n,o=this._callback,p=this._promise._boundTo,q=this._reducingIndex;g>q;++q)if(f=k[q],2!==f){if(1!==f)return;if(a=d[q],this._promise._pushContext(),i?(h.push(a),n=l(o).call(p,a,q,g)):n=l(o).call(p,this._accum,a,q,g),this._promise._popContext(),n===m)return this._reject(n.e);var r=e(n,this._promise);if(r instanceof b){if(r=r._target(),r._isPending())return k[q]=4,r._proxyPromiseArray(this,q);if(!r._isFulfilled())return this._reject(r._reason());n=r._value()}this._reducingIndex=q+1,this._accum=n}else this._reducingIndex=q+1;this._resolve(i?h:this._accum)}},b.prototype.reduce=function(a,b){return i(this,a,b,null)},b.reduce=function(a,b,c,d){return i(a,b,c,d)}}},{"./async.js":2,"./util.js":38}],31:[function(a,b,c){"use strict";var d,e=a("./util"),f=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/m3OTXk\n")};if(e.isNode&&"undefined"==typeof MutationObserver){var g=global.setImmediate,h=process.nextTick;d=e.isRecentNode?function(a){g.call(global,a)}:function(a){h.call(process,a)}}else"undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&window.navigator.standalone?d="undefined"!=typeof setImmediate?function(a){setImmediate(a)}:"undefined"!=typeof setTimeout?function(a){setTimeout(a,0)}:f:(d=function(a){var b=document.createElement("div"),c=new MutationObserver(a);return c.observe(b,{attributes:!0}),function(){b.classList.toggle("foo")}},d.isStatic=!0);b.exports=d},{"./util":38}],32:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){this.constructor$(a)}var e=b.PromiseInspection,f=a("./util.js");f.inherits(d,c),d.prototype._promiseResolved=function(a,b){this._values[a]=b;var c=++this._totalResolved;c>=this._length&&this._resolve(this._values)},d.prototype._promiseFulfilled=function(a,b){var c=new e;c._bitField=268435456,c._settledValue=a,this._promiseResolved(b,c)},d.prototype._promiseRejected=function(a,b){var c=new e;c._bitField=134217728,c._settledValue=a,this._promiseResolved(b,c)},b.settle=function(a){return new d(a).promise()},b.prototype.settle=function(){return new d(this).promise()}}},{"./util.js":38}],33:[function(a,b,c){"use strict";b.exports=function(b,c,d){function e(a){this.constructor$(a),this._howMany=0,this._unwrap=!1,this._initialized=!1}function f(a,b){if((0|b)!==b||0>b)return d("expecting a positive integer\n\n    See http://goo.gl/1wAmHx\n");var c=new e(a),f=c.promise();return c.setHowMany(b),c.init(),f}var g=a("./util.js"),h=a("./errors.js").RangeError,i=a("./errors.js").AggregateError,j=g.isArray;g.inherits(e,c),e.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var a=j(this._values);!this._isResolved()&&a&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},e.prototype.init=function(){this._initialized=!0,this._init()},e.prototype.setUnwrap=function(){this._unwrap=!0},e.prototype.howMany=function(){return this._howMany},e.prototype.setHowMany=function(a){this._howMany=a},e.prototype._promiseFulfilled=function(a){this._addFulfilled(a),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values))},e.prototype._promiseRejected=function(a){if(this._addRejected(a),this.howMany()>this._canPossiblyFulfill()){for(var b=new i,c=this.length();c<this._values.length;++c)b.push(this._values[c]);this._reject(b)}},e.prototype._fulfilled=function(){return this._totalResolved},e.prototype._rejected=function(){return this._values.length-this.length()},e.prototype._addRejected=function(a){this._values.push(a)},e.prototype._addFulfilled=function(a){this._values[this._totalResolved++]=a},e.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},e.prototype._getRangeError=function(a){var b="Input array must contain at least "+this._howMany+" items but contains only "+a+" items";return new h(b)},e.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},b.some=function(a,b){return f(a,b)},b.prototype.some=function(a){return f(this,a)},b._SomePromiseArray=e}},{"./errors.js":13,"./util.js":38}],34:[function(a,b,c){"use strict";b.exports=function(a){function b(a){void 0!==a?(a=a._target(),this._bitField=a._bitField,this._settledValue=a._settledValue):(this._bitField=0,this._settledValue=void 0)}b.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return this._settledValue},b.prototype.error=b.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return this._settledValue},b.prototype.isFulfilled=a.prototype._isFulfilled=function(){return(268435456&this._bitField)>0},b.prototype.isRejected=a.prototype._isRejected=function(){return(134217728&this._bitField)>0},b.prototype.isPending=a.prototype._isPending=function(){return 0===(402653184&this._bitField)},b.prototype.isResolved=a.prototype._isResolved=function(){return(402653184&this._bitField)>0},a.prototype.isPending=function(){return this._target()._isPending()},a.prototype.isRejected=function(){return this._target()._isRejected()},a.prototype.isFulfilled=function(){return this._target()._isFulfilled()},a.prototype.isResolved=function(){return this._target()._isResolved()},a.prototype._value=function(){return this._settledValue},a.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue},a.prototype.value=function(){var a=this._target();if(!a.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/hc1DLj\n");return a._settledValue},a.prototype.reason=function(){var a=this._target();if(!a.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/hPuiwB\n");return a._unsetRejectionIsUnhandled(),a._settledValue},a.PromiseInspection=b}},{}],35:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a,d){if(j(a)){if(a instanceof b)return a;if(f(a)){var k=new b(c);return a._then(k._fulfillUnchecked,k._rejectUncheckedCheckError,k._progressUnchecked,k,null),k}var l=h.tryCatch(e)(a);if(l===i){d&&d._pushContext();var k=b.reject(l.e);return d&&d._popContext(),k}if("function"==typeof l)return g(a,l,d)}return a}function e(a){return a.then}function f(a){return k.call(a,"_promise0")}function g(a,d,e){function f(a){k&&(k._resolveCallback(a),k=null)}function g(a){k&&(k._rejectCallback(a,m,!0),k=null)}function j(a){k&&"function"==typeof k._progress&&k._progress(a)}var k=new b(c),l=k;e&&e._pushContext(),k._captureStackTrace(),e&&e._popContext();var m=!0,n=h.tryCatch(d).call(a,f,g,j);return m=!1,k&&n===i&&(k._rejectCallback(n.e,!0,!0),k=null),l}var h=a("./util.js"),i=h.errorObj,j=h.isObject,k={}.hasOwnProperty;return d}},{"./util.js":38}],36:[function(a,b,c){"use strict";b.exports=function(b,c){function d(a){var b=this;return b instanceof Number&&(b=+b),clearTimeout(b),a}function e(a){var b=this;throw b instanceof Number&&(b=+b),clearTimeout(b),a}var f=a("./util.js"),g=b.TimeoutError,h=function(a,b){if(a.isPending()){"string"!=typeof b&&(b="operation timed out");var c=new g(b);f.markAsOriginatingFromRejection(c),a._attachExtraTrace(c),a._cancel(c)}},i=function(a){return j(+this).thenReturn(a)},j=b.delay=function(a,d){if(void 0===d){d=a,a=void 0;var e=new b(c);return setTimeout(function(){e._fulfill()},d),e}return d=+d,b.resolve(a)._then(i,null,null,d,void 0)};b.prototype.delay=function(a){return j(this,a)},b.prototype.timeout=function(a,b){a=+a;var c=this.then().cancellable();c._cancellationParent=this;var f=setTimeout(function(){h(c,b)},a);return c._then(d,e,void 0,f,void 0)}}},{"./util.js":38}],37:[function(a,b,c){"use strict";b.exports=function(b,c,d,e){function f(a){for(var c=a.length,d=0;c>d;++d){var e=a[d];if(e.isRejected())return b.reject(e.error());a[d]=e._settledValue}return a}function g(a){setTimeout(function(){throw a},0)}function h(a){var b=d(a);return b!==a&&"function"==typeof a._isDisposable&&"function"==typeof a._getDisposer&&a._isDisposable()&&b._setDisposable(a._getDisposer()),b}function i(a,c){function e(){if(f>=i)return j.resolve();var k=h(a[f++]);if(k instanceof b&&k._isDisposable()){try{k=d(k._getDisposer().tryDispose(c),a.promise)}catch(l){return g(l)}if(k instanceof b)return k._then(e,g,null,null,null)}e()}var f=0,i=a.length,j=b.defer();return e(),j.promise}function j(a){var b=new q;return b._settledValue=a,b._bitField=268435456,i(this,b).thenReturn(a)}function k(a){var b=new q;return b._settledValue=a,b._bitField=134217728,i(this,b).thenThrow(a)}function l(a,b,c){this._data=a,this._promise=b,this._context=c}function m(a,b,c){this.constructor$(a,b,c)}function n(a){return l.isDisposer(a)?(this.resources[this.index]._setDisposable(a),a.promise()):a}var o=a("./errors.js").TypeError,p=a("./util.js").inherits,q=b.PromiseInspection;l.prototype.data=function(){return this._data},l.prototype.promise=function(){return this._promise},l.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():null},l.prototype.tryDispose=function(a){var b=this.resource(),c=this._context;void 0!==c&&c._pushContext();var d=null!==b?this.doDispose(b,a):null;return void 0!==c&&c._popContext(),this._promise._unsetDisposable(),this._data=null,d},l.isDisposer=function(a){return null!=a&&"function"==typeof a.resource&&"function"==typeof a.tryDispose},p(m,l),m.prototype.doDispose=function(a,b){var c=this.data();return c.call(a,a,b)},b.using=function(){var a=arguments.length;if(2>a)return c("you must pass at least 2 arguments to Promise.using");var e=arguments[a-1];if("function"!=typeof e)return c("fn must be a function\n\n    See http://goo.gl/916lJJ\n");a--;for(var g=new Array(a),h=0;a>h;++h){var i=arguments[h];if(l.isDisposer(i)){var m=i;i=i.promise(),i._setDisposable(m)}else{var o=d(i);o instanceof b&&(i=o._then(n,null,null,{resources:g,index:h},void 0))}g[h]=i}var p=b.settle(g).then(f).then(function(a){p._pushContext();var b;try{b=e.apply(void 0,a)}finally{p._popContext()}return b})._then(j,k,void 0,g,void 0);return g.promise=p,p},b.prototype._setDisposable=function(a){this._bitField=262144|this._bitField,this._disposer=a},b.prototype._isDisposable=function(){return(262144&this._bitField)>0},b.prototype._getDisposer=function(){return this._disposer},b.prototype._unsetDisposable=function(){this._bitField=-262145&this._bitField,this._disposer=void 0},b.prototype.disposer=function(a){if("function"==typeof a)return new m(a,this,e());throw new o}}},{"./errors.js":13,"./util.js":38}],38:[function(a,b,c){"use strict";function d(){try{return B.apply(this,arguments)}catch(a){return A.e=a,A}}function e(a){return B=a,d}function f(a){return null==a||a===!0||a===!1||"string"==typeof a||"number"==typeof a}function g(a){return!f(a)}function h(a){return f(a)?new Error(q(a)):a}function i(a,b){var c,d=a.length,e=new Array(d+1);for(c=0;d>c;++c)e[c]=a[c];return e[c]=b,e}function j(a,b,c){if(!x.isES5)return{}.hasOwnProperty.call(a,b)?a[b]:void 0;var d=Object.getOwnPropertyDescriptor(a,b);return null!=d?null==d.get&&null==d.set?d.value:c:void 0}function k(a,b,c){if(f(a))return a;var d={value:c,configurable:!0,enumerable:!1,writable:!0};return x.defineProperty(a,b,d),a}function l(a){throw a}function m(a){try{if("function"==typeof a){var b=x.names(a.prototype);if(x.isES5&&b.length>1||b.length>0&&(1!==b.length||"constructor"!==b[0])||E.test(a+""))return!0}return!1}catch(c){return!1}}function n(a){function b(){}b.prototype=a;for(var c=8;c--;)new b;return a}function o(a){return F.test(a)}function p(a,b,c){for(var d=new Array(a),e=0;a>e;++e)d[e]=b+e+c;return d}function q(a){try{return a+""}catch(b){return"[no string representation]"}}function r(a){try{k(a,"isOperational",!0)}catch(b){}}function s(a){return null==a?!1:a instanceof Error.__BluebirdErrorTypes__.OperationalError||a.isOperational===!0}function t(a){return a instanceof Error&&x.propertyIsWritable(a,"stack")}function u(a){return{}.toString.call(a)}function v(a,b,c){for(var d=x.names(a),e=0;e<d.length;++e){var f=d[e];c(f)&&x.defineProperty(b,f,x.getDescriptor(a,f))}}function w(a){return a===a.call||a===a.toString||a===a.bind||a===a.apply}var x=a("./es5.js"),y="undefined"==typeof navigator,z=function(){try{var a={};return x.defineProperty(a,"f",{get:function(){return 3}}),3===a.f}catch(b){return!1}}(),A={e:{}},B,C=function(a,b){function c(){this.constructor=a,this.constructor$=b;for(var c in b.prototype)d.call(b.prototype,c)&&"$"!==c.charAt(c.length-1)&&(this[c+"$"]=b.prototype[c])}var d={}.hasOwnProperty;return c.prototype=b.prototype,a.prototype=new c,a.prototype},D=function(){if(x.isES5){var a=Object.prototype,b=Object.getOwnPropertyNames;return function(c){for(var d=[],e=Object.create(null);null!=c&&c!==a;){var f;try{f=b(c)}catch(g){return d}for(var h=0;h<f.length;++h){var i=f[h];if(!e[i]){e[i]=!0;var j=Object.getOwnPropertyDescriptor(c,i);null!=j&&null==j.get&&null==j.set&&d.push(i)}}c=x.getPrototypeOf(c)}return d}}return function(a){var b=[];for(var c in a)b.push(c);return b}}(),E=/this\s*\.\s*\S+\s*=/,F=/^[a-z$_][a-z$_0-9]*$/i,G=function(){return"stack"in new Error?function(a){return t(a)?a:new Error(q(a))}:function(a){if(t(a))return a;try{throw new Error(q(a))}catch(b){return b}}}(),H={isClass:m,isIdentifier:o,inheritedDataKeys:D,getDataPropertyOrDefault:j,thrower:l,isArray:x.isArray,haveGetters:z,notEnumerableProp:k,isPrimitive:f,isObject:g,canEvaluate:y,errorObj:A,tryCatch:e,inherits:C,withAppended:i,maybeWrapAsError:h,toFastProperties:n,filledRange:p,toString:q,canAttachTrace:t,ensureErrorObject:G,originatesFromRejection:s,markAsOriginatingFromRejection:r,classString:u,copyDescriptors:v,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:"undefined"!=typeof process&&"[object process]"===u(process).toLowerCase(),isNativeFunctionMethod:w};H.isRecentNode=H.isNode&&function(){var a=process.versions.node.split(".").map(Number);return 0===a[0]&&a[1]>10||a[0]>0}(),H.isNode&&H.toFastProperties(process);try{throw new Error}catch(I){H.lastLineError=I}b.exports=H},{"./es5.js":14}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise),!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.BezierEasing=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){function d(a,b){return 1-3*b+3*a}function e(a,b){return 3*b-6*a}function f(a){return 3*a}function g(a,b,c){return((d(b,c)*a+e(b,c))*a+f(b))*a}function h(a,b,c){return 3*d(b,c)*a*a+2*e(b,c)*a+f(b)}function i(a,b,c,d,e){var f,h,i=0;do h=b+(c-b)/2,f=g(h,d,e)-a,f>0?c=h:b=h;while(Math.abs(f)>n&&++i<o);return h}function j(a,b,c,d){for(var e=0;l>e;++e){var f=h(b,c,d);if(0===f)return b;var i=g(b,c,d)-a;b-=i/f}return b}function k(a){if(!a||4!==a.length)throw new Error("BezierEasing: points must contains 4 values");for(var b=0;4>b;++b)if("number"!=typeof a[b]||isNaN(a[b])||!isFinite(a[b]))throw new Error("BezierEasing: points should be integers.");if(a[0]<0||a[0]>1||a[2]<0||a[2]>1)throw new Error("BezierEasing x values must be in [0, 1] range.");this._str="BezierEasing("+a+")",this._css="cubic-bezier("+a+")",this._p=a,this._mSampleValues=r?new Float32Array(p):new Array(p),this._precomputed=!1}var l=4,m=.001,n=1e-7,o=10,p=11,q=1/(p-1),r="function"==typeof Float32Array;k.prototype={find:function(a){var b=this._p[0],c=this._p[1],d=this._p[2],e=this._p[3];return this._precomputed||this._precompute(),b===c&&d===e?a:0===a?0:1===a?1:g(this._getTForX(a),c,e)},getPoints:function(){return this._p},toString:function(){return this._str},toCSS:function(){return this._css},_precompute:function(){var a=this._p[0],b=this._p[1],c=this._p[2],d=this._p[3];this._precomputed=!0,(a!==b||c!==d)&&this._calcSampleValues()},_calcSampleValues:function(){for(var a=this._p[0],b=this._p[2],c=0;p>c;++c)this._mSampleValues[c]=g(c*q,a,b)},_getTForX:function(a){for(var b=this._p[0],c=this._p[2],d=this._mSampleValues,e=0,f=1,g=p-1;f!==g&&d[f]<=a;++f)e+=q;--f;var k=(a-d[f])/(d[f+1]-d[f]),l=e+k*q,n=h(l,b,c);return n>=m?j(a,l,b,c):0===n?l:i(a,e,e+q,b,c)}},b.exports=k},{}]},{},[1])(1)});var DUST;!function(a){a.debug=!1}(DUST||(DUST={}));var DUST;!function(a){a.log=function(){for(var b=[],c=0;c<arguments.length;c++)b[c-0]=arguments[c];a.debug&&console.log.apply(console,b)}}(DUST||(DUST={}));var DUST;!function(a){var b=function(){function b(){this.events={}}return b.prototype.on=function(a,b){this.events[a]||(this.events[a]=[]),this.events[a].push(b)},b.prototype.once=function(a,b){var c=this,d=function(e){c.off(a,d),b(e)};this.events[a]||(this.events[a]=[]),this.events[a].push(d)},b.prototype.off=function(a,b){if(this.events[a]){var c=this.events[a].length;if(b)for(;c--;)this.events[a][c]===b&&this.events[a].splice(c,1);else for(;this.events[a].length;)this.events[a].pop()}},b.prototype.broadcast=function(b,c){if(a.log({event:b,data:c}),this.events[b])for(var d=this.events[b].length;d--;)this.events[b][d](c)},b}();a.EventBus=b,a.event=new b}(DUST||(DUST={}));var DUST;!function(a){a.sceneEvents={loadStart:"dust.scene.loadStart",loadEnd:"dust.scene.loadEnd",sceneCreated:"dust.scene.sceneCreated"}}(DUST||(DUST={}));var DUST;!function(a){function b(a,b){a&&a.selfAttach?a.selfAttach(b):a&&a.container&&a.container.selfAttach&&a.container.selfAttach(b)}function c(a,b){a&&a.selfRemove?a.selfRemove(b):a&&a.container&&a.container.selfRemove&&a.container.selfRemove(b)}var d=function(){function d(b){var c=this;this.options=b,this.isLoaded=!1,this.wasStarted=!1,this.children=[],this.objects=b.objects,this.onFinishedLoading=b.onFinishedLoading,this.onShow=b.onShow,this.onHide=b.onHide,this.onClear=b.onClear,this.name=b.name,this.authoritative=b.authoritative,this.objects.forEach(function(a){var b=a();b&&b.length&&b.forEach?b.forEach(function(a){c.children.push(a)}):c.children.push(b)}),a.event.broadcast(a.sceneEvents.sceneCreated,this)}return d.prototype.show=function(){var c=this,d=0,e=function(){d+=1,(d===c.children.length||0===c.children.length)&&(c.onShow&&c.onShow(),a.event.broadcast(a.sceneEvents.loadEnd,c.name),a.event.broadcast(a.sceneEvents.loadEnd+"."+c.name,c))};this.children.length?this.children.forEach(function(c){c.entity&&(a.log("DEPRECATED: extend the Entity object instead of putting it as a sub property"),c=c.entity),b(c,e)}):e(),this.onFinishedLoading&&!this.wasStarted&&this.onFinishedLoading(),this.isLoaded=!0,this.wasStarted=!0,this.isActive=!0},d.prototype.hide=function(b){var d=this;this.onHide&&this.onHide(function(){var e=d.children.length,f=0,g=function(){b&&b(),d.isActive=!1},h=function(){f+=1,f===e&&g()};d.children.length?d.children.forEach(function(b){b.entity&&(a.log("DEPRECATED: extend the Entity object instead of putting it as a sub property"),b=b.entity),c(b,h)}):g()})},d.prototype.clear=function(){var a=this;a.onClear&&a.onClear()},d}();a.Scene=d}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(){function a(){this.bodies=[]}return a.prototype.add=function(a){this.bodies.push(a)},a.prototype.remove=function(a){var b=this.bodies.indexOf(a);b>=0&&this.bodies.splice(b,1)},a.prototype.update=function(){for(var a=this.bodies.length;a--;){var b=this.bodies[a];b.sprite&&b.update&&b.update()}},a}();a.BodyManager=b,a.bodies=new b}(b=a.PHYSICS||(a.PHYSICS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){a.world=new p2.World({doProfiling:!1,solveConstraints:!1,gravity:[0,0]}),a.world.solver&&(a.world.solver.frictionIterations=1,a.world.solver.tolerance=10,a.world.solver.iterations=1)}(b=a.PHYSICS||(a.PHYSICS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){a.simulation=new p2.World({doProfiling:!1,solveConstraints:!1,gravity:[0,0]}),a.simulation.solver&&(a.simulation.solver.frictionIterations=1,a.simulation.solver.tolerance=10,a.simulation.solver.iterations=1)}(b=a.PHYSICS||(a.PHYSICS={}))}(DUST||(DUST={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DUST;!function(a){var b;!function(a){var b=function(b){function c(a){this.settings=a,b.call(this,{mass:this.settings.mass,position:[this.settings.x/128,this.settings.y/128],fixedRotation:this.settings.fixedRotation}),this.settings.kinematic&&(this.type=p2.Body.KINEMATIC),this.circleShape=new p2.Circle(this.settings.radius/128/2),this.circleShape.collisionGroup=this.settings.collisionGroup||Math.pow(2,0),this.circleShape.collisionMask=this.settings.collisionMask||Math.pow(2,0),this.decorate(),this.settings.enable&&this.enable()}return __extends(c,b),c.prototype.enable=function(){this.physicsEnabled||(this.simulation?a.simulation.addBody(this):(a.world.addBody(this),(this.settings.mass||this.settings.kinematic)&&a.bodies.add(this)),this.physicsEnabled=!0)},c.prototype.disable=function(){this.physicsEnabled&&(this.simulation?a.simulation.removeBody(this):(a.world.removeBody(this),(this.settings.mass||this.settings.kinematic)&&a.bodies.remove(this)),this.physicsEnabled=!1)},c.prototype.decorate=function(){this.simulation=this.settings.simulation,this.addShape(this.circleShape),this.sprite=this.settings.sprite},c.prototype.update=function(){this.sprite.y=128*this.position[1],this.sprite.x=128*this.position[0],this.fixedRotation||this.settings.fixedSpriteRotation||(this.sprite.rotation=this.angle)},c.prototype.updateBody=function(){this.position[0]=this.sprite.x/128,this.position[1]=this.sprite.y/128,this.updateAABB()},c}(p2.Body);a.Circle=b,a.circle=function(a){return new b(a)}}(b=a.PHYSICS||(a.PHYSICS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(b){function c(a){this.settings=a,b.call(this,{mass:this.settings.mass,position:[this.settings.x/128,this.settings.y/128],fixedRotation:this.settings.fixedRotation}),this.settings.kinematic&&(this.type=p2.Body.KINEMATIC),this.rectangleShape=new p2.Rectangle(this.settings.width/128,this.settings.height/128),this.rectangleShape.collisionGroup=this.settings.collisionGroup||Math.pow(2,0),this.rectangleShape.collisionMask=this.settings.collisionMask||Math.pow(2,0),this.decorate(),this.settings.enable&&this.enable()}return __extends(c,b),c.prototype.enable=function(){this.physicsEnabled||(a.world.addBody(this),this.physicsEnabled=!0,(this.settings.mass||this.settings.kinematic)&&a.bodies.add(this))},c.prototype.disable=function(){this.physicsEnabled&&(a.world.removeBody(this),this.physicsEnabled=!1,(this.settings.mass||this.settings.kinematic)&&a.bodies.remove(this))},c.prototype.decorate=function(){this.addShape(this.rectangleShape),this.sprite=this.settings.sprite},c.prototype.update=function(){this.sprite.y=128*this.position[1],this.sprite.x=128*this.position[0],this.fixedRotation||this.settings.fixedSpriteRotation||(this.sprite.rotation=this.angle)},c.prototype.updateBody=function(){this.position[0]=this.sprite.x/128,this.position[1]=this.sprite.y/128,this.updateAABB()},c}(p2.Body);a.Rectangle=b,a.rectangle=function(a){return new b(a)}}(b=a.PHYSICS||(a.PHYSICS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(b){function c(a){this.settings=a,b.call(this,{mass:this.settings.mass,position:[this.settings.x/128,this.settings.y/128]}),this.settings.kinematic&&(this.type=p2.Body.KINEMATIC),this.planeShape=new p2.Plane,this.planeShape.collisionGroup=this.settings.collisionGroup||Math.pow(2,0),this.planeShape.collisionMask=this.settings.collisionMask||Math.pow(2,0),this.decorate(),this.settings.enable&&this.enable()}return __extends(c,b),c.prototype.enable=function(){this.physicsEnabled||(a.world.addBody(this),this.physicsEnabled=!0,(this.settings.mass||this.settings.kinematic)&&a.bodies.add(this))},c.prototype.disable=function(){this.physicsEnabled&&(a.world.removeBody(this),this.physicsEnabled=!1,(this.settings.mass||this.settings.kinematic)&&a.bodies.remove(this))},c.prototype.decorate=function(){this.addShape(this.planeShape),this.sprite=this.settings.sprite},c.prototype.update=function(){this.sprite.y=128*this.position[1],this.sprite.x=128*this.position[0],this.fixedRotation||this.settings.fixedSpriteRotation||(this.sprite.rotation=this.angle)},c.prototype.updateBody=function(){this.position[0]=this.sprite.x/128,this.position[1]=this.sprite.y/128,this.updateAABB()},c}(p2.Body);a.Plane=b,a.plane=function(a){return new b(a)}}(b=a.PHYSICS||(a.PHYSICS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(b){function c(a){this.settings=a,b.call(this,{mass:this.settings.mass,position:[this.settings.x/128,this.settings.y/128],fixedRotation:this.settings.fixedRotation}),this.settings.kinematic&&(this.type=p2.Body.KINEMATIC),a.polygon.forEach(function(a){a[0]=a[0]/128,a[1]=a[1]/128}),this.PolygnShape=this.fromPolygon(a.polygon),this.PolygnShape.collisionGroup=this.settings.collisionGroup||Math.pow(2,0),this.PolygnShape.collisionMask=this.settings.collisionMask||Math.pow(2,0),this.decorate(),this.settings.enable&&this.enable()}return __extends(c,b),c.prototype.enable=function(){this.physicsEnabled||(a.world.addBody(this),this.physicsEnabled=!0,(this.settings.mass||this.settings.kinematic)&&a.bodies.add(this))},c.prototype.disable=function(){this.physicsEnabled&&(a.world.removeBody(this),this.physicsEnabled=!1,(this.settings.mass||this.settings.kinematic)&&a.bodies.remove(this))},c.prototype.decorate=function(){this.sprite=this.settings.sprite},c.prototype.update=function(){this.sprite.y=128*this.position[1],this.sprite.x=128*this.position[0],this.fixedRotation||this.settings.fixedSpriteRotation||(this.sprite.rotation=this.angle)},c.prototype.updateBody=function(){this.position[0]=this.sprite.x/128,this.position[1]=this.sprite.y/128,this.updateAABB()},c}(p2.Body);a.Polygon=b,a.polygon=function(a){return new b(a)}}(b=a.PHYSICS||(a.PHYSICS={}))}(DUST||(DUST={}));var DUST;!function(a){function b(){return window.DocumentTouch&&document instanceof window.DocumentTouch||"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}a.isTouchDevice=b}(DUST||(DUST={}));var DUST;!function(a){a.mobileDetect=new MobileDetect(window.navigator.userAgent)}(DUST||(DUST={}));var DUST;!function(a){function b(){return!!a.mobileDetect.mobile()}a.isMobileDevice=b}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(){function a(){this.fpsMultiplier=1,this.desiredFps=60,window.performance&&window.performance.now?this.ticker=window.performance:this.ticker=Date,this.startTime=this.ticker.now(),this.ms=this.startTime,
this.last=this.startTime,this.time=0,this.dt=0,this.delta=0,this.fps=60,this.frameCount=0,this.timeToUpdate=0,this.framesToUpdate=0}return a.prototype.tick=function(){this.frameCount+=1,this.ms=this.ticker.now(),this.dt=this.ms-this.last,this.timeToUpdate+=this.dt,this.delta=this.dt/1e3,this.time+=this.delta,this.last=this.ms,this.framesToUpdate+=1,this.timeToUpdate>1e3&&(this.fps=~~(1e3*this.framesToUpdate/this.timeToUpdate),this.framesToUpdate=0,this.timeToUpdate%=1e3),this.fpsMultiplier=this.delta*this.desiredFps},a}();a.Clock=b,a.clock=new b}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c;!function(b){function c(a){return{zoom:function(b,c,d){void 0===d&&(d=!1);var e=Promise.defer(),f=function(){if(a.targetScale=b,a.callbackZoom){var d=a.callbackZoom;a.callbackZoom=function(){d(),c&&c(),e.resolve(a)}}a.callbackZoom=function(){c&&c(),e.resolve(a)}};return d?f():a.queue.push(f),e.promise},move:function(b,c,d,e){void 0===e&&(e=!1);var f=Promise.defer(),g=function(){if(a.targetPosition={x:b,y:c},a.callbackMove){var e=a.callbackMove;a.callbackMove=function(){e(),d&&d(),f.resolve(a)}}a.callbackMove=function(){d&&d(),f.resolve(a)}};return e?g():a.queue.push(g),f.promise},fade:function(b,c){var d=Promise.defer();if(a.targetAlpha=b,a.callbackFade){var e=a.callbackFade;a.callbackFade=function(){e(),c&&c(),d.resolve(a)}}return a.callbackFade=function(){c&&c(),d.resolve(a)},d.promise}}}function d(a){return function(){var b=1,c=1;a.speed&&(b=a.speed),a.acceleration&&(a.acceleration+=a.acceleration/10,c=1+a.acceleration),(a.targetAlpha||0===a.targetAlpha)&&(a.targetAlpha<a.alpha&&(a.alpha-=.03*b*e.fpsMultiplier,a.targetAlpha>a.alpha&&(a.alpha=a.targetAlpha)),a.targetAlpha>a.alpha&&(a.alpha+=.03*b*e.fpsMultiplier,a.targetAlpha<a.alpha&&(a.alpha=a.targetAlpha)),a.targetAlpha===a.alpha&&(a.callbackFade&&(a.callbackFade(),a.callbackFade=null),a.targetAlpha=null)),a.queue&&a.queue.length&&(a.queueRunning||(a.queueRunning=!0,a.queue[0]())),!a.targetScale&&0!==a.targetScale||a.targetScale===a.scale.x||(a.targetScale<a.scale.x?(a.scale.y=a.scale.x-=.02*b*c*e.fpsMultiplier,a.targetScale>=a.scale.x&&(a.scale.x=a.targetScale*e.fpsMultiplier,a.queueRunning=!1,a.queue.shift(),a.scale.y=a.scale.x=a.targetScale,a.callbackZoom&&(a.callbackZoom(),a.callbackZoom=null),a.targetScale=null)):(a.scale.y=a.scale.x+=.02*b*c*e.fpsMultiplier,a.targetScale<=a.scale.x&&(a.scale.x=a.targetScale,a.queueRunning=!1,a.queue.shift(),a.scale.y=a.scale.x=a.targetScale,a.callbackZoom&&(a.callbackZoom(),a.callbackZoom=null),a.targetScale=null))),a.targetPosition&&(!a.targetPosition.x&&0!==a.targetPosition.x||!a.targetPosition.y&&0!==a.targetPosition.y?a.targetPosition.x||0===a.targetPosition.x?a.targetPosition.x<a.x?(a.x-=5*b*c*e.fpsMultiplier,a.targetPosition.x>=a.x&&(a.x=a.targetPosition.x,a.queueRunning=!1,a.queue.shift(),a.callbackMove&&(a.callbackMove(),a.callbackMove=null,a.targetPosition=null))):(a.x+=5*b*c*e.fpsMultiplier,a.targetPosition.x<=a.x&&(a.x=a.targetPosition.x,a.queueRunning=!1,a.queue.shift(),a.callbackMove&&(a.callbackMove(),a.callbackMove=null,a.targetPosition=null))):(a.targetPosition.y||0===a.targetPosition.y)&&a.targetPosition.y!==a.y&&(a.targetPosition.y<a.y?(a.y-=5*b*c*e.fpsMultiplier,a.targetPosition.y>=a.y&&(a.y=a.targetPosition.y,a.queueRunning=!1,a.queue.shift(),a.callbackMove&&(a.callbackMove(),a.callbackMove=null,a.targetPosition=null))):(a.y+=5*b*c*e.fpsMultiplier,a.targetPosition.y<=a.y&&(a.y=a.targetPosition.y,a.queueRunning=!1,a.queue.shift(),a.callbackMove&&(a.callbackMove(),a.callbackMove=null,a.targetPosition=null)))):(a.targetPosition.x<a.x?(Math.abs(a.x-a.targetPosition.x)/Math.abs(a.y-a.targetPosition.y)<=.5?a.x-=5*b*c*(Math.abs(a.x-a.targetPosition.x)/Math.abs(a.y-a.targetPosition.y))*e.fpsMultiplier:a.x-=5*b*c*e.fpsMultiplier,a.targetPosition.x>a.x&&(a.x=a.targetPosition.x)):a.targetPosition.x>a.x&&(Math.abs(a.x-a.targetPosition.x)/Math.abs(a.y-a.targetPosition.y)<=.5?a.x+=5*b*c*(Math.abs(a.x-a.targetPosition.x)/Math.abs(a.y-a.targetPosition.y))*e.fpsMultiplier:a.x+=5*b*c*e.fpsMultiplier,a.targetPosition.x<a.x&&(a.x=a.targetPosition.x)),a.targetPosition.y<a.y?(Math.abs(a.x-a.targetPosition.x)/Math.abs(a.y-a.targetPosition.y)>.5?a.y-=5*b*c/(Math.abs(a.x-a.targetPosition.x)/Math.abs(a.y-a.targetPosition.y))*e.fpsMultiplier:a.y-=5*b*c*e.fpsMultiplier,a.targetPosition.y>a.y&&(a.y=a.targetPosition.y)):a.targetPosition.y>a.y&&(Math.abs(a.x-a.targetPosition.x)/Math.abs(a.y-a.targetPosition.y)>.5?a.y+=5*b*c/(Math.abs(a.x-a.targetPosition.x)/Math.abs(a.y-a.targetPosition.y))*e.fpsMultiplier:a.y+=5*b*c*e.fpsMultiplier,a.targetPosition.y<a.y&&(a.y=a.targetPosition.y)),a.targetPosition.x===a.x&&a.targetPosition.y===a.y&&(a.queueRunning=!1,a.queue.shift(),a.callbackMove&&(a.callbackMove(),a.callbackMove=null,a.targetPosition=null))))}}var e=a.GRAPHIC.clock;b.animatable=function(a){return a.animate=c(a),a.updateAnimatable=d(a),a.queue=[],a}}(c=b.HELPERS||(b.HELPERS={}))}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(a){function b(){a.call(this),this.scale.x=1,this.scale.y=1}return __extends(b,a),b}(PIXI.Container);a.MainScene=b,a.mainScene=new b}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(b){function c(){b.call(this),this.scale.x=1,this.scale.y=1,a.mainScene.addChild(this)}return __extends(c,b),c}(PIXI.Container);a.Scene=b,a.scene=new b}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(b){function c(a){return"function"==typeof a}b.setPosition=function(b){var d={x:0,y:0},e=b.options,f=b.item,g=function(){f.x=e.x()/a.scene.scale.x};return c(e.x)?d.x=e.x():d.x=e.x,c(e.y)?d.y=e.y():d.y=e.y,e.pinned&&(d.x*=1/a.scene.scale.x,window.addEventListener("resize",g),window.addEventListener("orientationChange",g)),d}}(b=a.HELPERS||(a.HELPERS={}))}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){function b(b){var e,f={font:b.font.size+"px "+b.font.family,align:b.align,wordWrap:!1,wordWrapWidth:0};return b.wordWrap&&(f.wordWrap=!0,f.wordWrapWidth=b.wordWrap),e=new d(b.text,f),e.position=c({options:b,item:e}),e.container=b.container||a.scene,e.at=b.at,e}var c=a.HELPERS.setPosition,d=function(a){function b(b,c){a.call(this,b,c)}return __extends(b,a),b}(PIXI.extras.BitmapText);a.DustBitmapText=d,a.bitmapText=b}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=a.HELPERS.setPosition;a.container=function(c){var d;return d=c.batch?new PIXI.ParticleContainer:new PIXI.Container,d.container=c.container||a.scene,d.at=c.at,d.position=b({options:c,item:d}),d}}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=a.HELPERS.setPosition;a.movieClip=function(c){var d,e=[];return c.asset.forEach(function(a){e.push(PIXI.Texture.fromFrame(a))}),d=new PIXI.extras.MovieClip(e),d.loop=c.loop,c.onComplete?d.onComplete=c.onComplete:d.onComplete=function(){d.loop||window.setTimeout(function(){d.gotoAndStop(0)},0)},d.animationSpeed=c.speed||1,d.container=c.container||a.scene,d.at=c.at,d.position=b({options:c,item:d}),c.anchor?(d.anchor.x=c.anchor.x,d.anchor.y=c.anchor.y):(d.anchor.x=.5,d.anchor.y=.5),c.scale&&(d.scale.x=c.scale.x,d.scale.y=c.scale.y),d.rotation=c.rotation,d.play(),d}}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(){function a(){this.baseUrl=""}return a.prototype.update=function(a){return this.baseUrl=a,this.baseUrl},a.prototype.current=function(){return this.baseUrl},a}();a.BaseUrlHandler=b,a.baseUrl=new b}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c;!function(b){var c=a.ASSETS.baseUrl;b.textureFromFile=function(a){return PIXI.Texture.fromImage(c.current()+a)}}(c=b.HELPERS||(b.HELPERS={}))}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=a.HELPERS.setPosition,c=a.HELPERS.textureFromFile;a.spriteFromFile=function(d){var e,f;return e=c(d.asset),f=new PIXI.Sprite(e),f.position=b({options:d,item:f}),f.container=d.container||a.scene,f.at=d.at,d.anchor?(f.anchor.x=d.anchor.x,f.anchor.y=d.anchor.y):(f.anchor.x=.5,f.anchor.y=.5),d.scale&&(f.scale.x=d.scale.x,f.scale.y=d.scale.y),f.rotation=d.rotation,f}}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){a.textureFromFrame=function(a){return PIXI.Texture.fromFrame(a)}}(b=a.HELPERS||(a.HELPERS={}))}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=a.HELPERS.setPosition;a.spriteFromFrame=function(c){var d;return d=PIXI.Sprite.fromFrame(c.asset),d.position=b({options:c,item:d}),d.delayed=c.delayed,d.container=c.container||a.scene,d.at=c.at,c.anchor?(d.anchor.x=c.anchor.x,d.anchor.y=c.anchor.y):(d.anchor.x=.5,d.anchor.y=.5),c.scale&&(d.scale.x=c.scale.x,d.scale.y=c.scale.y),d.rotation=c.rotation,d}}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=a.HELPERS.setPosition;a.spriteFromTexture=function(c){var d;return d=new PIXI.Sprite(c.asset),d.position=b({options:c,item:d}),d.delayed=c.delayed,d.container=c.container||a.scene,d.at=c.at,c.anchor?(d.anchor.x=c.anchor.x,d.anchor.y=c.anchor.y):(d.anchor.x=.5,d.anchor.y=.5),c.scale&&(d.scale.x=c.scale.x,d.scale.y=c.scale.y),d.rotation=c.rotation,d}}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=a.HELPERS.setPosition;a.tilingSpriteFromFile=function(c){var d;return d=PIXI.extras.TilingSprite.fromImage(c.asset),d.position=b({options:c,item:d}),d.delayed=c.delayed,d.container=c.container||a.scene,d.at=c.at,c.anchor?(d.anchor.x=c.anchor.x,d.anchor.y=c.anchor.y):(d.anchor.x=.5,d.anchor.y=.5),c.scale&&(d.scale.x=c.scale.x,d.scale.y=c.scale.y),d.rotation=c.rotation,d}}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=a.HELPERS.setPosition;a.tilingSpriteFromFrame=function(c){var d;return d=PIXI.extras.TilingSprite.fromFrame(c.asset),d.position=b({options:c,item:d}),d.delayed=c.delayed,d.container=c.container||a.scene,d.at=c.at,c.anchor?(d.anchor.x=c.anchor.x,d.anchor.y=c.anchor.y):(d.anchor.x=.5,d.anchor.y=.5),c.scale&&(d.scale.x=c.scale.x,d.scale.y=c.scale.y),d.rotation=c.rotation,d}}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(){function a(){this.resolution=window.devicePixelRatio||1,this.options={antialiasing:!1,forceFXAA:!1,transparent:!0,resolution:this.resolution,clearBeforeRender:!0},this.isOldFirefoxOs()?this.renderer=new PIXI.CanvasRenderer(window.innerWidth,window.innerHeight,this.options):this.renderer=PIXI.autoDetectRenderer(window.innerWidth,window.innerHeight,this.options),this.canvas=this.renderer.view,document.body.appendChild(this.canvas)}return a.prototype.isOldFirefoxOs=function(){var a;return window.navigator&&window.navigator.userAgent?(a=parseInt(window.navigator.userAgent.substr(window.navigator.userAgent.indexOf("32.0"),4),10),33>a&&navigator.userAgent.indexOf("Firefox")>-1&&navigator.userAgent.indexOf("Mobile")>-1):!1},a}();a.Renderer=b,a.renderer=new b}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){a.events={GRAPHIC_ORIENTATION_CHANGED_TO_HORIZONTAL:"dust.graphic.orientation.changed.to.horizontal",GRAPHIC_ORIENTATION_CHANGED_TO_VERTICAL:"dust.graphic.orientation.changed.to.vertical",AUDIO_SPRITES_LOADED:"dust.audio.sprites.loaded",AUDIO_SOUNDS_LOADED:"dust.audio.sounds.loaded"}}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=function(){function c(){}return c.prototype.rendererResize=function(){var c,d,e,f=window.innerWidth,g=window.innerHeight;b.renderer.renderer instanceof PIXI.CanvasRenderer&&b.mainScene.removeChild(b.scene),b.renderer.canvas.style.width=f+"px",b.renderer.canvas.style.height=g+"px",this.timeout&&window.clearTimeout(this.timeout),b.renderer.renderer.resize(f,g),b.renderer.renderer.plugins.interaction.resolution=b.renderer.renderer.resolution,c=f/this.targetViewPort.width,d=g/this.targetViewPort.height,e=Math.min(c,d),b.mainScene.scale.y=b.mainScene.scale.x=e,b.mainScene.pivot.y=-((g/b.mainScene.scale.y-this.targetViewPort.height)/2),b.mainScene.pivot.x=-(f*(1/b.mainScene.scale.x)/2),f>g&&this.orientation===a.events.GRAPHIC_ORIENTATION_CHANGED_TO_VERTICAL&&(this.orientation=a.events.GRAPHIC_ORIENTATION_CHANGED_TO_HORIZONTAL,a.event.broadcast(a.events.GRAPHIC_ORIENTATION_CHANGED_TO_HORIZONTAL,null)),g>f&&this.orientation===a.events.GRAPHIC_ORIENTATION_CHANGED_TO_HORIZONTAL&&(this.orientation=a.events.GRAPHIC_ORIENTATION_CHANGED_TO_VERTICAL,a.event.broadcast(a.events.GRAPHIC_ORIENTATION_CHANGED_TO_VERTICAL,null)),window.scrollTo&&window.scrollTo(0,0),b.renderer.renderer instanceof PIXI.CanvasRenderer&&window.setTimeout(function(){b.mainScene.addChild(b.scene)},250)},c.prototype.resize=function(){var a=this;this.isListening||(this.isListening=!0,window.addEventListener("resize",function(){window.setTimeout(function(){a.rendererResize()},250)}),window.addEventListener("deviceOrientation",function(){window.setTimeout(function(){a.rendererResize()},250)}))},c.prototype.init=function(a){this.targetViewPort=a,this.resize(),this.rendererResize()},c}(),d=new c;b.resize=function(a){d.targetViewPort?d.rendererResize():d.init(a)}}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(){function b(a){this.lastQualityScale=window.devicePixelRatio||1,this.targetFps=a}return b.prototype.getQualityScale=function(){var b=a.clock.fps/this.targetFps;return b*=window.devicePixelRatio||1,.8>b&&(b=.8),b<this.lastQualityScale?(this.timeout&&window.clearTimeout(this.timeout),this.lastQualityScale=b,b):(b>this.lastQualityScale+.1&&this.timeout&&window.clearTimeout(this.timeout),0)},b.prototype.setQuality=function(){var b=this.getQualityScale();this.timeout=window.setTimeout(function(){!b||document.visibilityState&&"visible"!==document.visibilityState||(a.renderer.renderer.resolution=b,a.resize(null))},4e3)},b}();a.QualityManager=b,a.qualityManager=new b(50)}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.mainScene,d=function(){function a(){this.instance=c,this.buildLoop(),this.gameLoops=[],requestAnimationFrame(this.loop)}return a.prototype.mainLoop=function(){requestAnimationFrame(this.loop);var a=this.gameLoops,d=this.gameLoops.length;if(!document.visibilityState||"visible"===document.visibilityState){for(;d--;)a[d]&&a[d].loop();b.clock.tick(),b.renderer.renderer.render(c)}},a.prototype.buildLoop=function(){var a=this;this.loop=function(){a.mainLoop()}},a.prototype.addToLoop=function(a,b){this.gameLoops.push({loop:a,name:b})},a.prototype.removeFromLoop=function(a){for(var b=this.gameLoops.length;b--;)this.gameLoops[b].name===a&&this.gameLoops.splice(b,1)},a.prototype.hasLoop=function(a){return this.gameLoops.some(function(b){return b.name===a})},a}();b.Stage=d,b.stage=new d}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){function c(a,b){return~~a.zIndex-~~b.zIndex}var d=a.PHYSICS.circle,e=a.PHYSICS.rectangle,f=a.PHYSICS.plane,g=a.PHYSICS.polygon,h=b.HELPERS.animatable,i=function(){function a(){}return a}();b.Point=i,b.zIndexCmp=c;var j=function(){function a(){this.container=null,this.asset=null,this.x=0,this.y=0,this.physics=null,this.invisible=!1,this.anchor={x:.5,y:.5},this.scale={x:1,y:1},this.at=null}return a}();b.EntityOptions=j;var k=function(){function i(a){if(this.animations={},this._updates=[],this._queue=[],this._queueWorking=!1,this.types={bitmapText:b.bitmapText,container:b.container,movieClip:b.movieClip,spriteFromFile:b.spriteFromFile,spriteFromFrame:b.spriteFromFrame,spriteFromTexture:b.spriteFromTexture,tilingSpriteFromFile:b.tilingSpriteFromFile,tilingSpriteFromFrame:b.tilingSpriteFromFrame},this.options=a,!a.name)throw"Entities must have unique names";if(this.name=a.name,!a.invisible){if(!this.types[a.type])throw"Not a valid entity type: "+a.type;this.properties=a,this.sprite=this.types[a.type](a),this.sprite.type=a.type,this.sprite.zIndex=0}a.physics&&(a.physics.radius?this.physics=d({sprite:this.sprite,mass:a.physics.mass,collisionGroup:a.physics.collisionGroup,collisionMask:a.physics.collisionMask,kinematic:a.physics.kinematic,radius:a.physics.radius,enable:a.physics.enable,fixedRotation:a.physics.fixedRotation,fixedSpriteRotation:a.physics.fixedSpriteRotation,x:a.x,y:a.y}):a.physics.isPlane?this.physics=f({mass:a.physics.mass,collisionGroup:a.physics.collisionGroup,collisionMask:a.physics.collisionMask,kinematic:a.physics.kinematic,enable:a.physics.enable,x:a.x,y:a.y}):a.physics.polygon?this.physics=g({sprite:this.sprite,collisionGroup:a.physics.collisionGroup,collisionMask:a.physics.collisionMask,kinematic:a.physics.kinematic,mass:a.physics.mass,enable:a.physics.enable,polygon:a.physics.polygon,x:a.x,y:a.y,fixedRotation:a.physics.fixedRotation,fixedSpriteRotation:a.physics.fixedSpriteRotation}):this.physics=e({sprite:this.sprite,collisionGroup:a.physics.collisionGroup,collisionMask:a.physics.collisionMask,kinematic:a.physics.kinematic,mass:a.physics.mass,enable:a.physics.enable,width:a.physics.width,height:a.physics.height,x:a.x,y:a.y,fixedRotation:a.physics.fixedRotation,fixedSpriteRotation:a.physics.fixedSpriteRotation}))}return Object.defineProperty(i.prototype,"zIndex",{get:function(){return this.sprite.zIndex},set:function(a){this.sprite.zIndex=a,this.sortSiblings()},enumerable:!0,configurable:!0}),i.prototype.sortSiblings=function(){this.sprite.parent&&this.sprite.parent.children.sort(c)},Object.defineProperty(i.prototype,"x",{get:function(){return this.sprite.x},set:function(a){this.sprite.x=a},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"y",{get:function(){return this.sprite.y},set:function(a){this.sprite.y=a},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"z",{get:function(){return this.zIndex},set:function(a){this.zIndex=a},enumerable:!0,configurable:!0}),i.prototype._wrapAndEnqueue=function(a,b){var c=this,d=Promise.defer(),e=function(){b&&b(),d.resolve(c)};return this._enqueue(function(){return a.call(c,e)}),d.promise},i.prototype._enqueue=function(a){this._queue.push(a),this._queueWorking||this._dequeue()},i.prototype._dequeue=function(){var a=this;this._queueWorking=this._queue.length>0,this._queueWorking&&this._queue.shift()().then(function(){a._dequeue()})},i.prototype.__createAttachmentStateChangePromise=function(a,b){var c=this,d=Promise.defer(),e=function(){b&&b(),d.resolve(c)};return a.call(this,e),d.promise},i.prototype._createSelfAttachPromise=function(a){return this.__createAttachmentStateChangePromise(this._selfAttach,a)},i.prototype._createSelfRemovePromise=function(a){return this.__createAttachmentStateChangePromise(this._selfRemove,a)},i.prototype.selfAttach=function(a){return this._wrapAndEnqueue(this._createSelfAttachPromise,a)},i.prototype.selfRemove=function(a){return this._wrapAndEnqueue(this._createSelfRemovePromise,a)},i.prototype._selfAttach=function(a){this.options.invisible||this.sprite.parent?this.options.invisible?(this.onBeforeAttach(),this.onAfterAttach(function(){a&&a()}),this.physics&&this.physics.enable()):a&&a():(this.onBeforeAttach(),this.sprite.container.sprite?this.sprite.at?this.sprite.container.sprite.addChildAt(this.sprite,this.sprite.at):this.sprite.container.sprite.addChild(this.sprite):this.sprite.container.addChild(this.sprite),this.onAfterAttach(function(){a&&a()}),this.physics&&this.physics.enable())},i.prototype._selfRemove=function(a){var b=this;!this.options.invisible&&this.sprite.parent?(this.onBeforeRemove(function(){b.sprite.parent&&b.sprite.parent.removeChild(b.sprite),b.onAfterRemove(),a&&a()}),this.physics&&this.physics.disable()):this.options.invisible?(this.onBeforeRemove(function(){a&&a(),b.onAfterRemove()}),this.physics&&this.physics.disable()):a&&a()},i.prototype.onBeforeAttach=function(){},i.prototype.onAfterAttach=function(a){a()},i.prototype.onBeforeRemove=function(a){a()},i.prototype.onAfterRemove=function(){},i.prototype.animationStart=function(){var a=this;b.stage.addToLoop(function(){a.update(b.clock)},this.name)},i.prototype.animationStop=function(){b.stage.removeFromLoop(this.name)},i.prototype.update=function(a){},i.prototype.animationEnable=function(){this.sprite=h(this.sprite),b.stage.addToLoop(this.sprite.updateAnimatable,this.name)},i.prototype.animationDisable=function(){b.stage.removeFromLoop(this.name),this.sprite.animationIndex=null,this.sprite.updateAnimatable=null,this.sprite.animate=null,this.sprite.queue=null,this.sprite.speed=null,this.sprite.acceleration=null,this.sprite.targetPosition=null,this.sprite.targetScale=null,this.sprite.targetAlpha=null},i.prototype.append=function(a){a.sprite&&a.sprite.parent&&a.sprite.parent.removeChild(a.sprite),a.container=this,a.sprite.container=this},i.prototype.makeInteractive=function(a){this.sprite&&(this.sprite.interactive=!0,a&&(this.sprite.buttonMode=!0))},i.prototype.makeStatic=function(){this.sprite.interactive=!1,this.sprite.buttonMode=!1},i.prototype.bindInteraction=function(b){b&&this.sprite&&(a.isTouchDevice()&&b.mobileEvent&&(this.sprite[b.mobileEvent]=function(a){b.action&&b.action(a)}),!a.isMobileDevice()&&b.desktopEvent&&(this.sprite[b.desktopEvent]=function(a){b.action&&b.action(a)}))},i.prototype.onInteractionStart=function(a){this.bindInteraction({desktopEvent:"mousedown",mobileEvent:"touchstart",action:a})},i.prototype.onInteractionMove=function(a){this.bindInteraction({desktopEvent:"mousemove",mobileEvent:"touchmove",action:a})},i.prototype.onInteractionEnd=function(a){this.bindInteraction({desktopEvent:"mouseup",mobileEvent:"touchend",action:a}),this.bindInteraction({desktopEvent:"mouseupoutside",mobileEvent:"touchendoutside",action:a})},i.prototype.onInteractionFull=function(a){this.bindInteraction({desktopEvent:"click",mobileEvent:"tap",action:a})},i.prototype.onInteractionOver=function(a){this.bindInteraction({desktopEvent:"mouseover",action:a})},i.prototype.onInteractionOut=function(a){this.bindInteraction({desktopEvent:"mouseout",action:a})},i}();b.Entity=k}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){a.easings={linear:new BezierEasing([0,0,1,1]),easeInSine:new BezierEasing([.47,0,.745,.715]),easeOutSine:new BezierEasing([.39,.575,.565,1]),easeInOutSine:new BezierEasing([.445,.05,.55,.95]),easeInQuad:new BezierEasing([.55,.085,.68,.53]),easeOutQuad:new BezierEasing([.25,.46,.45,.94]),easeInOutQuad:new BezierEasing([.455,.03,.515,.955]),easeInCubic:new BezierEasing([.55,.055,.675,.19]),easeOutCubic:new BezierEasing([.215,.61,.355,1]),easeInOutCubic:new BezierEasing([.645,.045,.355,1]),easeInQuart:new BezierEasing([.895,.03,.685,.22]),easeOutQuart:new BezierEasing([.165,.84,.44,1]),easeInOutQuart:new BezierEasing([.77,0,.175,1]),easeInQuint:new BezierEasing([.755,.05,.855,.06]),easeOutQuint:new BezierEasing([.23,1,.32,1]),easeInOutQuint:new BezierEasing([.86,0,.07,1]),easeInExpo:new BezierEasing([.95,.05,.795,.035]),easeOutExpo:new BezierEasing([.19,1,.22,1]),easeInOutExpo:new BezierEasing([1,0,0,1]),easeInCirc:new BezierEasing([.6,.04,.98,.335]),easeOutCirc:new BezierEasing([.075,.82,.165,1]),easeInOutCirc:new BezierEasing([.785,.135,.15,.86]),easeInBack:new BezierEasing([.6,-.28,.735,.045]),easeOutBack:new BezierEasing([.175,.885,.32,1.275]),easeInOutBack:new BezierEasing([.68,-.55,.265,1.55])}}(b=a.ANIMATION||(a.ANIMATION={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=b.easings,d=a.GRAPHIC.clock,e=a.GRAPHIC.stage,f=function(){function a(a,b,d,e,f){void 0===f&&(f=c.linear),this.propertyChain=a,this.from=b,this.to=d,this.time=e,this.easing=f,this.trans=b+(d-b)}return a.getLoopName=function(){var a;do a="animation-loop-"+Math.random();while(e.hasLoop(a));return a},a.getTargetObject=function(a,b){var c=a;return b.forEach(function(a,d){d<b.length-1&&(c=c[a])}),c},a.transpose=function(a,b,c){return b+(c-b)*a},a.step=function(b,c,d,e,f,g){b[c]=a.transpose(e.find(d),f,g)},a.getStepper=function(b,c,d,e,f){return function(g){a.step(b,c,g,d,e,f)}},a.prototype.animation=function(b,c){var f,g=this.propertyChain,h=this.from,i=this.to,j=this.easing,k=this.time,l=a.getTargetObject(b,g),m=a.getLoopName(),n=g[g.length-1],o=d.ms,p=Promise.defer(),q=a.getStepper(l,n,j,h,i),r=function(){return(d.ms-o)/k},s=function(){f=r(),c&&(f=1-f),f>=0&&1>=f?q(f):(q(~~!c),p.resolve(b))};return b.animations[m]=this,l[n]=h,e.addToLoop(s,m),p.promise.then(function(){return e.removeFromLoop(m),delete b.animations[m],b})},a.prototype.run=function(a,b,c){return void 0===b&&(b=!1),this.animation(a,b)},Object.defineProperty(a.prototype,"decorator",{get:function(){var a=this;return function(b){var c=b.prototype,d=a;c.onAfterAttach=function(a){d.run(this,!1,d).then(function(){a()})},c.onBeforeRemove=function(a){d.run(this,!0,d).then(function(){a()})}}},enumerable:!0,configurable:!0}),a}();b.Animation=f}(b=a.ANIMATION||(a.ANIMATION={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.clock,d=function(){function a(){this.clock=c}return a.prototype.animationStart=function(a){},a.prototype.animationStop=function(a){},a.prototype.animationPrepare=function(a){this.resetValues={scaleX:a.sprite.scale.x,scaleY:a.sprite.scale.y,positionX:a.x,positionY:a.y,alpha:a.sprite.alpha}},a.prototype.animationReset=function(a){a.sprite.scale.x=this.resetValues.scaleX,a.sprite.scale.y=this.resetValues.scaleY,a.x=this.resetValues.positionX,a.y=this.resetValues.positionY,a.sprite.alpha=this.resetValues.alpha},a.prototype.run=function(a,b){b||(b=this),b.animationStart(a)},a.prototype.stop=function(a,b){b||(b=this),b.animationStop(a)},Object.defineProperty(a.prototype,"decorator",{get:function(){var a=this;return function(b){var c=b.prototype,d=c.selfAttach,e=c.selfRemove,f=c.onAfterRemove,g=a;c.selfAttach=function(a){var b=this;return g.animationPrepare(this),d.call(this,a).then(function(){return g.run(b,g),b})},c.selfRemove=function(a){var b=this;return Promise.resolve().then(function(){return g.stop(b,g),b}).then(function(){return e.call(b,a)})},c.onAfterRemove=function(){f.call(this),g.animationReset(this)}}},enumerable:!0,configurable:!0}),a}();b.CustomAnimation=d}(b=a.ANIMATION||(a.ANIMATION={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){a.addFromUrl=function(a,b,c){var d=new PIXI.loaders.Loader;d.add(a,a,b).once("complete",function(){c&&c(a)}),d.load()}}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){a.asyncLoad=!1}(b=a.AUDIO||(a.AUDIO={}))}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b=function(){function a(){this.total=0,this.completed=0,this.onCounterChange=function(){}}return a.prototype.setTotal=function(a){return this.total=a.graphic.length,this.total},a.prototype.complete=function(){this.completed+=1,this.onCounterChange(this.completed,this.total,!1)},a.prototype.end=function(){this.onCounterChange(this.completed,this.total,!0)},a.prototype.setCounterChange=function(a){this.onCounterChange=a},a}();a.CounterHandler=b,a.counter=new b}(b=a.PROGRESS||(a.PROGRESS={}))}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c;!function(b){var c=function(){function b(){this.isDummy=!0}return b.prototype.handler=function(){a.log("All assets loaded",this.isDummy)},b.prototype.setHandler=function(a){this.isDummy=!1,this.handler=a},b.prototype.runHandler=function(){this.handler()},b}();b.CompletedHandler=c,b.completed=new c}(c=b.PROGRESS||(b.PROGRESS={}))}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){function b(){a.counter.complete()}a.next=b}(b=a.PROGRESS||(a.PROGRESS={}))}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c;!function(b){function c(a){return new d(a)}var d=function(){function b(a){var b=this;this._counter=0,this.supported=[a];var c=this.createAfterAllCallback(function(){b.onAllLoaded()});this.supported=[a],this.sfx=new Howl({src:this.supported,urls:this.supported,autoplay:!1,onload:function(){c()}}),this.sfx._muted=!1}return b.prototype.createAfterAllCallback=function(a){var b=this;return this._counter+=1,function(){b._counter-=1,b._counter<=0&&(b._counter=0,a&&a())}},b.prototype.onAllLoaded=function(){a.event.broadcast(a.events.AUDIO_SOUNDS_LOADED,null)},b.prototype.play=function(a){this.sfx.volume(1),this.sfx.loop(a),this.sfx.play()},b.prototype.stop=function(){this.sfx.volume(0),this.sfx.stop()},b}();b.AudioLoader=d,b.load=c}(c=b.AUDIO||(b.AUDIO={}))}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c;!function(b){function c(a,b){return void 0===b&&(b=!1),new e(a)}var d=a.events,e=function(){function b(a){var b=this;this._counter=0;var c=this.createAfterAllCallback(function(){b.onAllLoaded()});a.onload=function(){c()},a.urls=a.src,this.sprite=new Howl(a)}return b.prototype.createAfterAllCallback=function(a){var b=this;return this._counter+=1,function(){b._counter-=1,b._counter<=0&&(b._counter=0,a&&a())}},b.prototype.onAllLoaded=function(){a.event.broadcast(d.AUDIO_SPRITES_LOADED,null)},b.prototype.play=function(){this.sprite.volume(1),this.sprite.play()},b.prototype.stop=function(){this.sprite.stop(),this.sprite.volume(0)},b}();b.AudioSpriteLoader=e,b.loadSprite=c}(c=b.AUDIO||(b.AUDIO={}))}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(b){var c=function(){function c(){this.cachedSounds={},this.cachedSprites=[]}return c.prototype.getName=function(a){return a.split(".")[0].match(".*/(.*)")[1]},c.prototype.load=function(c){var d=this;c.forEach(function(c){var e=d.getName(c);d.cachedSounds[e]=b.load(a.baseUrl.current()+c)})},c.prototype.loadSprite=function(c){var d=this;c.forEach(function(c){c.src.forEach(function(b,d){c.src[d]=a.baseUrl.current()+b}),d.cachedSprites.push(b.loadSprite(c))})},c.prototype.play=function(a,b,c){void 0===c&&(c=1);var d;return this.cachedSounds[a]?d=this.cachedSounds[a].play(b):this.cachedSprites.forEach(function(b){b.sprite&&!d&&(b.sprite.volume(c),d=b.sprite.play(a))}),d},c.prototype.stop=function(a){return this.cachedSounds[a]?this.cachedSounds[a].stop():void this.cachedSprites.forEach(function(b){return b.sprite?(b.sprite.volume(1),b.sprite.stop(a)):void 0})},c.prototype.toggle=function(){Howler._muted?Howler.unmute():Howler.mute()},c.prototype.mute=function(){Howler.mute()},c.prototype.unmute=function(){Howler.unmute()},c}();b.InitAudio=c,b.init=new c}(b=a.AUDIO||(a.AUDIO={}))}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){function b(){a.counter.end()}a.end=b}(b=a.PROGRESS||(a.PROGRESS={}))}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){function b(a){return new e(a)}var c=a.PROGRESS.next,d=a.PROGRESS.end,e=function(){function b(b){var e=this;this.loader=new PIXI.loaders.Loader(a.baseUrl.current(),0),b.forEach(function(a,b){e.loader.add(String(b),a)}),this.loader.on("progress",function(a,b){String(parseInt(b.name,10))===b.name&&c()}),this.loader.on("complete",function(){d()}),this.loader.load()}return b}();a.GraphicsHandler=e,a.graphic=b}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=a.PROGRESS.counter,c=a.PROGRESS.next,d=a.AUDIO.init;a.init=function(e){var f=e.assetList,g=b.setTotal(f),h=e.baseUrl;a.baseUrl.update(h),g?(d.load(f.audio),d.loadSprite(f.audioSprite),a.graphic(f.graphic)):c()}}(b=a.ASSETS||(a.ASSETS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(){function b(){this.isGraphicOn=!1}return b.prototype.init=function(b){return this.isGraphicOn||(this.isGraphicOn=!0,
a.resize(b)),this.isGraphicOn},b}(),c=new b;a.init=function(a){c.init(a)}}(b=a.GRAPHIC||(a.GRAPHIC={}))}(DUST||(DUST={}));var DUST;!function(a){var b=a.ASSETS.PROGRESS.completed,c=a.GRAPHIC.init,d=a.ASSETS.init,e=function(){function a(){}return a.prototype.init=function(a){var c=this;this.viewPort=a.viewPort,this.game=a.game,this.baseUrl=a.baseUrl||"",this.assetList=a.assetList,this.initializeStage(),b.setHandler(function(){c.startGame()}),this.loadAssets()},a.prototype.startGame=function(){this.gameStarted=!0,this.game()},a.prototype.initializeStage=function(){return c(this.viewPort)},a.prototype.loadAssets=function(){d({assetList:this.assetList,baseUrl:this.baseUrl})},a}();a.DustInit=e;var f=new e;a.init=function(a){f.init(a)}}(DUST||(DUST={}));var DUST;!function(a){function b(){return!document.visibilityState||"visible"===document.visibilityState}a.isVisible=b}(DUST||(DUST={}));var DUST;!function(a){function b(a){return d||(d=new c,d.init(a)),{renderer:d.renderer,engine:d.engine}}var c=function(){function a(){this.started=!1,this.engine=new Proton(30),this.renderer=new Proton.Renderer("other",this.engine)}return a.prototype.onParticleCreated=function(){var a=this;this.renderer.onParticleCreated=function(b){b.sprite=new PIXI.Sprite(b.target),b.sprite.anchor.x=.5,b.sprite.anchor.y=.5,a.container.addChild(b.sprite)}},a.prototype.onParticleUpdate=function(){this.renderer.onParticleUpdate=function(a){a.sprite.x=a.p.x,a.sprite.y=a.p.y,a.sprite.scale.x=a.scale,a.sprite.scale.y=a.scale,a.sprite.alpha=a.alpha,a.sprite.tint=parseInt("0x"+a.color,16)}},a.prototype.onParticleDead=function(){this.renderer.onParticleDead=function(a){a.sprite.parent.removeChild(a.sprite),a.sprite=null,a=null}},a.prototype.setContainer=function(a){this.container=a},a.prototype.init=function(a){!this.started&&a&&(this.setContainer(a),this.onParticleCreated(),this.onParticleUpdate(),this.onParticleDead(),this.renderer.start(),this.started=!0)},a}();a.ParticleManager=c;var d;a.particle=b}(DUST||(DUST={}));var DUST;!function(a){var b=function(b){a.log('WARNING: Event "'+b+'" is DEPRECATED. Please listen to "'+b+'.<SCENE_NAME>".')};a.event.on(a.sceneEvents.loadStart,function(){b(a.sceneEvents.loadStart)}),a.event.on(a.sceneEvents.loadEnd,function(){b(a.sceneEvents.loadStart)});var c=function(){function b(){this._queue=[],this._queueWorking=!1,this.scenes={},this._bindEvents()}return b.prototype._bindEvents=function(){var b=this;a.event.on(a.sceneEvents.sceneCreated,function(a){b.add(a)})},b.prototype.add=function(a){this.scenes[a.name]=a},b.prototype["switch"]=function(a,b,c){var d=this;if(this.currentScene===a)return Promise.resolve(this.scenes[this.currentScene]);var e=Promise.defer(),f=function(a){e.resolve(a)};return this._enqueue(function(){return d._createSwitchPromise(a,b,c,f)}),e.promise},b.prototype._createSwitchPromise=function(b,c,d,e){var f=Promise.defer();return a.event.once(a.sceneEvents.loadEnd+"."+b,function(a){e&&e(a),f.resolve(a)}),this._switch(b,c,d),f.promise},b.prototype._switch=function(b,c,d){var e=this;a.event.broadcast(a.sceneEvents.loadStart,b),a.event.broadcast(a.sceneEvents.loadStart+"."+b,this.scenes[b]),this.targetScene=null,this.previousScene=null,d&&(this.nextScene=d);for(var f in this.scenes)this.scenes.hasOwnProperty(f)&&(b===f||!this.scenes[f].isActive||this.scenes[f].authoritative&&!c||(this.previousScene=f,this.currentScene=b,this.scenes[f].hide(function(){e.scenes[b].show()})),b!==f&&this.scenes[f].isActive&&this.scenes[f].authoritative&&(this.previousScene=f,this.currentScene=b,this.scenes[b].show()),c&&this.scenes[f].clear())},b.prototype.back=function(){this.previousScene&&this["switch"](this.previousScene,!1,this.currentScene)},b.prototype.forward=function(){this.nextScene&&this["switch"](this.nextScene,!1,null)},b.prototype.toggle=function(a){this.scenes[a].isActive?this.scenes[a].hide():this.scenes[a].show()},b.prototype._enqueue=function(a){this._queue.push(a),this._queueWorking||this._dequeue()},b.prototype._dequeue=function(){var a=this;this._queueWorking=this._queue.length>0,this._queueWorking&&this._queue.shift()().then(function(b){a._dequeue()})},b}();a.SceneManager=c,a.scenes=new c}(DUST||(DUST={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.EntityOptions,d=a.GRAPHIC.Entity,e=a.sceneEvents,f=a.event,g=function(a){function b(){a.apply(this,arguments),this.type="container"}return __extends(b,a),b}(c);b.EntityButtonOptions=g;var h=function(){function a(a,b,c){void 0===b&&(b=null),void 0===c&&(c=null),this.normal=a,this.press=b||a,this.hover=c||a}return a}();b.ButtonAssetsOptions=h,function(a){a[a.normal=0]="normal",a[a.press=1]="press",a[a.hover=2]="hover"}(b.assetFrameNumber||(b.assetFrameNumber={}));var i=b.assetFrameNumber,j=function(a){function b(b){a.call(this,b),this.isActive=!0,this.wasActive=!0,this.setupInteraction(),this.createButtonBackground(b)}return __extends(b,a),b.prototype.setupInteraction=function(){var a=this;this.onInteractionFull(function(){a.action()}),this.onInteractionStart(function(){a.press()}),this.onInteractionEnd(function(){a.normal()}),this.onInteractionOver(function(){a.hover()}),this.onInteractionOut(function(){a.normal()}),f.on(e.loadStart,function(){a.wasActive=a.isActive,a.disable()}),f.on(e.loadEnd,function(){a.wasActive&&a.enable(),a.wasActive=a.isActive})},b.prototype.createButtonBackground=function(a){var b=new c,e=a.buttonAssets.normal,f=a.buttonAssets.press,g=a.buttonAssets.hover;b.name=a.name+"-bg",b.asset=[],b.asset[i.normal]=e,b.asset[i.press]=f,b.asset[i.hover]=g,b.type="movieClip",b.container=this,this.buttonBg=new d(b),this.buttonBg.selfAttach()},b.prototype.setFrame=function(a){this.buttonBg.sprite.gotoAndStop(a)},b.prototype.hover=function(){this.setFrame(i.hover)},b.prototype.press=function(){this.setFrame(i.press)},b.prototype.normal=function(){this.setFrame(i.normal)},b.prototype.action=function(){console.log("no action defined")},b.prototype.disable=function(){this.setActive(!1)},b.prototype.enable=function(){this.setActive()},b.prototype.setActive=function(a){void 0===a&&(a=!0),this.isActive=a,this.isActive?this.makeInteractive(!0):this.makeStatic()},b}(d);b.Button=j}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.EntityButtonOptions);a.EntityButtonTitledOptions=b;var c=function(a){function b(b){a.call(this,b),b.titleEntity&&(this.titleEntity=b.titleEntity,this.append(this.titleEntity),this.titleEntity.selfAttach())}return __extends(b,a),b}(a.Button);a.ButtonTitled=c}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.Entity,d=a.GRAPHIC.EntityOptions,e=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(b.EntityButtonOptions);b.EntityButtonMovieClipOptions=e;var f=function(a){function b(b){var e,f;b.clipAssets&&b.clipAssets.length&&(e=new d,e.type="movieClip",e.asset=b.clipAssets,e.name=b.name+"-title",f=new c(e));var g=b;f&&(g.titleEntity=f),a.call(this,g)}return __extends(b,a),b}(b.ButtonTitled);b.ButtonMovieClip=f}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(a){function b(b,c,d){a.call(this),this.clipAssets=c,this.buttonAssets={press:b+"_pressed.png",hover:b+"_hover.png",normal:b+".png"},this.name=c+"/",this.container=d}return __extends(b,a),b}(a.EntityButtonMovieClipOptions),c=function(a){function c(c,d,e){a.call(this,new b(c,d,e))}return __extends(c,a),c.prototype.press=function(){a.prototype.press.call(this)},c}(a.ButtonMovieClip);a.ButtonIcon=c}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.Entity,d=a.GRAPHIC.EntityOptions,e=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(b.EntityButtonOptions);b.EntityButtonSpriteFromFileOptions=e;var f=function(a){function b(b){var e=new d;e.type="spriteFromFile",e.asset=b.fileAsset,e.name=b.name+"-title";var f=new c(e),g=b;g.titleEntity=f,a.call(this,g)}return __extends(b,a),b}(b.ButtonTitled);b.ButtonSpriteFromFile=f}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.Entity,d=a.GRAPHIC.EntityOptions,e=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(b.EntityButtonOptions);b.EntityButtonSpriteFromFrameOptions=e;var f=function(a){function b(b){var e=new d;e.type="spriteFromFrame",e.asset=b.frameAsset,e.name=b.name+"-title";var f=new c(e),g=b;g.titleEntity=f,a.call(this,g)}return __extends(b,a),b}(b.ButtonTitled);b.ButtonSpriteFromFrame=f}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.EntityOptions,d=a.GRAPHIC.Entity,e=function(){function a(){}return a.LEFT="left",a.CENTER="center",a.RIGHT="right",a}();b.EntityTextAlign=e;var f=function(a){function b(b,c,d){a.call(this),this.type="bitmapText",this.text=b,this.font=c,this.align=d||e.CENTER}return __extends(b,a),b}(c);b.EntityTextOptions=f;var g=function(){function a(a,b){this.size=a,this.family=b}return a}();b.FontSettings=g;var h=function(a){function b(b){a.call(this,b),this.alignOffset=0,this.anchor=b.anchor,this.font=b.font,this.text=b.text,this.align=b.align,this.y-=this.textHeight/2}return __extends(b,a),b.prototype.calculateAlignOffset=function(){this._align===e.CENTER&&(this.alignOffset=this.textWidth/2),this._align===e.RIGHT&&(this.alignOffset=this.textWidth),this._align===e.LEFT&&(this.alignOffset=0)},Object.defineProperty(b.prototype,"textWidth",{get:function(){return this.sprite.textWidth},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"textHeight",{get:function(){return this.sprite.textHeight},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fontSize",{get:function(){return this.sprite.fontSize},set:function(a){this.sprite.fontSize=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"text",{get:function(){return this.sprite.text},set:function(a){var b=this.textWidth;this.sprite.text=a,this.sprite.updateText(),this._align===e.CENTER&&(this.x+=(b-this.textWidth)/2),this._align===e.RIGHT&&(this.x+=b-this.textWidth)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"align",{get:function(){return this._align},set:function(a){this.x+=this.alignOffset,this._align=a,this.calculateAlignOffset(),this.x-=this.alignOffset},enumerable:!0,configurable:!0}),b}(d);b.Text=h}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){function b(a,b){b.forEach(function(b){Object.getOwnPropertyNames(b.prototype).forEach(function(c){a.prototype[c]=b.prototype[c]})})}a.applyMixins=b}(b=a.UTILS||(a.UTILS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.EntityButtonOptions);a.EntityButtonTextOptions=b;var c=function(b){function c(c){var d=new a.Text(c.textOptions),e=c;e.titleEntity=d,b.call(this,e)}return __extends(c,b),Object.defineProperty(c.prototype,"text",{set:function(a){this.titleEntity.text=a},enumerable:!0,configurable:!0}),c}(a.ButtonTitled);a.ButtonText=c}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.PLUGINS.UUID.RFC4122.uuid,d=function(a){function d(d,e,f,g){a.call(this,d,new b.FontSettings(e,f)),this.name="buttonTextIconText/"+c.v4(),this.container=g}return __extends(d,a),d}(b.EntityTextOptions),e=function(a){function b(b,c,e,f){a.call(this,new d(b,c,e,f)),this.selfAttach()}return __extends(b,a),b}(b.Text);b.ButtonTextIconText=e;var f=function(a){function b(b,c,d,f,g,h,i){void 0===i&&(i=10),a.call(this,b,c,h),this.text=new e(d,f,g,this),this.titleEntity.x-=this.text.sprite.textWidth/2+i,this.text.x+=this.titleEntity.sprite.width/2+i}return __extends(b,a),b.prototype.press=function(){a.prototype.press.call(this)},b}(b.ButtonIcon);b.ButtonTextIcon=f}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.Entity,d=a.GRAPHIC.EntityOptions,e=a.PLUGINS.UUID.RFC4122.uuid,f=function(a){function b(b,c){a.call(this),this.container=b,this.name="dialog/"+e.v4(),this.type="spriteFromFrame",this.asset=c}return __extends(b,a),b}(d);b.DialogOptions=f;var g=function(a){function b(b,c){a.call(this,new f(b,c))}return __extends(b,a),b.prototype.append=function(b){a.prototype.append.call(this,b),b.selfAttach()},b}(c);b.Dialog=g}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){a.DEFAULT_LOCALE="en";var b=function(){function b(b,c){void 0===b&&(b={}),void 0===c&&(c=a.DEFAULT_LOCALE),this.setTranslations(b),this.locale=c}return b.prototype.getTranslationsForLocale=function(a){return void 0===a&&(a=this.locale),this._translationsMap[a]||(this._translationsMap[a]={}),this._translationsMap[a]},b.prototype.getDefaultTrans=function(b){return this.getTranslationsForLocale(a.DEFAULT_LOCALE)[b]||b},b.prototype.trans=function(a,b){return void 0===b&&(b=this.locale),(this.getTranslationsForLocale(b)[a]||this.getDefaultTrans(b))+""},b.prototype.addTranslation=function(a,b,c){void 0===c&&(c=this.locale),this.getTranslationsForLocale(c)[a]=b},b.prototype.setTranslations=function(a){this._translationsMap=a},b}();a.I18n=b}(b=a.I18N||(a.I18N={}))}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.Entity,d=a.GRAPHIC.EntityOptions,e=function(b){function c(c,e){var f=new d;f.type="container",f.container=a.GRAPHIC.scene,f.name=c,f.at=e,b.call(this,f),this.selfAttach()}return __extends(c,b),c}(c);b.Layer=e}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=PIXI.Graphics,c=PIXI.Point,d=.75*Math.PI,e=function(){function a(a,b){var d=this;this._filled=0,this.matrix=[[1,0],[0,-1],[-1,0],[0,1]],this.radius=a,this.v=this.radius*Math.SQRT2,this.points=this.matrix.map(function(a){return void 0===a&&(a=[]),new c(a[0]*d.v,a[1]*d.v)}),this.filled=b}return Object.defineProperty(a.prototype,"filled",{get:function(){return this._filled},set:function(a){this._filled=Math.min(Math.max(0,a),1),this.render()},enumerable:!0,configurable:!0}),a.prototype.render=function(){this.mask=this.getMask()},a.prototype.getPath=function(){if(0===this.filled)return[new c(0,0),this.points[0]];var a=[];1!==this.filled&&a.push(new c(0,0));for(var b=~~(4*this.filled),d=0;b>=d;d++)a.push(this.points[d%4]);return a.push(this.getLastPoint(b)),a},a.prototype.getMask=function(){var a=new b;return a.beginFill(0,1),a.drawPolygon(this.getPath()),a},a.prototype.getX=function(a){return this.radius*(Math.SQRT2-Math.sin(a)/Math.sin(d-a))},a.prototype.getLastPoint=function(a){var b=this.filled%.25,d=this.getX(2*Math.PI*b),e=this.rotate(d,d-this.v,a%4);return new c(e[0],e[1])},a.prototype.rotate=function(a,b,c){return[a*this.matrix[c][0]-b*this.matrix[c][1],a*this.matrix[c][1]+b*this.matrix[c][0]]},a}();a.Pie=e}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b=function(a){function b(b,c,d,e){a.call(this,b,e),this.boxWidth=c,this.boxHeight=d}return __extends(b,a),b}(a.EntityTextOptions);a.EntityTextBoxedOptions=b;var c=function(a){function b(b){a.call(this,b),this.boxWidth=b.boxWidth,this.boxHeight=b.boxHeight}return __extends(b,a),Object.defineProperty(b.prototype,"widthRatio",{get:function(){return this.textWidth/this.boxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"heightRatio",{get:function(){return this.textHeight/this.boxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"widthRatioInv",{get:function(){return this.boxWidth/this.textWidth},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"heightRatioInv",{get:function(){return this.boxHeight/this.textHeight},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"widthFits",{get:function(){return this.textWidth<=this.boxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"heightFits",{get:function(){return this.textHeight<=this.boxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"widthFitsExactly",{get:function(){return this.textWidth===this.boxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"heightFitsExactly",{get:function(){return this.textHeight===this.boxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"textFits",{get:function(){return this.widthFits&&this.widthFits},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"textIsBiggerThanBox",{get:function(){return!this.textIsSmallerThanBox&&!this.fitsExactly},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"textIsSmallerThanBox",{get:function(){return this.widthFits&&this.heightFits},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fitsExactly",{get:function(){return this.textIsSmallerThanBox&&(this.widthFitsExactly||this.heightFitsExactly)},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"fitsGoodEnough",{get:function(){return this.calcFitRatio()>.999999&&this.calcFitRatio()<1.00001},enumerable:!0,configurable:!0}),b.prototype.calcFitRatio=function(){return this.widthFits&&this.heightFits?Math.max(this.widthRatio,this.heightRatio):Math.min(this.widthRatioInv,this.heightRatioInv)},b.prototype.makeFitGoodEnough=function(){return this.fontSize*=this.calcFitRatio(),this.sprite.updateText(),this},b.prototype.shrinkToFit=function(){this.textIsBiggerThanBox&&this.makeFitGoodEnough()},b.prototype.enlargeToFit=function(){this.textIsSmallerThanBox&&this.makeFitGoodEnough()},b}(a.Text);a.TextBoxed=c}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.stage,d=a.GRAPHIC.clock,e=a.PLUGINS.UUID.RFC4122.uuid,f=function(a){function c(c,d,f,g){a.call(this,c,new b.FontSettings(d,f)),this.name="textCounter/"+e.v4(),this.container=g}return __extends(c,a),c}(b.EntityTextOptions),g=function(a){function b(b,c,d,e,g,h){a.call(this,new f(String(b),c,d,g)),this.isUpdating=!1,this.speed=e,this.currentValue=0,h&&(this.updateHandler=h),this.text=this.updateHandler(this.currentValue)}return __extends(b,a),b.prototype.updateHandler=function(a){return String(~~a)},b.prototype.updateText=function(a){var b=this;return this.deferred&&this.deferred.reject(new Error("Counter updated before counting ended")),this.deferred=Promise.defer(),this.deferred.promise["catch"](function(){}),this.target=a,this.isUpdating||(this.isUpdating=!0,c.addToLoop(function(){var a=b.speed*d.fpsMultiplier;b.current=b.currentValue,b.target>b.current?b.target+a<=b.current?(b.text=b.updateHandler(b.target),b.currentValue=b.target):(b.text=b.updateHandler(b.current+a),b.currentValue=b.current+a):b.target<b.current?b.target+a>=b.current?(b.text=b.updateHandler(b.target),b.currentValue=b.target):(b.text=b.updateHandler(b.current-a),b.currentValue=b.current-a):(b.text=b.updateHandler(b.target),b.currentValue=b.target,c.removeFromLoop(b.name),b.isUpdating=!1,b.deferred.resolve(),b.deferred=null)},this.name)),this.deferred.promise},b.prototype.updateTextImmediate=function(a){this.currentValue=a,this.text=String(a)},b}(b.Text);b.TextCounter=g}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.clock,d=a.GRAPHIC.stage;!function(a){a[a.DOWN=-1]="DOWN",a[a.STOPPED=0]="STOPPED",a[a.UP=1]="UP"}(b.TIMER_DIRECTION||(b.TIMER_DIRECTION={}));var e=b.TIMER_DIRECTION,f=function(){function a(b,c,d,f){void 0===c&&(c=1),void 0===d&&(d=!1),void 0===f&&(f=e.DOWN),this.running=!1,this.duration=b,this.filled=c,this._prevFilled=c,this.running=d,this.direction=f,this.name="timer_"+a.cnt++}return a.prototype.loop=function(){var a=this;return d.addToLoop(function(){a.running&&a.update()},this.name+"_loop"),this},Object.defineProperty(a.prototype,"now",{get:function(){return c.ms},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"passedSinceLastUpdate",{get:function(){return this.now-this.lastUpdateAt},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"passedSinceStart",{get:function(){return this.now-this.startedAt},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"filled",{get:function(){return this._filled},set:function(a){this._prevFilled=this._filled,this._filled=a,this._filled<0?(this.stop(),this.onEmpty()):this._filled>1&&(this.stop(),this.onFull()),this.lastUpdateAt=this.now,this.onUpdate()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"prevFilled",{get:function(){return this._prevFilled},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"timeLeft",{get:function(){return this._filled*this.duration},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"timePassed",{get:function(){return this.duration-this.timeLeft},enumerable:!0,configurable:!0}),a.prototype.onUpdate=function(){},a.prototype.onEmpty=function(){},a.prototype.onFull=function(){},a.prototype.unloop=function(){return d.removeFromLoop(this.name+"_loop"),this},a.prototype.update=function(){return this.filled+=this.direction*this.passedSinceLastUpdate/this.duration,this},a.prototype.start=function(){return this.startedAt=this.lastUpdateAt=this.now,this.running=!0,this.loop(),this},a.prototype.stop=function(){return this.pause()},a.prototype.pause=function(){return this.running=!1,this.unloop(),this},a.prototype.reset=function(){return this.running=!1,this.filled=1,this},a.cnt=0,a}();b.Timer=f}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.Entity,d=a.GRAPHIC.EntityOptions;!function(a){a[a.HORIZONTAL=0]="HORIZONTAL",a[a.VERTICAL=1]="VERTICAL"}(b.TIMER_ENTITY_ORIENTATION||(b.TIMER_ENTITY_ORIENTATION={}));var e=b.TIMER_ENTITY_ORIENTATION;!function(a){a[a.DOWN_OR_LEFT=-1]="DOWN_OR_LEFT",a[a.NOT_MOVING=0]="NOT_MOVING",a[a.UP_OR_RIGHT=1]="UP_OR_RIGHT"}(b.TIMER_ENTITY_DIRECTION||(b.TIMER_ENTITY_DIRECTION={}));var f=b.TIMER_ENTITY_DIRECTION,g=function(a){function b(g,h,i,j,k,l){var m=this;void 0===k&&(k=f.DOWN_OR_LEFT);var n=new d;n.container=l,n.type="container",n.name="timer-entity-"+b.cnt++,n.anchor={x:j===e.HORIZONTAL?.5:0,y:j===e.HORIZONTAL?0:.5},this.direction=k,a.call(this,n),this.timer=i,this.oriantation=j;var o=new d;o.container=this,o.type="spriteFromFrame",o.name=this.name+"-bg",o.asset=g,o.anchor={x:0,y:0},this.bg=new c(o),this.bg.selfAttach();var p=new d;p.container=this,p.type="spriteFromFrame",p.name=this.name+"-fill",p.asset=h,p.anchor={x:0,y:0},this.fill=new c(p),this.fill.selfAttach(),this.fill.x=(-this.fill.sprite.width+this.bg.sprite.width)/2,this.fill.y=(-this.fill.sprite.height+this.bg.sprite.height)/2,this.mask=this.createMask(this.fill.x,this.fill.y,this.fill.sprite.width,this.fill.sprite.height),this.fill.sprite.mask=this.mask,this.timer.onUpdate=function(){m.oriantation===e.HORIZONTAL?m.mask.position.x=m.direction*(m.timer.filled-1)*m.fill.sprite.width:m.mask.position.y=m.direction*(m.timer.filled-1)*m.fill.sprite.height,m.onUpdate()},this.timer.update()}return __extends(b,a),b.prototype.onUpdate=function(){},b.prototype.createMask=function(a,b,c,d){var e=new PIXI.Graphics;return e.beginFill(9160191,.4),e.drawRect(a,b,c,d),e.endFill(),this.sprite.addChild(e),e},b.cnt=0,b}(c);b.TimerEntity=g}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b=function(){function a(a){this.m=2147483648,this.a=1103515245,this.c=12345,this.state=a?a:Math.floor(Math.random()*(this.m-1))}return a.prototype.nextInt=function(){return this.state=(this.a*this.state+this.c)%this.m},a.prototype.nextFloat=function(){var a=this.nextInt();return a-=+(a===this.m-1),a/(this.m-1)},a.prototype.random=function(){return this.nextFloat()},a.prototype.nextRange=function(a,b){var c=b-a,d=this.nextInt()/this.m;return a+~~(d*c)},a.prototype.choice=function(a){return a[this.nextRange(0,a.length)]},a}();a.RNG=b}(b=a.MATH||(a.MATH={}))}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b=function(){function a(a){this.m=2147483648,this.seed=~~(a?a:Math.random()*(this.m-1))}return a.prototype.hash=function(a){return a=~~a,a=a+2127912214+(a<<12),a=3345072700^a^a>>19,a=a+374761393+(a<<5),a=a+3550635116^a<<9,a=a+4251993797+(a<<3),a=3042594569^a^a>>16,0>a&&(a=4294967295+a),a},a.prototype.getNth=function(a){return void 0===a&&(a=0),this.hash(this.seed+~~a)},a.prototype.getNthNormalized=function(a){return void 0===a&&(a=0),this.getNth(a)%this.m/this.m},a}();a.RSG=b}(b=a.MATH||(a.MATH={}))}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){function b(a,c,d){return a>=c&&d>=a?a:c>d?b(a,d,c):0>a?-(Math.abs(a-d)%(d-c))+d:(a-c)%(d-c)+c}a.bounce=b}(b=a.MATH||(a.MATH={}))}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){a.PI_2=Math.PI/2}(b=a.MATH||(a.MATH={}))}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){function b(a,b,c,d,e,f){var g=a*a-2*a*c+c*c+b*b-2*b*d+d*d,h=(2*c-e)*b*b-2*(a+c-e)*b*d+(2*a-e)*d*d+(a*a-2*a*c+c*c)*e+2*((a-c)*b-(a-c)*d)*f,i=-(2*(a*c-c*c-(a-c)*e)*b-2*(a*a-a*c-(a-c)*e)*d+(a*a-2*a*c+c*c-b*b+2*b*d-d*d)*f);return 0!==g?[h/g,i/g]:[e,f]}a.getPointReflectionAboutLineGivenByTwoPoints=b}(b=a.MATH||(a.MATH={}))}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){function b(a){return a?0>a?-1:1:0}a.sign=b}(b=a.MATH||(a.MATH={}))}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){a.bg="iVBORw0KGgoAAAANSUhEUgAABAAAAAKiCAIAAADHezkLAAAACXBIWXMAAAsTAAALEwEAmpwYAAA552lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwMTQgNzkuMTU2Nzk3LCAyMDE0LzA4LzIwLTA5OjUzOjAyICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0xMC0yNlQxNjo1NTowOSswMTowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTEwLTI4VDEyOjIyOjIzKzAxOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0xMC0yOFQxMjoyMjoyMyswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDozY2IyNWJlNS0zMjk5LTRlMDMtODNiMy0wNjM1Mzc2MTBhZjg8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6YmU1ZDdmNjMtNmY1ZS00NjFiLTkwMWYtODk2NGVmZWZmMGNhPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6YmU1ZDdmNjMtNmY1ZS00NjFiLTkwMWYtODk2NGVmZWZmMGNhPC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmJlNWQ3ZjYzLTZmNWUtNDYxYi05MDFmLTg5NjRlZmVmZjBjYTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0xMC0yNlQxNjo1NTowOSswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjNjYjI1YmU1LTMyOTktNGUwMy04M2IzLTA2MzUzNzYxMGFmODwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0xMC0yOFQxMjoyMjoyMyswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjEwMjQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+Njc0PC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz75ujB6AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAuhSURBVHja7NcxDQAADMOwUti5s/xJDsgsGUG+pLMAAMATkQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAADAAKgAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAAAZABQAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAACAAZAAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAAAwACoAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAGQAUAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAgAGQAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAAwAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAMAAqAACAAQAAAAwAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAADAAAAAAAYAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAABgAAAAAAMAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAAAwAAAAgAEAAAAMAAAAYAAAAAADAAAAGAAAAMAAAAAABgAAADAAAACAAQAAAAwAAAAYAAAAwAAAAAAGAAAAMAAAAIABAAAADAAAAGAAAAAAAwAAABgAAADAAAAAAAYAAAA4AAAA//8DAPPSBksEQAfxAAAAAElFTkSuQmCC";
}(b=a.BASE64||(a.BASE64={}))}(b=a.IMG||(a.IMG={}))}(b=a.HOG||(a.HOG={}))}(b=a.LOADERS||(a.LOADERS={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){a.fill="iVBORw0KGgoAAAANSUhEUgAAAaQAAABaCAYAAAD3oyLoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAUBJREFUeNrs17sNgEAMREGM0LVBD/Rfw/VAG5csLUCA+GgmdrTJkyvJBABPm00AgCABgCABIEgAIEgACBIACBIAggQAggSAIAGAIAEgSAAgSAAIEgAIEgCCBACCBIAgAYAgASBIACBIAAgSAAgSAIIEAIIEgCABgCABIEgAIEgACBIACBIAggQAggQAggSAIAGAIAEgSAAgSAAIEgAIEgCCBACCBIAgAYAgASBIACBIAAgSAAgSAIIEAIIEgCABgCABIEgAIEgA/NRy9nD0PeYC4Kq2reVDAuAzBAkAQQIAQQJAkABAkAAQJAAQJAAECQAECQBBAgBBAkCQAECQABAkABAkAAQJAAQJAEECAEECQJAAQJAAECQAECQABAkA7lZJrACADwkABAkAQQIAQQJAkABAkAAQJAAQJABe7xBgAGIvCq+tCG2wAAAAAElFTkSuQmCC"}(b=a.BASE64||(a.BASE64={}))}(b=a.IMG||(a.IMG={}))}(b=a.HOG||(a.HOG={}))}(b=a.LOADERS||(a.LOADERS={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){a.loading="iVBORw0KGgoAAAANSUhEUgAAAaQAAABaCAYAAAD3oyLoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABF5JREFUeNrs3d9x2kgAB2Ap45u5PJK3ezxacCq4cUpwC27BKcEuIU4JKSGUEFrgHu/NlLAnZSRYrbQgDBgbvi+zAVbSrpA8/GbFny1DCAUAnNoHhwAAgQQAAgkAgQQAAgkAgQQAAgkAgQSHE6JyM2L9aVW+VeW52ea5eTzNrH+T9FGXnyPXa8uvqtxXZbJh/dxzCsm+5baZNH382tIvvBtXDgFnbNq8SE+SF/K7qtxW5XNVFgPbFCPqNrluSt3Hl6osd9y+Dq+nDcsnTUheH7hfMEKCI3nYMFqYNMuH6vcNpDgg7l643SZ3W9Z5ab8gkOBIbqP7X6tSNrdDy+PRSWuZqR9SNuVTVX5s6WPfQIrb/NH0Oea5gUCCE0gD5DG5za0Xj4bmLxgl1SH2tEO45AJpMjKwnqLgfNyzXxBI8Ia0wTMruu8vvfYHBW6cCgQSXK7rZKSzOMGIY26Eg0AC0st1i8yyY5rtGUhlVEAgwRkE0qLofqjhtUdILtkhkOCCpZfsZhuWH3uEtGso1d9LSr9gCwIJzmCENItGSkPLjyV+78r7SAgkuPARUnyp7pTvI7lsh0CCCx8dzTP3XyuQXvJJu/qngnyQAYEEZxZI8ahoecIRkh9J5aL4cVXoj0bqS2U/B0LhtS6hLZoydVoQSHDZI6TphjCYFv1fCD+GuUDi0rhkB/1AOsR6hwgkEEhwBtLvEN0nt+l68SW7MilxW9s+aNDOt7RvsMxGLrsr1pcV70duDwIJDmzoy6Dx7K7xNBAPzfKHgeWT6EV96HLcMgmcIW3/9Yy0t5l92HWEtBwRSLfFejbcB4GEQIK36euGF/VlsZ4/KB71LDLhMHaElG73tMf+50ZXj1tGXvOiP80GCCQ4oTpcPhfdOYPa+Yri6cuvt4TArr9pN2/Cbt9pxDeNcr40fcwz/cK7U4bgJ68AMEICAIEEgEACAIEEgEACAIEEgEACAIEEgEACAIEEgEACAIEEgEACAIEEwPt19f3jP39Wt39c6gEof/+r75TN46KtWdWX0bqrdcpubRnfj9oqBrbp/l+2Xa/3pdNW3HO+j3i/65u4rdV+l8n+rOr7dUP7VozpIzpmnbr2caa9/jGI2h54rkVvWbzfUU3ZPw+9NpLzX2Tv9f92ckIRMvX9R6u60N0qDPwfmgdhYPt26xAy2/1elqlvGg1xO+3SkFm/aa9XF7VXDLQXQvf4dLYLYbit1X5sq+8+1zBwRtb1/WPRHruQnMMxbcXHIaxPRHJM8/XrqYByfz1nL9TzIZkQCYCTc8kOAIEEAAIJAIEEAKmrocq/P/3lyABwNP8+/2eEBMDbJJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAEEgAIJAAoFKGisMAgBESAAgkAAQSAAgkAN6a/wUYADjjNWrry/RdAAAAAElFTkSuQmCC"}(b=a.BASE64||(a.BASE64={}))}(b=a.IMG||(a.IMG={}))}(b=a.HOG||(a.HOG={}))}(b=a.LOADERS||(a.LOADERS={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){a.logo="iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAAAsTAAALEwEAmpwYAAA7mWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMwMTQgNzkuMTU2Nzk3LCAyMDE0LzA4LzIwLTA5OjUzOjAyICAgICAgICAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKTwveG1wOkNyZWF0b3JUb29sPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0wNy0yOVQxMzoyMzo0MyswMjowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTEwLTI4VDEyOjE2KzAxOjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNC0xMC0yOFQxMjoxNiswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPGRjOmZvcm1hdD5pbWFnZS9wbmc8L2RjOmZvcm1hdD4KICAgICAgICAgPHBob3Rvc2hvcDpDb2xvck1vZGU+MzwvcGhvdG9zaG9wOkNvbG9yTW9kZT4KICAgICAgICAgPHhtcE1NOkluc3RhbmNlSUQ+eG1wLmlpZDpmODA5NTIyMC1iNzY3LTQxNzEtYWIyOC0yMDViOTdhMGYxZjE8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6NWMyZTMzNjYtZGY2ZS00NjFjLWIzZWMtYzFiMDczOTIxMzM0PC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NWMyZTMzNjYtZGY2ZS00NjFjLWIzZWMtYzFiMDczOTIxMzM0PC94bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpIaXN0b3J5PgogICAgICAgICAgICA8cmRmOlNlcT4KICAgICAgICAgICAgICAgPHJkZjpsaSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+Y3JlYXRlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjVjMmUzMzY2LWRmNmUtNDYxYy1iM2VjLWMxYjA3MzkyMTMzNDwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wNy0yOVQxMzoyMzo0MyswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjVmOTZhMmQyLWFhNDctNDIzYS04MzBlLTBhZjI3NzMwZTQzZTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0wOS0zMFQyMDozOTo1OSswMjowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOmY4MDk1MjIwLWI3NjctNDE3MS1hYjI4LTIwNWI5N2EwZjFmMTwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0xMC0yOFQxMjoxNiswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpTZXE+CiAgICAgICAgIDwveG1wTU06SGlzdG9yeT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+NjU1MzU8L2V4aWY6Q29sb3JTcGFjZT4KICAgICAgICAgPGV4aWY6UGl4ZWxYRGltZW5zaW9uPjI1NjwvZXhpZjpQaXhlbFhEaW1lbnNpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWURpbWVuc2lvbj4yNTY8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PizaeuMAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAM59JREFUeNrsnXl8XHW5/z/P95wzW5JJJt2SptCwiBSUBhEEVNqCUH8IlOWHXn4CtiBeWUQqXi8iV8rVi7tQURS5Qst6caGtCwgIFFyQsrSFq0UQmAJp09KSaZJJMjPnfJ/fH+fMZCaZmUzaJpnlefMK3SaZme88z+dZvhsxMwRBqE2UDIEg1C7meP5wIqrqwatvCINZE2kNZg02LNjJJCmfxUoz/D4LpBRHQgG8+tYWsbYC7DN9KmJ9/WQD0I4DJiIiggZgEIGYmbUGWT4YdopVZAp6tnbWzPiMZ5ZO4/rDq1AApoQb0J+0SZkmmDVsR5MiEBhggDQziMDK/R8rzawB+CwLFpjf6ekVj88W0UCQlGUg6WiC1qQZAIGYgbT5MINBgAEwA1CKWCkDPmYmQ6Hax1QEYJLxN4QRYE1J24ajNUBEBCIGwAQigMAg9mIXA0wAw/siIgYzExFbpoXe3h4Wx/cTKwXNIE84id1xVPAEFWnz4aGxBNxxJBBr1lAA+3w+kKO5pz8uAiACsPdoDjcgYWtyWEM7mkAg9t6ZG6egkDZa11wJ5Jmqa8IaDO1lswwQmwax1swWKfhCId654+2adfy007Pbi0p/EQDlxnxwRgIyYwgNBhOBGWCV0WEwaQcDiSSLAIgA7DGzW6ajpy9OA44mZiYApNlzetc4lZelZhsvPAPmLKPVABywa8AqbchEbBgGs+0gHArxtnd2VrXj1wUCAIE0aMjxvXEEYABQIBg5Ypp2/rTjZ/3KgCZAE4HZG1so0iECdvUPsAiACMCeRaqGerIdTQ4zEbPKRCmGYkBRvqiV32g1yBUAAjSTmxUoIs1uScuGoVgpA35C1fUI6gIBEBFpgJzhju+KqcGAQdlCkF8AXEHlrHFNi2vmV9ZKEUfCYe7atl0EQARgN422PoxkKkEgUl5NaoBhuAbKBkDFnB/fveiLs04+7NiFf9j07IOX33z9G2njBChjsERw2K1utZvGMoOILdNkxQxTUcWKQX3ADwYRFA2l+m6tr5igyI3yhiekRtbvs8cUz97wP2e3+sILuwf7/vLQP5596MqffvuNHGF1x9L2BNYhgk0Aa0dzKlU9pYAIwATjMwwiyyLtGqIBwATDhDtt6glBjuPTN5ZcMetjhx69cIa/8WyfQ4ew1qCgD73JgZ//I7blvhOv/dc/DxeBLDHQ7PYKWCnF2tFuVqAd+H2+ihGCcGsbKN5LjqPhaCfH8b1oP9zxs6N+ZizXfeuus/erm7rUJDWLB1KuLZkGHBNv9diDv9+W6v3LMf923u8yAgDYnqDaYNYmax5IpkQARAB2VwBMgmmQF+kNdjMAC4CVLQB3fumb7zmm9d1nN5iBY3wOHcK2k/v+TcP9ALVG0sJTrw/svPWYL533YL6MAARNgJMWgnSDi5i5Lhjgnd2x8nb+unqytQPHTe+J3XQ/2/EVEwziYo5/59n71U1bagw6syhoIe38eW0raCHB9gO9lPrt6z3b15705Yte88bVCRgmevvjIgAiALtHcySCvsEBYi9ieem/CcC36tofzJ0b2fecsBn4qErqWdDFxy8jAp446IDx5puJ2PcOv/Jf7svKBLJTWieT5hI0MVgp0iYDM6ZGuNwWFM1umY7tsR7SRCBA6bTjY8jxQTCYh9L9Yo4PAOQ3wSkHo41t9hizT21EwHqCw/4V+31y3vqdVdRLEQGYYA6YNRNbd8TIgSbtGrLRufLRzwcTfCn6kvuWapiZcchj0DpgvNltD/z82w/d/dNbH/xlLCMAlJ4xYA2QA7gNQ6WI6y2Tww31ZSMC9cEgDENRwnFIa3eGJCOa7iyJgfzpPv2/BR9r/I9Tllw43d9wIQ3a4UKCWaoAwFKAUqDm0JK609+3opoaqSIAk5HS1tch5Thka1YAqb8v/9XhM/zhW5XDh7kezOCEXfpYFEhp2Wf09HDivt/84+lbL7/5+s05QpDV6CJAm6SYleKBeF9ZpLeNdSEasB0Ckef47Dk5GRgZ7RUAlXF8q/5CSjrhnB+oCGQZJY1rxukBIKXBWoMaA0v2vWThimqbSREBmCSCfj+0UqSIVEpruvffvz1lYdthD1PCOQyKQP6hrRTF6tXRRCBt0L2U+vnTb//z1rO/vvTFdD0LkMOEFLErCqZS2mca2NXTO6kiEAwGSQOkNWfNkrDpOb/pikFmtoTOWfCxxq8WcvwSxicjEOkxT+mhLEERqDGwpP7cY6sq8osAlAGkFEL19ZRKJIgB476rv9/8kdZDXREYZryZDyxhF6xfSzHypIWn/rf7re9+5Kuf+RMAG+AUiGwwbAZryzB0fX09v719cua6/YEAlGGQ4ziKGQYoZ5bEzE71z1lwcuNXT7mgqOMXHZdsp8+XdXnO33jBghVOMgERABGAvc4+06YiFo9TUkM5YPXLq7/ffHzbex6m/tRhhWp+KBoZqcaS5iqC9hlvbrV7vvPeK86+E950lyKyNWsd8vt5V8/E7ykIt7YBfT2UchxytDZ4yPGtLOc3iqb6JfRIMoJarNSqAecXASgTmuvr0ZdKkXZ3AikwjLd//NB/G3H73JJrVc+Y042uzN+PMGwFaD1kAEHrje06ftXBnz5lDRFsEGmLlCZFuq+vb0LHoS4UooTjEJFSYG0AZGU5vwlA/eOW31w5TYVGdfzMe03YYNvJzaJGK6lqxPlFAMoIMxCEcrcBEoMVA8bbNz/830Y8dW5JPyArnaWgDxxPlNxINN/TtuvmX6x8z1W33bCTGbahSBtEur+/f8KygGnTp2Ogv5+StqMANthdIJUtAMbL9zxy5bRuXlpST8Q03NRfM6B1SX2UWnP+8RYAORFoDNiDAzBNky2DWHkd+mmXnPRpu868q6QfoNk18nRaqygn6hUl5TRedNYnf+I12wxmJiYifzA4YSrb19dLg6kUMby5/szyaLfm/+YFS/edOXPm0pKCQzoLAlznL3VGpcacf7wRARgj/b29aAwE2CKwYq2J2Zl+ycKLEnXG9Zm6v0iji4IWOOWA44lMqluSCDga/rrgxzbd8eBpRGQwYNi2Q8ygSGPjuIvA1OZmYiJSIEWcszgq0/S74Kxzvj/aGGR6JABgEHQ84Y6B5WYD2TMrhZw/8pmPiPOLAEwenTvfQVNDPVuGwYrc5bytl3z06zEzdfEIB/CifLrLnc4AclK8tAiM5jxEmNU26+avnX95M9zuuwKYBlMpTJs+fdzeb31jI3ricTiOJiZ3SS9y5/np2Vt+9fFQQ/3RsDXg6KLOzynHbYwqyowFJ2x3fFJOZrxyxkMREA4smfXZE1ek+vvFCEUAJpc3t+8AK4OVUuyVaXr/yxfduYMGL4GiTH1LljHk+HlKgrSRZ6Jgdmqcz4Eso/GST5z/YxAMAgwiIltrSiaTdMCsmePT+yAiZRhE7B1+MrTaz4C7uKfpoAPfda1XsIKTTsEMaNQlvl6ZlJMV1PmBcOCC1otPWhnri4vxiQCUB/G+PijDAHt7/UHQBy098+7uBnwFftM15CK1LSfs3MVE3mOLpsEA/PWhj71x3xOXMkMxsyIiNTg4SO/09e/1UqC+sRH9gwPkaD088mdW+X378i9fqywzPFr5ky/7Kdr8SthASgN+c82Ui45f4VckZ9iLAJQXiZTNplJQNHRwxS0P//JeaD2qI+c1etvJpME5f9+fzPlzZNqUq3593Y/2Y8AgBmmABhJJ1Dc07NX3ZxCRN59DwyK/AUD97vpbjmlqjpxdtG7Ps8iHTMN17hJ6BdrAGhPATjlQVQSg3EgNDgDe9l1PAPS3f3FbLMnOn/M5ckl4aXBOHWznOgsZqvHDHzjmJ2AYmtkAQJo1wXb2WhZQHwxRIpkc2tM/MvrTB99/1PdRaLo3vegpX/ljqaIbfjKLgwAkfbSWlCHGJgJQprjztDnn1vXoxAN5HXmEguiCdX+6Di70vVYo8KE3f/HEZfC2LDMzJdmh5vCeZwH1AT8cQ0FrnT6k0xwuAC/f88gXzIB/Vl4HNo2SN/YUdH7NgM+Itn7iQ1FiR9J/EYAyRTvuYo2s46v/tPlvD2S2thZxZLadwisC030Cyyj4mKapU6769bIftgNQRKSIFFKMPc4CHBDZqVT6QFQ1LAMoOuefed+74/zDGoVs0BOKFBqap4idiQCUJ8GmCEzDG0qvF7Dke1950zHpzeGOPFqXP79XEFQklP+fDNX44aOP/QkA5Z6/B9Ks9+j9HDBrJkzLcu8/cJdzjjjMo9icP4UDxffzZ03/jXD+YY1CDphPEAFbOzvF0EQAypNEPO5WAcP8oc9J/H54NE+nuCX7fsCCeXALyCr8PVYo8KHOX/3pUgIUgYkYmNoY3u3383ZPL1KOk65uhh/fpZ695X53zh/AqkcewPW3LEfntq2Z7zcPmFZQsDIp/rDsoFCjcBcnnmQiNNaFxNBEAMoT0g60ZtDQcdYEAFsTu57Kl/JzyhlxlkC+ZmHG+X2jC0a4uenqJ797RzsDlNKaEpp3uwzQDGKtyb3/gNPvRwFQ555wauNBBx54bfqxT7/wPFauug/Hf+osnPely/CHv/4RIIJ54HQY00sQoQKzBADAltq8/5KFmwGiFKr8okkRgAoeRNMCpx3fvTyEAKhjvnTeQxwwe/J52GgzBGNx/nQpMPeww24hb4OX3oMNJI5tQ7tyRt4tSJnz+7552b8vy57z79zWlfm+dS88j0v/62oc/6mzsHLNzxGf5oexT3Nx5y80SwDAUfijew8Dk+M42BvNTUEEYK8ypTGMRCJB7iW26UNEOTNNlvLT3wqF2UIzBCoSgvWetpKdP41hGMdtvvPR4whExh4ETOWuayAwZ2c06qHrfzpizn/dC8+P+P7ObVtx/U+W48izTsJX7rkJr+juofeYrv9HOReBTAOJkHoR3g1MIKKEoyULEAEos/o/mcy+1DLnwpBPHn9KY3CfaYeqKXUFvz8zQ6AZZBpQkRDMA6ejlE01wwUFhoJhmU0gwN6TDMDRXk+DvGzGLScOmL3fsciajcuu+wux6pEHcOayy3D2j6/GmvVPuqWPw6NOERrtUxCeOe3SWy6/NgJAac1kOw6aIxExOhGA8qAuEID2Lgrl9DHYhMzNQdd++vOfNoK+sLFPMyhQON1PO4KaVu86f77obaoRi4GGfgBnomqgLjQXzNApG03NzWN6P+2Rlo72SMvilmDjfHj3nbvRnwCALL8vnN3Bz07/R+OlziiuWXULjvmPxbj50V8WFQ9jehiqIQDlt/Y9/YSPXpa+L5ABSjqOZAEiAGUyeKTIrbUpc/59+iz88044tallxowLQQTymmLFonomGhYK3ETpBUcjsbUrEACUYczWDIJSZBe5Lrs90tLeHmk5vT3Ssqw90vJ4e6SFAawHcDuAdjft9iY1PQUIBUOHZt6DZmx67eUxj1nvYD9ufvSXWPj9K/D5e2/AM9FNuW8z5IMxe0i4Qg31l/7k8q9G3OyKSNs26v0yI7C3MGUIdo/mKVMwODhI7JACscraJacAqK9eePmns5tlFPLB3HcK7OiOgg0xNbXe20qrcsRi3QvrAQBHzclzBGHKAayhtQXKULMJgKMdkGFkrthuj7TMBzAfwFwAHQDai7y96NAt527kRfYkpyLA1ujcunWPxvCxTc/isU3PYmbTNFyy4Ewcf+iRaH5Pm/vE3roKMo3G04//P5d99gf/+TWA2dHMhmUACcjKQBGAyaM/HicmAsNbKZd17dV5J5zaNGPGjAszD7YMIOVATW+A6h2A3jkyMhtTG0BBn+vQXlRf9/eNuOmun2HdC8/jI8ceN1IAhjl/uhHYEmzsUETvBTAX/vA8z+FLJtuzOJ0FECgYCByTXZJsev2fe2Ust8TexjWrbkHDQ3fjIx88Dpd9YjFmzRpaYVwXrr/05s/9x48uuelrO4gU2Zq5OdyAd2Rz0B4jZwLuBk0NDehPpRRAisEGGD5g6O7AV+555Iuts9qW5nVWZqT+tiV3d58iWO+d5TbIUg42vfkarv/J8pwOe7i+Hs/c++CQw9saMAg9/XGse+F5vPTqK3j6hfV46bWX0bOHB4UycMKW/tgfveO+LQB+AFbfoy92ZgvOkf/3pD1+rkIcddj7cOaJJ+OME08GAAz2xu+eesqRF8E9GdkxiTg+gechTibj6aOSAewGSa2JAGhvnXz2BZjnDo/+eWp5810zkHrxrUwzzZjaAPKb6Ny2FTfd9TOseuSBEd/W09eHTa+9gt7EADa99jLWrX8Om6KvltSJ3z31BsBDC5v+58vfPTTdZ8h+TePFuheex7oXnsdNd/0MZ554Ms4/7exPPnz9rdefdPVFrzJBO5p5SrhBtghLBjDBtX8kgoHBBDms05diWGD4PTE1n7vl/k+8e87B38/7zVkpu34nDvuf2wFF2D7dwA9/sTKv408SGwHswlD9ryL14cYFx3zo0FkzWgEAb23bOuGv94BZs//4ypvRr3cN7noMRDoUCHCsu7vqswA5FryMCNbVETOTbTuKiNIXYmQEIPbw+qcKbZEdXrO/8fwm/PBXd2DNc09IKBq7QC1n8OrN3du6RQBEACaMQF0dOY5DzDDIjf5WSzB8vmaOP7h8ZWPB6J9Vt3du7yqY6gtjIgZgBYDl0e6uqAiACMA4p6Az0bnjHdLsXX1NsFoDjZ9TRN8A8NbfVj+OfNG/c9tWrHthPTa99go2/fNlrHtxvbju3mc1gJXR7q7VIgAiAONCYziMgWSC2Lv+emaw6WcEfDL979+88ppM13rVIw/g/kce2CtdeWFMRAEsB7Ai2t0VEwEojqwEHAOamaAMmu5vaGoLNj2d7fwAcNNdP8v8vifei3UvPC/OP/G0A7gBwOvtkZbb2yMtHTIkIgB7R4mJ0OoPz7WU8Qe4K+pGpPr3P/hb9MR2oVNOsJlsmgAsBrDeW+q8WIZESoA9Cy3uctpVnnHlpW1GK3rjvRL5y5MY3IbhMikBXGQhUOnOvxjuRpmijNvCHGFvZQVzZRikBBir899QivMLZU8UwBIZBskASnX8Js/xT5fRqArOqJaZARGA8Xf+dq/e75DRqAqWRru7NsgwSAlQivN3wD0cQ5y/OojBXTGYPvWoSYZEBKCQ8y8G8DiKdPqFiqMJ7rqA073PdpUMiYtMA+Y6/zIA14pZ1AQrot1dFdEQlKXAE+P8t8NdOCLUDkui3V0rRABqWAC8evBxqfdrlsPLvTkoewHGz/k7IM2+WufxWm4Kqhp2/vle5G8XH6hpmuDuF+gQAagd518M6fQLWSbhicAVtfbGa64HIM0+YRTWosxWDEoTcO84fhNkWa9QGjG4MwSrq10AaqIE8Jb1Pi7OL4yhL7DK2wQmJUAlZwBec0fqfWF32eBlAxskA6i8yL9YnF/YQzrgThUulgyggjIAWdYrjAOrvWwgVi0ZQFUKgHT6hXEkCmDBRN5DIEeCle74TZBlvcL4sraaLiFRVeT8HZBlvcL4sqRSdhDWVAlQymm9grCnqX+0u2u/yXhimQUo7vyLIZ1+YQJMzestVRWqwp3/dshpvcLEsbjapgMrsgTwmn2rAMwXmxQmgQXR7q61UgJMHleI8wuTyCpvebmUAJOBd7XTEribNgRhomnyRKBJBGDyRGCFCIAwiXTAvYVYBGAy8A5vaBc7FCaRxd6S84qlkpuAr0Om/oTy4IzxPDtAmoAjuUKcXygjbq/UMwUrLgOopei/Vz4bItAEP2elXQizl4jCPWI8VkkZQCVuBrq2lpyf3T/svvMzg0t0SvYeu0fP5/2cGhSBdrhrUxZIBjBOkcCbe329FqyJmYccEuwpQc4jho92nj8SyHPK0T6LjOAUFIESny/ruWo0E7gx2t21VHoA4xf9a8P5s6K/+2f3P535wrAv9+8z/zG7Tpzl2AWfL+d5GWC928/nvm5GDXNFJS0XrpgMoDaj/9CveYNwwYFP/0IgUqNmATnRnzV0wayj+HNS+j8a+qph9tqVY9IDcKm9TT/e53703CPwgY4jxiq/WU4J3P/w77BlW1fRp0p/zWppxVkLT8VuKICnPYQt27Zi1cMP1LIAPN4eadkP7slU13qCEC23F1kRAuDt959fq5b0gY734/OLP7NHP2PdxueLCkA2s2a07pXnu//hB1DDOUATgO6sP88HsKLcXmSl9ABq9nBPruJnqzEWleOLKnsBqPXoP7GQDMH4cXo5bh6qhAyghg/84Cp/vtoTARGAsUX/xZANP0L1ME8EQGp/QTIAEYA80T6nRpLtvkIV0tQeaTldBKBwrf96e6RlmbfoR6L/hDflpAk4ASwSARgZ/Tvgzps2eY4ve/0nBWkC1loZUC4ZQIfYRTnEZMkAJqgM6BAByGWe2EX1qY7ISUE+JQKQy3yxifweRBPkSZT1Ja5bO2XApAuA1/BrF5sY7pHeNp4xnuhT7OcV/qesfyMl7j8BZl8uZUA5ZABS/+dxSMoWgQlyyeznFWoj6y0HAZD6v1havrcygBKcf0gERABqpQ9QDgIg9X+haJyOxDRxGYB0ACYu8y2H68Um/USg9kiLTD6PQltLK9pmtO7Rz3jp1VfQ09db0mPD9Q04+IB37dHz9fb1YdOrL8uHV5yl0e6uG0d70Lj66GQKgLfV93GxA6FGWRvt7lowmQIw2SWApP9CLTN/ss8ImGwBkAagUOucXssCIBmAUOssqkkBqKSz0wVBMoC96/xNqIK71QVhL/nD6TUlAJDbfQWhLMqACZ8GrKXbfQWhRGLR7q5IoX+stmlAif6CkMukHRU2oQIgR30JQkHmVb0AeFwHICaftyDkMCkZwGT1AB6HbAMWhOHkvVG42noA3eL8gpCXCd8irGTMBaFsmC8CIAi1y4SfESACIAjlxekT+WSmjPfkMJ6NnYqA5OCxIn2AGyfsY5jIWQA5ACTX8WtVAqiIjQgAgP2i3V3RiQgWE50BzBfnz/q11iWACGAWEcjvJyuqsQSYK6m/5/bMOQLAqKXDONktARhgEYF8LJooAZjoEqAbNboPIDv6s+f8DK69OsC76kgBmUtIck5AFtJEot1dsaopAbJuAK7tDCCT/LvOX2tlADEBxGAQiFkuISnM6RORBUxkCdAhzj/069EdR+CeG34qZg7g3C9cjGdeWC8Dkcu8iRAANcFvSIBcgyCUnAGgmgRgvnymglAyE3JGwIQIgNwALAi7xaKqEACp/wWhPLPmiRIAqf8FYTeSZ2/2bNyYqFkAqf8FoTgrAKwEgGh319qJetJxFwDvBCApAQShOLGJdPyJLAHE+QWhhCy5PdIyvxrPA5D0XxBKC5SPY4LPA5gIAZAGoCCUzgbJAARBBKDyBWC8pzAEocqIpncAThTjPQsg0X8voLfugrNlz+zCPGgGqCFQ0mO5dxD2y9v26PmoIQDzoBny4ZVx9J8IAdgA9yagbORqMEHIz8aqEgBvXnPtsLJABEAQyiQDkGPBBaF8iIkACELt0iQCIAi1S4cIgCAIIgCCIIgACEItMU8EQBAEEQBBEEQABKGWaBcBEAQRABEAQRBEAAShtlIA9wxNEQBBqFE6RAAEQZgQTBmCCqjTWhuhWhsn7PmoIQDriNky8BPDdQBu9CJ/B4CoCIAg1A4bvGPA1mLY2RlSAghCDQjApGaXMv6CMGnEot1dUREAQZDoLwIgCCIAtSkA0dr5zEnMXkizsVYFYC3c6Y8F0e4uArCkdj5zFrMXyiYDmPBpQM/hh//d2vZIy1rIRSJCDRHt7pISIIvrpASoTWp0RDaUw4soGwHId4lIdRu8CIGk/yIANZUFUNrticT9hY0iADWUBRBR+jegISkQvDGRDEAEIE1VzwhkMgASAZASQAQgXxYQBbCiWrMAIon/AqLeBqBJp1x3A14HYHH1ZryE3ngf1m18XlwBQG9fn0T/ybJFZh5XQ99d2iMtt1ezCAg1zXXR7q5lpT54PH20nPcCXCd2IlQpa8vlhZStAFRzL0CQHoAIgGQBQm0y6WcAVIwASBYgVCEbyunFVMJ5AJIFCNXEEyIAkgUItcu89khLR7m8mLKdBszGuy3ldQBNYj9CFZUCywGsHm1R0Lj6aCUIgCcCywBcK3YjVBkxAKsBLC0kBLW6DmA4N3qDJQjVRBMm8SCcihEATx2Xi70IVcgZk7U3oGIEoD3SshjA58VWhCpj6WQeDVb2PYD2SMt8ALcDaBdbEaqMtdHurgWjPajWewAbxE6EKiQG4IzJfhGVsA4gPVAxsRmhilhSDmcCVEQPwKuRFogICFXCjdHurtXl8EIqaRZgA2rqAhGhStmAMlreXlF3A3qqKSIgSOpfiwLgicAKAEvFjoQKZGk53AaUTcUsBR6OHBkmVBglTfnlQ5YC588ElkB2CQqVQQxlMOVXVQKQJQIbxL4EqftrUAA8FogICGVM2Uz5VaUAeMq6AGV00KIgeGxAmZ9oVQ0ZQFoE5OgwQVL/WhQAj5jYm1BGlN2UXz4qdhowm/ZIyxUAbhCbE8qE3Z7yy8d4+qhZyaPsnRV4A2Q9gFBemegZlfJizQp3/scBdIjNCWXEGeVe91dLD2A+5JAQoby4MdrdtbaSXnBF9wC889VvlyxAKAM2RLu7Dh+PHyxLgQsQ7e5KD/qNYn/CJNf9FblLtVrWASyFnBokTB7XVcKUX9WVAHlKgnYAq6QkECaQ1dHurnHt+ksJUHomEIXcHSBI6l+bAmAFgugcjK0UERAmiIqa8qt6AfApIsVEWwZiX9TMJwHYLDYqjBMVN+VX1T2AxilTMDjQT9BQDDaYYTb6glPqTN+3CHSO2KuwFxm3KT/pAewmyf5+Ys2kwYoZCoC5KzkQ39K/64qUdi4A0CN2K0jdX4UCEGoIw3EcACC4zm94XyYAc/tg7yP/dflVV37g8CPEfIU9pWKn/Kq2BKgLBMgmImZWzDBBsMDwAbDOO+HU5q994ctfmN7ediGUwop77sJNP70ZPb29YsrCWBn3Kb+JLgGqQgCCgaCb+gMGM0wAFgg+MKyu3z19W8OUyEJYRubxnW9vwyVXfQGbXn5JTFoYS+q/32R0/aUHUITmSARsKDADDJD3nhQY6vyPnNbY0DZtIYV8riCFfKCQD7Nm74Nf3/sLXP6vl4hZC6VS8VN+VSkAiVSKHNshr/53f3XfF11x7qc/Sn4LsAxQyAfuTwIpJ/O9n/vMxfj1vb9A28yZYt5CMeeuiim/qhSAVDIJRaCc6A8mADSjbeYxOSWJlwlwfzLzd3MOOhizWtvE/GsYBr5msz4QwMY8/7zB22sCEYAyI9zaBiKCBgBKOz8UQAqACjc1LhzxTcOygZt++mM8/dwz4gU1ysGzD8APrlz2w22DvTEGD99QFkOV30VZ0QLgdL8DVipP+s/q7qu+fagR8oULfS+FfHhk7WP4wS03ixfUMC9tfhWXf2/Z5whM2wZ2bUbuNfRLq2nKr+oEgE0j7fxZ0R8KIPrQcR8+G6rw2+vcsgVX/de14gE1TNvMmfjWsq/j7w/9uZ0ZShPRtmTPRriXz672LqKtair2TMBwKISE4wDMxARFQwuACACFmxqPKfb9b23tRENDg6wHqFHHv/wzl+DMUxcBAHQ8cSpRekpcYQeSK/q631lRC2NRsRlAQmvSzMQMIoZi1/kVAPXtT1+5r78+dOiIb0o54P4kuD+Jo+bMxeP3/QY//t5yyArB2or4a3/zUMb5AUAFrcb/veXXcwlQjmOTTgxQrYxJRWYA9U1NSCUG03X/sPSf1SkfWbgQyO32AwB5DcBsTjj2OBx/yPux6fV/YuWv/gerHn1QPKUKOfPURfjWsq8XCIMKM/bf5zQGNhCI2GGuD/jRN5io+nGpuJWAzeEGpGyHEo5WDFYAWd7SXwuABbARe/SFp6y64CwK+ZC9AnBED6E/Ce4bBGzt/oVloCfehztW3Yf7H3kAndu2iudUAZ+74DO4/NLPFX2M3dP/Qvjod38ADFsRtAnF8cF+LofXL0uBs2gIhSgFkNbaTfu9Nf/el/Hc7Ws+Mefo930/k/J7C3+GR36OJ6Bj/e5rLCASqx55ACtX34dNr74iXlShfGvZ13HmR0/J2EHGNgMmcprEKQfrHlo7Z/6/feo1gBwfkW6ZGuFX39oiAlAuAjBl6jT0x/vIcTf9pHf7WQB83u+NXX996SmrsW5WvmifLgP0rn7woA1SVHTQ06//6RfWY9VjD0p5UEGE6+vxjSuvwYknngQKWiM/30QKcHJtf+c/3/zsvv8yfyUYNoG1RcTxwUEWASgTAQgEg8QgYtaKARPuxp90BmB60f97BX9AyoHTtQtkKIAIMMfWA+3s7MT9jz2IO9b8HD19feJlZez8d3zjJsxpPxAwFKjeD6rzFy0FAUAPJN9o+NCcQwCkiMgxCHpqQx2/uX2HCMBkC0B9wI8kgxQppb0Tf7Kj/7nHnxr58XdueMoI+fMu/uF4AhxPAAxA0Vg/AbdPYLrC0RPvw6N/eRI33fUz6ROUGXMOeBd+9NVvom1Gq1fca7DWoDo/VFMoJxjkKw/ffin62dlnfPgOADYRHMuyON7byyIAkywAoVCIko5DRKQwFP0zAvDKqieubDt4/5FrtrWG7u4HHO1uF2wIuEJQKukGYYFs4ennnsUdv/sl/vCXJ8X7JoijDnsfwvX1I8Z8zn4H4o5v3IRwXf1IJ3K0OwsUDmZKwXy9H6d34I2Gow46BORmAZZh6oAC7+zpFQGYTAHwBwKk3W2+Bshzfq/z/8njT4n85Ds3joj+3J8E9w5mIj4FLMBQpQnAsKhfrKxgR2PzX1/EnU/8FmvWP4newX7x0nFy/M998gIcdchc9CQHcMKnzsyUYmeceDK+eeU1o3+sCRtqegPIV3gGvPu1zqvaPnb0csDtBfhNi3vjfSwCMIkCEAgESQMGMxsY6vpbAKwR0V9r6NgAYDtDzqsZalo9eNAeXQBGifrZW4rTUYR7BpF6uQu9/XGsWf8k7nzq99gSe1u8dm85/rkX4qjDDs/5DG6693b88J7b8KkzPoGr//Xzpf0wzZlgQI3B/A8ZSO5aedvth1z6o6/vIMABoMOhIO94p1sEYDIEoLWtDd2xmHIcRxFgasAiL/p/59Nf3O/iyy55SPmtMADwQArcOzAiapPPBDUG3aygkAAUi/q2dv89y+lHfLsnAtCMNeufxDWrbhHv3RPHf+/hbsTvyL9Ss6enB+s2Po+PfHh+yb0cagyCYwNuVsgMagrlzQZ639x+/YyTjvgaEWxmaJ9pcnySsoCaF4BwaxsSvbsUHEdpzWZW9PdteeTZ5U2zZnwcWkPvGgRS9kjn9aJ/et5Xb4mNdOJ8UT/b6UcrBYaJwNk//DJe6pJrCXaHI/ebg0tOPgfHnDjPnbExVPHGbcoZ/THe49TMJnDvIHgwNSQKASvTG8jOAu5accecz9503U5idsCs6wN+fmcSegE1fyTYNIOhHJ0eCPa+cPNl/9HWNGPqxzlpQ++M56b82fiGLfoYHvVTDmB404La+3P679LNohLFjMIBvFo/IM6/m45/2wXX4PaLr8MxC+e7PZu0UKc/k3zOkP2YUj6jOl+mFAAROGFD7+jN+X4V9DWeeeqiy8AgEJFSiuLJVNWNeUUIwKtvbQEpYgIYlD7+D/qsM8/8Ivcnwd39RWs+Ve8vXOs77Dq+rYcMYIxOPzzK9MTjOGrOXBy8z/7i1WNw/NuWXIOjDj4M5sEtuWm5yhJih/OLQfoxKWfIuQtavXLFJScQALo7nlMe1s9ovvqvy+9tBwBWBmD5qm6TUMVsBmKt3Y+JmQmkAWijLxlm01889csz3cPMQNIeKlOcYXV9duo/ViwDH3jfEfjAYYeDNUNv3YU3X34VnbEdePb1TegZjOMfXZvR2b2j5puER+43BxcvOAtHts9xP4uQD+ZBM4p26EeWaDo3C7CMoSyuyD4QavCD307l2g6Ru15kMAUVCQGWgTlHzP0KgAsIgJ1KVt1nUEELgQJIgUi7swAGAPPvt/120b4H7n930ejfXJdrCCkHTme3u0LMUIWNbHdfe8rJWWXICRupF98qGJWeiW5C70Ac/+h6A52xt/HYpmerfhpx0eHH4fQj5uHId78XPOCm1SoSgnng9D0b93wlQXZvwOsBZMyju98tGwvYDjUEQJaBLc9tOvDgC09+3RcK6V07d0oTcDIEAHCnAhkgDTbSC4F2PbLxRcNv7Zs/1SOoKVmLQrR2ZwESNngglbsXYE+cPjtryLe4JLoTzvbSbyb79d//gjvX/nZEH+HgltkV31t4+Cs3Y2bT1CEbCfoAAox9mkfaTCmNvWJiQOR+v6Mz5UG2ACDlQL8TL/wczIBpgB1nZeO8Q5dYlo/7enuqSgAq6jwAn6Ew6DgggJmgwdDbt237Vuu+s36U78OjUCDnw+ZECjAVyPQh00nIl05mpYSj7hfQ7BqYmT6LNI8OtTbC2dE7am1KpgFYCqe954M47ZBj8Ux0E+56+iE89rdnMLNpGn5xyfUAgG89eCfueur3FSkAm157Ba1zGofGZmoDjJawO/7DHT6dyu9mKZaZ1vUysYLloaMLRTDAcYOGMgxMhvNLDyCLaZFG7or1wNaaWWsNgvOuc0+6e9cjG/99RBagKLMLjFMOkEzlODPV+8E9g0NRP5+jcwEDTD82bbRFak0AIL8JY2pD0SyAghaQ0pmUGACObJ+Do+Ychs6tW/DM65vcxwWsDb/7378AQEclGtxjLz2H4+e8PyN4xoyw+xlk1+7pbEwRoIw9LwkyIu8AWufMCKmGQPEsQDMGYr3XGYbJqEIqSgBefWsLQnX1gNZMbmakATh9vb33NPqbr8qJ/vXBXOfPU+9TvR/clyic+hc4K4CTNpBy3GaVowGMnqqqlnBeAUhH/WzHzxYxaMbMpmlYdPg0kN+MJaYGju/u7XmtHBt6UArQGu9umY1woA4A8O6WfdEQdH/f1jQVM5um5WRGOeOWdvh0NmbtpvPnS5kJoOaQ2+UP+Ny9ACVkAZyy18w857ho29Rm9PXsEgGYbFojYd7W04tU0tZMTADs+x769Q8v+sR5F5NpNGZH1GLOn50lcH+q9FqTGaQUEDRynDQn4uTpJ1DAgmoKukuUi0T94ZlD5t8sI6bD/uOnnHFUd3ukpWmchzkGYIPrNogBeIEBdcr7j5t71mHHnZKdoVDQynn9mfdkO6OWO8aMAqe2pzOsYQ3Vor2XYsLNDPIZQ7MLyRQYyIgABX15V4+CGan+weWGz4dyOBik5puAaerr6mC7h4KmDwM1tq3+6zV1kfDVaWdzVd0p7PzZn/Og7U4LjvZ6mYfWDaQNNF+UGm6UniBwPIHU37YUj/rDygIeSIFMAzoSeN97rzhtPSXUfACPj3HINmDorPsNANKhLOp9AUA02t0Vzf4m79JVAkAMGLdcvmzKmQce/XuVcA4b/hpLzmrS/b19mmG0NpYWzW1dJISV0LxV5C7+yenMasBnZURA7+jN7QkB4ETqieaFhy/oH+iv2u3AFXkoaF88jsZQCAkwOwwHDH7jjc0r5zS+5+qMUWhdkvO7gmGCHT36AhJ7WFqaXngyXASGRywvpSWfCWNGGHrXwKjOn5MWN/iWRM6ft95JJtAeaQGAtVmROvs6q/TfY2/cZTdzaoS7e/sw6Gg4tq0/s3zZO/z5ZR8964Cjf6+SnghoHsqC0gZrO4DtuNmA5hENuKLRv4Djs+OO3+6c5ZD3MBBD5WQCVBcYkQU4/YnlzBrVTMVeD37ArJno6eujnsEkAUQaTLseXP8zI+g7n+r9uzV9xL2J4k2lfNE+bfhjeT5bQ8cT4N5B6J4B90SaYeJDpuEuRQ5ZSw6+4tQVb+3YOWlGYvp8ZChFDCgG1OPfWrH/XN+Mv8LWjYWygJzo6zddEfDeY8Hon11GZaf+tnbHgjG2sWbGqLbgNXIp6IPe3pMRAE7a0eaPvm//1kh40s8FlOvBCzQEw/X17PdZbBhKE7N+6403lzqDyf/U8cQaHkhuLpo65hOsOl/+BlJ6h2ChCO2MMUqYCqoxCGNWBNYhM+Hr2Bfmu1tgzGwaMlhLAX5z5UGXf2xSnR8AZk+fynV+HyulNDH0gi8tfm2zs+ujMNXoXTHNbhljGSC/mRv900t601/phpxlDI03D63Zz2QapTiEZjcDGU0sTAUwgweS7pqE9LcPJq/zWSZXa+1f8RlANlPCDRiwbdIgt9a2bbBS9NZdj7UH6+vmGnX+DuW35pFSc8kymkZrKnE8OWQ46ehDo+802+2u9QiHSUZ1d3zl/pecvKxr2/ayMRbLHyAFIk2sCFAv3/yb+VMGjIdympXF7KHeD2NmE1Q6JS9lvPKN62hjzQz4TZDfHNO4gwjcMwi2nWjzwo79+/vlWPCKEIB85UEs3o+E7ZC2bdgMEDGIiN686/H2UFPDPBXwzSXL6CBDzRtRW6Ycd2YAY0g5d6cUyBYdRz/BKXu13Z9Y3f7J46KTeQRVQQFQFqCIlKlIe/cxdt784PkhR90Kh0d0/inkg6oPgMIBqIbA2FdbFhPfYiJg0Ihj4EsW374EdDyxdNq/LLix7+1tEAGoQAHIh78hjDrTQDKVIgKQSKXcq8WZafvP/zzXagh2GCH/PDKNDlI0FwxgIDW2qD6GLIBTTgxaP6ET9upEvH9N23kndPdXwEozw+eHzzLJtm0CERGgtt36h8uthP4uGFDh4O47/PAonj3jMobxpgb/2MQ35cTY0U/wQHKD7htcS6ANoY/NjZXLmIsAjBPBUAgggkFEIIJtp6A1A4ZBO+770zwj6O8gotnKMjpA1E5Es0d18EIiwAxOOVF29BoeTK2dcvqRa8jycWtjfcXNMe8zfSre7o2TUgpaMzmsaefP//Ipsz5wmuGzFu2VUqgUMR0uEqM1/TS7i7gc/YRO2mt1PLnRHkxsmP7xD0WVIoRMg8sx8xIBmCBa29rQu3MHyPKRdjQ0a28bMgFKkaMd7PzlU/PINJoMv9VBhjGXCE2k1LzMOvbsUsA9knoDJ+2VzkBi7cxzjtuoQVwta8qbww2wGZR0HGhHA+RWWtvvf2qRVRdcpAw1jyxj9pizgFL7LtkiQO5hLNnOz4MpwNFPsK036MHUBqdvcOOMjx+7QZkmTNYcbGzC1s7Osh9nEYBJpqm5GXZ/HI4yyGeZsLWGk9IgYjiaAQJ13fvkbMu02s2Qfy4YTcwcHeiLr9lv8Ykxi3VZRpa9SaghDE4lSVkWHMcBa00gorfufnxuXaTxU8ow5pFlzB21R1JK6p8vW3BPb9rAjt7ISXuDs2tg49SPf3CtpQhExBpUsZt5RADKlANmzcRbu/oQ0g5UKERaKZiDAzygGX291e3wxahvCAMAOY4Nx3FgGAbZWmPzykfaw82RRYbPnK9M87S8Tl4s9fcWBzFzFIzN7DhrOeXEdNLe2HLOh9cya3ehgmHwrp7q2bknAiBULFPCDUiASNu2exUfMYGB9T/6VWTWjNZ5Vl1wEZnGaWSqJjjsRnKHwcwxaL2RGVFoHbX7Bp8AODbt4x/cYCgCYMAwFHRykBumTK2IVF4EQKhpWtva0NvbB+3YBAYcZgBMCoxt9/15ruGz5rLtbO4d6N+w/+KTYgYAJgID8IEZPj9i77xTc+MmAiBUJcFIMwLJBDgYhGkYNLgrxo4y0BSJVHVErxkBEAShvFEyBIJQu/z/AQAgCrr6V9PM7QAAAABJRU5ErkJggg==";
}(b=a.BASE64||(a.BASE64={}))}(b=a.IMG||(a.IMG={}))}(b=a.HOG||(a.HOG={}))}(b=a.LOADERS||(a.LOADERS={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){function b(b,c,d){void 0===d&&(d=a.IMG_SRC_PREFIX_DATA_PNG_BASE64);var e=document.createElement("img");e.src=d+b;var f=new PIXI.BaseTexture(e),g=new PIXI.Texture(f);PIXI.Texture.addTextureToCache(g,c)}a.IMG_SRC_PREFIX_DATA_PNG_BASE64="data:image/png;base64,",a.loadFromBase64Png=b}(b=a.UTILS||(a.UTILS={}))}(b=a.COMPONENT||(a.COMPONENT={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c;!function(b){var c=a.GRAPHIC.scene,d=a.GRAPHIC.Entity,e=a.GRAPHIC.EntityOptions,f=a.ASSETS.PROGRESS.counter,g=a.PLUGINS.LOADERS.HOG.IMG.BASE64,h=a.COMPONENT.UTILS.loadFromBase64Png,i=function(){function b(b){var c=this;this.options=b,this.options.orientation="landscape",this.options.viewPort.height>this.options.viewPort.width&&(this.options.orientation="portrait"),a.event.on(this.options.events.DEPENDENCIES_STARTED,function(d){navigator.isCocoonJS||f.setCounterChange(function(a,b,e){c.loading({completed:a,total:b,allDone:e,allowLoader:d})}),a.init({game:function(){navigator.isCocoonJS&&b.game()},assetList:c.options.assetList,viewPort:c.options.viewPort})}),a.event.broadcast(this.options.events.GAME_STARTING,{allowLoader:!0,orientation:this.options.orientation,name:this.options.name,api:this.options.api})}return b.prototype.loading=function(b){var f=this,i=b.allowLoader,j=b.completed,k=b.total,l=b.allDone,m=(this.options.loaderAssetPath,this.options.game),n=this.options.viewPort,o=this.options.events.GAME_START,p=this.options.events.GAME_REQUESTED_START,q={bg:new e,logo:new e,bar:new e,fill:new e};this.loader||(this.loader={},i&&(h(g.bg,"bg.png"),q.bg.asset="bg.png",q.bg.type="spriteFromFrame",q.bg.name="loader.bg",q.bg.container=c,q.bg.scale={x:3.5,y:3.5},this.loader.bg=new d(q.bg),h(g.logo,"logo.png"),q.logo.asset="logo.png",q.logo.type="spriteFromFrame",q.logo.name="loader.logo",q.logo.container=c,q.logo.y=n.height/2-100,this.loader.logo=new d(q.logo),h(g.loading,"loading.png"),q.bar.asset="loading.png",q.bar.type="spriteFromFrame",q.bar.name="loader.bar",q.bar.container=c,q.bar.y=n.height/2+100,this.loader.bar=new d(q.bar),h(g.fill,"fill.png"),q.fill.asset="fill.png",q.fill.type="spriteFromFrame",q.fill.name="loader.fill",q.fill.container=c,q.fill.y=n.height/2+100,q.fill.scale={x:.01,y:1},this.loader.fill=new d(q.fill),this.loader.bg.selfAttach(),this.loader.logo.selfAttach(),this.loader.bar.selfAttach(),this.loader.fill.selfAttach())),i&&(this.loader.fill.sprite.scale.x=l?1:j/k),l&&(a.event.on(o,function(){m(),i&&(f.loader.logo.selfRemove(),f.loader.bar.selfRemove(),f.loader.fill.selfRemove(),f.loader.bg.selfRemove())}),a.event.broadcast(p,null))},b}();b.Hog=i}(c=b.LOADERS||(b.LOADERS={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c;!function(b){function c(a){return h||(h=new g(a)),h}var d=a.GRAPHIC.scene,e=a.GRAPHIC.mainScene,f=a.GRAPHIC.renderer;b.ORIENTATION_LANDSCAPE="landscape",b.ORIENTATION_PORTRAIT="portrait",b.ROTATION_CLASS="rotate_90_deg_clockwise";var g=function(){function c(a){this.options=a,this.setOrientation(),this.eventListener(),this.handleRotation()}return c.prototype.eventListener=function(){var a=this;window.addEventListener("orientationchange",function(){window.setTimeout(function(){a.handleRotation()},250)},!1),window.addEventListener("resize",function(){window.setTimeout(function(){a.handleRotation()},250)},!1)},c.prototype.handleRotation=function(){a.isMobileDevice()&&this.handleOrientation(),this.handleBackgroundResize()},c.prototype.handleBackgroundResize=function(){var c,d=window.innerWidth/a.GRAPHIC.mainScene.scale.x,g=window.innerHeight/a.GRAPHIC.mainScene.scale.x;this.orientation===b.ORIENTATION_LANDSCAPE?window.innerHeight<window.innerWidth||!a.isMobileDevice()?g<=this.options.viewPort.height?(c=Math.max(f.renderer.height,window.innerWidth-(window.innerWidth/e.scale.y-this.options.viewPort.width)),document.body.style.backgroundSize="auto "+c+"px"):document.body.style.backgroundSize="auto 100%":g<=this.options.viewPort.height?(c=Math.max(f.renderer.height,window.innerWidth-(window.innerWidth/a.GRAPHIC.mainScene.scale.y-this.options.viewPort.width)),document.body.style.backgroundSize=c+"px auto"):document.body.style.backgroundSize="100% auto":window.innerWidth<window.innerHeight||!a.isMobileDevice()?d<=this.options.viewPort.width?(c=Math.max(f.renderer.width,window.innerHeight-(window.innerHeight/e.scale.y-this.options.viewPort.height)),document.body.style.backgroundSize="auto "+c+"px"):document.body.style.backgroundSize="auto 100%":d<=this.options.viewPort.width?(c=Math.max(f.renderer.width,window.innerHeight-(window.innerHeight/a.GRAPHIC.mainScene.scale.y-this.options.viewPort.height)),document.body.style.backgroundSize=c+"px auto"):document.body.style.backgroundSize="100% auto"},c.prototype.handleOrientation=function(){var a=b.ROTATION_CLASS,c=document.body;this.orientation===b.ORIENTATION_LANDSCAPE&&window.innerWidth<window.innerHeight?(c.classList.add(a),d.rotation=Math.PI/2,d.y=this.options.viewPort.height/2,d.x=this.options.viewPort.width/2,d.scale.x=d.scale.y=Math.min(this.options.viewPort.width/this.options.viewPort.height,window.innerHeight/window.innerWidth)):this.orientation===b.ORIENTATION_PORTRAIT&&window.innerWidth>=window.innerHeight?(c.classList.add(a),d.rotation=Math.PI/2,d.x=d.scale.x*this.options.viewPort.width,d.y=this.options.viewPort.height/2,d.scale.x=d.scale.y=Math.min(this.options.viewPort.height/this.options.viewPort.width,window.innerWidth/window.innerHeight)):(c.classList.remove(a),d.rotation=0,d.y=0,d.x=0,d.scale.x=d.scale.y=1)},c.prototype.setOrientation=function(){this.orientation=b.ORIENTATION_LANDSCAPE,this.options.viewPort.height>this.options.viewPort.width&&(this.orientation=b.ORIENTATION_PORTRAIT)},c.prototype.isRotated=function(){return document.body.classList.contains(b.ROTATION_CLASS)},c}();b.RotationHandler=g;var h;b.classic=c}(c=b.ROTATION||(b.ROTATION={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DUST;!function(a){var b;!function(b){var c=a.Scene,d=a.scenes,e=a.ASSETS.AUDIO.init,f=function(a){function b(b,c,d,e){var f=this,g=[];this.buttonEnable=b,this.buttonDisable=c,this.nextScene=d,this.mapButtonActions(),g.push(function(){return f.buttonEnable}),g.push(function(){return f.buttonDisable}),e.forEach(function(a){g.push(function(){return a})}),a.call(this,{onShow:function(){},onHide:function(a){a()},name:"dust.plugins.soundScreen",objects:g})}return __extends(b,a),b.prototype.mapButtonActions=function(){var a=this;this.buttonEnable.action=function(){a.unmute()},this.buttonDisable.action=function(){a.mute()}},b.prototype.mute=function(){var a=this;e.mute(),window.requestAnimationFrame(function(){a.switchScene()})},b.prototype.unmute=function(){var a=this;e.unmute(),window.requestAnimationFrame(function(){a.switchScene()})},b.prototype.onBeforeSwitch=function(a){a()},b.prototype.switchScene=function(){var a=this;this.onBeforeSwitch(function(){d["switch"](a.nextScene)})},b}(c);b.SoundScreen=f}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={})),function(){"use strict";var a="undefined"!=typeof module&&module.exports,b="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,c=function(){for(var a,b,c=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],d=0,e=c.length,f={};e>d;d++)if(a=c[d],a&&a[1]in document){for(d=0,b=a.length;b>d;d++)f[c[0][d]]=a[d];return f}return!1}(),d={request:function(a){var d=c.requestFullscreen;a=a||document.documentElement,/5\.1[\.\d]* Safari/.test(navigator.userAgent)?a[d]():a[d](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[c.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},raw:c};return c?(Object.defineProperties(d,{isFullscreen:{get:function(){return!!document[c.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[c.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[c.fullscreenEnabled]}}}),void(a?module.exports=d:window.screenfull=d)):void(a?module.exports=!1:window.screenfull=!1)}();var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.Entity,d=a.GRAPHIC.EntityOptions,e=function(a){function b(b){a.call(this),this.name="dust.plugins.fullScreenButton",this.type="container",this.container=b}return __extends(b,a),b}(d),f=function(a){function b(b){a.call(this,new e(b))}return __extends(b,a),b}(c);b.FullScreenButtonContainer=f;var g=function(){function a(a,b){this.button=b,this.container=a,this.container.append(this.button),this.button.makeInteractive(!0)}return a}();b.FullScreenButtonChild=g;var h=function(){function a(a){this.fullScreenButtonOff=a.fullScreenButtonOff,this.fullScreenButtonOn=a.fullScreenButtonOn,this.container=a.container}return a}();b.FullScreenButtonOptions=h;var i=function(a){function b(b){var c=this;a.call(this,new e(b.container)),screenfull.enabled&&(this.buttonOptions=b,this.buttonOn=new g(this,this.buttonOptions.fullScreenButtonOn),this.buttonOff=new g(this,this.buttonOptions.fullScreenButtonOff),this.buttonOn.button.action=function(){c.maximize()},this.buttonOff.button.action=function(){c.minimize()},document.addEventListener(screenfull.raw.fullscreenchange,function(){c.toggleButton()}),this.buttonOn.button.selfAttach())}return __extends(b,a),b.prototype.maximize=function(){screenfull.request(document.body)},b.prototype.minimize=function(){screenfull.exit()},b.prototype.toggleButton=function(){screenfull.isFullscreen?(this.buttonOn.button.selfRemove(),this.buttonOff.button.selfAttach()):(this.buttonOff.button.selfRemove(),this.buttonOn.button.selfAttach())},b.prototype.destroy=function(){screenfull.enabled&&(this.buttonOn.button.selfRemove(),this.buttonOff.button.selfRemove(),delete this.buttonOn,delete this.buttonOff),this.selfRemove()},b}(c);b.FullScreenButton=i}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var Stats=function(){var a=Date.now(),b=a,c=0,d=1/0,e=0,f=0,g=1/0,h=0,i=0,j=0,k=document.createElement("div");k.id="stats",k.addEventListener("mousedown",function(a){a.preventDefault(),s(++j%2)},!1),k.style.cssText="width:80px;opacity:0.9;cursor:pointer";var l=document.createElement("div");l.id="fps",l.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",k.appendChild(l);var m=document.createElement("div");m.id="fpsText",m.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",m.innerHTML="FPS",l.appendChild(m);var n=document.createElement("div");for(n.id="fpsGraph",n.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",l.appendChild(n);74>n.children.length;){var o=document.createElement("span");o.style.cssText="width:1px;height:30px;float:left;background-color:#113",n.appendChild(o)}var p=document.createElement("div");p.id="ms",p.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",k.appendChild(p);var q=document.createElement("div");q.id="msText",q.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",q.innerHTML="MS",p.appendChild(q);var r=document.createElement("div");for(r.id="msGraph",r.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",p.appendChild(r);74>r.children.length;)o=document.createElement("span"),o.style.cssText="width:1px;height:30px;float:left;background-color:#131",r.appendChild(o);var s=function(a){switch(j=a){case 0:l.style.display="block",p.style.display="none";break;case 1:l.style.display="none",p.style.display="block"}};return{REVISION:12,domElement:k,setMode:s,begin:function(){a=Date.now()},end:function(){var j=Date.now();c=j-a,d=Math.min(d,c),e=Math.max(e,c),q.textContent=c+" MS ("+d+"-"+e+")";var k=Math.min(30,30-30*(c/200));return r.appendChild(r.firstChild).style.height=k+"px",i++,j>b+1e3&&(f=Math.round(1e3*i/(j-b)),g=Math.min(g,f),h=Math.max(h,f),m.textContent=f+" FPS ("+g+"-"+h+")",k=Math.min(30,30-30*(f/100)),n.appendChild(n.firstChild).style.height=k+"px",b=j,i=0),j},update:function(){a=this.end()}}};"object"==typeof module&&(module.exports=Stats);var __extends=this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DUST;!function(a){var b;!function(b){var c=a.GRAPHIC.Entity,d=a.GRAPHIC.EntityOptions,e=a.GRAPHIC.stage,f=function(a){function b(b){a.call(this),this.name="dust.plugins.debugTrigger",this.type="container",this.container=b}return __extends(b,a),b}(d),g=function(a){function b(b,c){var d=this;a.call(this,new f(b)),this.enabled=!1,this.counter=0,this.version=c,this.stats=new Stats,this.stats.domElement.style.position="absolute",this.stats.domElement.style.left="0px",this.stats.domElement.style.top="0px",this.makeInteractive(!1),this.onInteractionFull(function(){d.counter+=1,d.timer&&window.clearTimeout(d.timer),d.counter>=3?(d.toggle(),d.counter=0):d.timer=window.setTimeout(function(){d.counter=0},500)})}return __extends(b,a),b.prototype.setArea=function(a,b){this.sprite.hitArea=new PIXI.Rectangle(0,0,a,b)},b.prototype.toggle=function(){this.enabled?this.disable():this.enable()},b.prototype.enable=function(){var a=this;document.body.appendChild(this.stats.domElement),e.loop=function(){a.stats.end(),e.mainLoop(),a.stats.begin()},this.enabled=!0,this.version&&console.log(this.version)},b.prototype.disable=function(){document.body.removeChild(this.stats.domElement),e.loop=function(){e.mainLoop()},this.enabled=!1},b}(c);b.DebugTrigger=g}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){!function(a){a[a.NETWORK_REQUESTED_START=0]="NETWORK_REQUESTED_START",a[a.NETWORK_RECEIVED_START=1]="NETWORK_RECEIVED_START",a[a.NETWORK_CONNECT_SUCCESS=2]="NETWORK_CONNECT_SUCCESS",a[a.NETWORK_CONNECT_FAILED=3]="NETWORK_CONNECT_FAILED",a[a.NETWORK_DISCONNECTED=4]="NETWORK_DISCONNECTED",a[a.NETWORK_SESSION_EXPIRED=5]="NETWORK_SESSION_EXPIRED",a[a.NETWORK_REQUESTED_GAME_NEW=6]="NETWORK_REQUESTED_GAME_NEW",a[a.NETWORK_REQUESTED_GAME_END=7]="NETWORK_REQUESTED_GAME_END",a[a.NETWORK_REQUESTED_MESSAGE_BROADCAST=8]="NETWORK_REQUESTED_MESSAGE_BROADCAST",a[a.NETWORK_GAME_STARTED=9]="NETWORK_GAME_STARTED",a[a.NETWORK_GAME_FINISHED=10]="NETWORK_GAME_FINISHED",a[a.NETWORK_GAME_PLAYER_ENTER=11]="NETWORK_GAME_PLAYER_ENTER",a[a.NETWORK_GAME_PLAYER_LEFT=12]="NETWORK_GAME_PLAYER_LEFT",a[a.NETWORK_RECEIVED_MY_PLAYER=13]="NETWORK_RECEIVED_MY_PLAYER",a[a.NETWORK_RECEIVED_OTHER_PLAYER=14]="NETWORK_RECEIVED_OTHER_PLAYER",a[a.NETWORK_RECEIVED_MY_PLAYER_PROFILE=15]="NETWORK_RECEIVED_MY_PLAYER_PROFILE",a[a.NETWORK_RECEIVED_OTHER_PLAYER_PROFILE=16]="NETWORK_RECEIVED_OTHER_PLAYER_PROFILE",a[a.NETWORK_NUGPLAY_INVITATION=17]="NETWORK_NUGPLAY_INVITATION",a[a.NETWORK_NUGPLAY_INVITATION_FAILED=18]="NETWORK_NUGPLAY_INVITATION_FAILED",a[a.NETWORK_NUGPLAY_INVITATION_COMPLETED=19]="NETWORK_NUGPLAY_INVITATION_COMPLETED",a[a.NETWORK_FAILED=20]="NETWORK_FAILED",a[a.NETWORK_CONNECTION_INTERRUPTED=21]="NETWORK_CONNECTION_INTERRUPTED",a[a.NETWORK_CONNECTION_RESUMED=22]="NETWORK_CONNECTION_RESUMED",a[a.NETWORK_RECEIVED_MATCH_AND_JOIN_GAME_RESPONSE=23]="NETWORK_RECEIVED_MATCH_AND_JOIN_GAME_RESPONSE",a[a.NETWORK_MATCH_AND_JOIN_GAME_ACCEPTED=24]="NETWORK_MATCH_AND_JOIN_GAME_ACCEPTED",a[a.NETWORK_MATCH_AND_JOIN_GAME_REFUSED=25]="NETWORK_MATCH_AND_JOIN_GAME_REFUSED",a[a.NETWORK_RECEIVED_JOIN_GAME_RESPONSE=26]="NETWORK_RECEIVED_JOIN_GAME_RESPONSE",a[a.NETWORK_JOIN_GAME_ACCEPTED=27]="NETWORK_JOIN_GAME_ACCEPTED",a[a.NETWORK_JOIN_GAME_REFUSED=28]="NETWORK_JOIN_GAME_REFUSED",a[a.NETWORK_RECEIVED_RAW_MESSAGE=29]="NETWORK_RECEIVED_RAW_MESSAGE"}(a.Events||(a.Events={}));a.Events}(b=a.NETWORKAPI||(a.NETWORKAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){!function(a){a[a.GAME_STARTING=0]="GAME_STARTING",a[a.GAME_REQUESTED_START=1]="GAME_REQUESTED_START",a[a.GAME_START=2]="GAME_START",a[a.GAME_REQUESTED_NEW=3]="GAME_REQUESTED_NEW",a[a.GAME_NEW=4]="GAME_NEW",a[a.GAME_REQUESTED_END=5]="GAME_REQUESTED_END",a[a.GAME_END=6]="GAME_END",a[a.GAME_REQUESTED_QUIT=7]="GAME_REQUESTED_QUIT",a[a.GAME_QUIT=8]="GAME_QUIT",a[a.GAME_REQUESTED_SAVE_SCORE=9]="GAME_REQUESTED_SAVE_SCORE",a[a.GAME_SAVED_SCORE=10]="GAME_SAVED_SCORE",a[a.GAME_REQUESTED_ACHIEVEMENT=11]="GAME_REQUESTED_ACHIEVEMENT",a[a.GAME_ACHIEVED_ACHIEVEMENT=12]="GAME_ACHIEVED_ACHIEVEMENT",a[a.GAME_REQUESTED_INTERRUPTION=13]="GAME_REQUESTED_INTERRUPTION",a[a.GAME_REQUESTED_MOREGAMES=14]="GAME_REQUESTED_MOREGAMES",a[a.GAME_COMPLETED_LEVEL=15]="GAME_COMPLETED_LEVEL",a[a.GAME_FAILED_LEVEL=16]="GAME_FAILED_LEVEL",a[a.GAME_SHOWED_MENU=17]="GAME_SHOWED_MENU",a[a.PUBLISHER_STARTED=18]="PUBLISHER_STARTED",a[a.PUBLISHER_REQUESTED_PAUSE=19]="PUBLISHER_REQUESTED_PAUSE",a[a.PUBLISHER_REQUESTED_RESUME=20]="PUBLISHER_REQUESTED_RESUME",a[a.PLAYER_PROFILE_REQUESTED=21]="PLAYER_PROFILE_REQUESTED",a[a.PLAYER_PROFILE_RECEIVED=22]="PLAYER_PROFILE_RECEIVED",a[a.GAME_STORAGE_REGISTRY_READY=23]="GAME_STORAGE_REGISTRY_READY",a[a.PUBLISHER_HAS_OWN_GAME_STORAGE=24]="PUBLISHER_HAS_OWN_GAME_STORAGE",a[a.USER_ENERGY_STORAGE_REGISTRY_READY=25]="USER_ENERGY_STORAGE_REGISTRY_READY",a[a.PUBLISHER_HAS_OWN_USER_ENERGY_STORAGE=26]="PUBLISHER_HAS_OWN_USER_ENERGY_STORAGE",a[a.USER_ENERGY_UPDATED=27]="USER_ENERGY_UPDATED",a[a.USER_ENERGY_REWARD_GRANTED=28]="USER_ENERGY_REWARD_GRANTED",a[a.USER_LIFE_STORAGE_REGISTRY_READY=29]="USER_LIFE_STORAGE_REGISTRY_READY",a[a.PUBLISHER_HAS_OWN_USER_LIFE_STORAGE=30]="PUBLISHER_HAS_OWN_USER_LIFE_STORAGE",a[a.USER_LIFE_UPDATED=31]="USER_LIFE_UPDATED",a[a.USER_LIFE_REWARD_GRANTED=32]="USER_LIFE_REWARD_GRANTED",a[a.USER_META_DATA_STORAGE_REGISTRY_READY=33]="USER_META_DATA_STORAGE_REGISTRY_READY",a[a.PUBLISHER_HAS_OWN_USER_META_DATA_STORAGE=34]="PUBLISHER_HAS_OWN_USER_META_DATA_STORAGE",a[a.USER_STORE_ITEMS_STORAGE_REGISTRY_READY=35]="USER_STORE_ITEMS_STORAGE_REGISTRY_READY",a[a.PUBLISHER_HAS_OWN_USER_STORE_ITEMS_STORAGE=36]="PUBLISHER_HAS_OWN_USER_STORE_ITEMS_STORAGE",a[a.STORE_REGISTRY_READY=37]="STORE_REGISTRY_READY",a[a.PUBLISHER_HAS_OWN_STORE=38]="PUBLISHER_HAS_OWN_STORE",a[a.STORE_OPENED=39]="STORE_OPENED",a[a.STORE_CLOSED=40]="STORE_CLOSED",a[a.ITEM_BOUGHT=41]="ITEM_BOUGHT",a[a.NETWORK_REGISTRY_READY=42]="NETWORK_REGISTRY_READY",a[a.PUBLISHER_HAS_OWN_NETWORK=43]="PUBLISHER_HAS_OWN_NETWORK",a[a.SOCIAL_REGISTRY_READY=44]="SOCIAL_REGISTRY_READY",a[a.PUBLISHER_HAS_OWN_SOCIAL=45]="PUBLISHER_HAS_OWN_SOCIAL",a[a.SHARE_GAME_SENT=46]="SHARE_GAME_SENT"}(a.Events||(a.Events={}));var b=a.Events;a.events={};for(var c in b)isNaN(c)&&(a.events[c]=c)}(b=a.PUBLISHERAPI||(a.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){function b(a){d=a}function c(){return d}var d;a.registerNetwork=b,a.getNetwork=c}(b=a.NETWORK||(a.NETWORK={}))}(b=a.PUBLISHERAPI||(a.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){function b(a){d=a}function c(){return d}var d;a.registerUserMetaDataStorage=b,a.getUserMetaDataStorage=c}(b=a.STORAGE||(a.STORAGE={}))}(b=a.PUBLISHERAPI||(a.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){function b(a){d=a}function c(){return d}var d;a.registerUserEnergyStorage=b,a.getUserEnergyStorage=c}(b=a.STORAGE||(a.STORAGE={}))}(b=a.PUBLISHERAPI||(a.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){function b(a){d=a}function c(){return d}var d;a.registerGameStorage=b,a.getGameStorage=c}(b=a.STORAGE||(a.STORAGE={}))}(b=a.PUBLISHERAPI||(a.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){function b(a){d=a}function c(){return d}var d;a.registerUserLifeStorage=b,a.getUserLifeStorage=c}(b=a.STORAGE||(a.STORAGE={}))}(b=a.PUBLISHERAPI||(a.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){function b(a){d=a}function c(){return d}var d;a.registerUserStoreItemsStorage=b,a.getUserStoreItemsStorage=c}(b=a.STORAGE||(a.STORAGE={}))}(b=a.PUBLISHERAPI||(a.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){function b(a){d=a}function c(){return d}var d;a.registerStore=b,a.getStore=c}(b=a.STORE||(a.STORE={}))}(b=a.PUBLISHERAPI||(a.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(b){var c;!function(b){var c=b.STORAGE,d=b.STORE,e=b.NETWORK,f=b.SOCIAL,g=a.event,h=b.Events;g.once(h[h.PUBLISHER_STARTED],function(){g.once(h[h.PUBLISHER_HAS_OWN_GAME_STORAGE],function(a){c.registerGameStorage(a)}),g.once(h[h.PUBLISHER_HAS_OWN_USER_LIFE_STORAGE],function(a){c.registerUserLifeStorage(a)}),g.once(h[h.PUBLISHER_HAS_OWN_USER_STORE_ITEMS_STORAGE],function(a){c.registerUserStoreItemsStorage(a)}),g.once(h[h.PUBLISHER_HAS_OWN_USER_META_DATA_STORAGE],function(a){c.registerUserMetaDataStorage(a)}),g.once(h[h.PUBLISHER_HAS_OWN_USER_ENERGY_STORAGE],function(a){c.registerUserEnergyStorage(a)}),g.once(h[h.PUBLISHER_HAS_OWN_NETWORK],function(a){e.registerNetwork(a)}),g.once(h[h.PUBLISHER_HAS_OWN_STORE],function(a){d.registerStore(a)}),g.once(h[h.PUBLISHER_HAS_OWN_SOCIAL],function(a){f.registerSocial(a)})})}(c=b.PUBLISHERAPI||(b.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){function b(a){d=a}function c(){return d}var d;a.registerSocial=b,a.getSocial=c}(b=a.SOCIAL||(a.SOCIAL={}))}(b=a.PUBLISHERAPI||(a.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={})),function(a){function b(){try{return g in a&&a[g]}catch(b){return!1}}function c(a){return a.replace(/^d/,"___$&").replace(m,"___")}var d,e={},f=a.document,g="localStorage",h="script";if(e.disabled=!1,e.version="1.3.17",e.set=function(a,b){},e.get=function(a,b){},e.has=function(a){return void 0!==e.get(a)},e.remove=function(a){},e.clear=function(){},e.transact=function(a,b,c){null==c&&(c=b,b=null),null==b&&(b={});var d=e.get(a,b);c(d),e.set(a,d)},e.getAll=function(){},e.forEach=function(){},e.serialize=function(a){return JSON.stringify(a)},e.deserialize=function(a){if("string"!=typeof a)return void 0;try{return JSON.parse(a)}catch(b){return a||void 0}},b())d=a[g],e.set=function(a,b){return void 0===b?e.remove(a):(d.setItem(a,e.serialize(b)),b)},e.get=function(a,b){var c=e.deserialize(d.getItem(a));return void 0===c?b:c},e.remove=function(a){d.removeItem(a)},e.clear=function(){d.clear()},e.getAll=function(){var a={};return e.forEach(function(b,c){a[b]=c}),a},e.forEach=function(a){for(var b=0;b<d.length;b++){var c=d.key(b);a(c,e.get(c))}};else if(f.documentElement.addBehavior){var i,j;try{j=new ActiveXObject("htmlfile"),j.open(),j.write("<"+h+">document.w=window</"+h+'><iframe src="/favicon.ico"></iframe>'),j.close(),i=j.w.frames[0].document,d=i.createElement("div")}catch(k){d=f.createElement("div"),i=f.body}var l=function(a){return function(){var b=Array.prototype.slice.call(arguments,0);b.unshift(d),i.appendChild(d),d.addBehavior("#default#userData"),d.load(g);var c=a.apply(e,b);return i.removeChild(d),c}},m=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");e.set=l(function(a,b,d){return b=c(b),void 0===d?e.remove(b):(a.setAttribute(b,e.serialize(d)),a.save(g),d)}),e.get=l(function(a,b,d){b=c(b);var f=e.deserialize(a.getAttribute(b));return void 0===f?d:f}),e.remove=l(function(a,b){b=c(b),a.removeAttribute(b),a.save(g)}),e.clear=l(function(a){var b=a.XMLDocument.documentElement.attributes;a.load(g);for(var c,d=0;c=b[d];d++)a.removeAttribute(c.name);a.save(g)}),e.getAll=function(a){var b={};return e.forEach(function(a,c){b[a]=c}),b},e.forEach=l(function(a,b){for(var c,d=a.XMLDocument.documentElement.attributes,f=0;c=d[f];++f)b(c.name,e.deserialize(a.getAttribute(c.name)))})}try{var n="__storejs__";e.set(n,n),e.get(n)!=n&&(e.disabled=!0),e.remove(n)}catch(k){e.disabled=!0}e.enabled=!e.disabled,"undefined"!=typeof module&&module.exports&&this.module!==module?module.exports=e:"function"==typeof define&&define.amd?define(e):a.store=e}(Function("return this")());var DUST;!function(a){var b;!function(a){var b;!function(a){var b;!function(a){var b=function(){function a(){this._timestampParamName="local.storage.last.change.timestamp.9f34f227c71a507c001d09cf9ad2fe7e"}return a.prototype.setTimestamp=function(a){store.set(this.resolveKey(this._timestampParamName),a||Date.now())},a.prototype.getTimestamp=function(){return this.get(this._timestampParamName).then(function(a){return+a})},a.prototype.getPrefix=function(){return""},a.prototype.resolveKey=function(a){return this.getPrefix()+a},a.prototype.unresolveKey=function(a){return void 0===a&&(a=""),a.replace(new RegExp("^"+this.getPrefix()),"")},a.prototype.canBeMyResolvedKey=function(a){return void 0===a&&(a=""),new RegExp("^"+this.getPrefix()).test(a)},a.prototype.set=function(a,b){return this.setTimestamp(Date.now()),Promise.resolve(store.set(this.resolveKey(a),b))},a.prototype.get=function(a){return Promise.resolve(store.get(this.resolveKey(a)))},a.prototype.remove=function(a){return this.setTimestamp(Date.now()),Promise.resolve(store.remove(a))},a.prototype.clear=function(){return this.setTimestamp(Date.now()),Promise.resolve(store.clear())},a.prototype.all=function(){return Promise.resolve(store.getAll())},a.prototype.toArray=function(){var a=store.getAll(),b=[];for(var c in a)a.hasOwnProperty(c)&&b.push({key:c,value:a.key});return Promise.resolve(b)},a}();a.LocalStorage=b}(b=a.LOCAL_STORAGE||(a.LOCAL_STORAGE={}))}(b=a.STORAGE||(a.STORAGE={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},DUST;!function(a){var b;!function(b){var c;!function(b){var c;!function(b){var c;!function(b){function c(a){return+(Math.random()*a).toFixed(0)}function d(){return{id:"this-is-dummy-item-id-"+[c(1e5),c(1e5),c(1e5)],type:null,name:"this-is-dummy-item-name-"+c(1e5),price:c(1e3),bought:!0,quantity:c(100),order:c(1e3),description:"this-is-dummy-item-description"+c(1e5),storeId:"this-is-dummy-item-storeId"+c(1e5)}}var e=a.PLUGINS.PUBLISHERAPI.Events,f=a.PLUGINS.PUBLISHERAPI.Events,g=a.PLUGINS.STORAGE.LOCAL_STORAGE.LocalStorage,h=a.event,i=a.PLUGINS.NETWORKAPI.Events,j=function(a){function b(){a.apply(this,arguments),this._key="energy"}return __extends(b,a),b.prototype.getPrefix=function(){return"dummy-user-energy-storage"},b.prototype.getEnergy=function(){return this.get(this._key)},b.prototype.rewardEnergy=function(a){var b=this;return a=+~~a,this.getEnergy().then(function(c){return b.set(b._key,+c+ +a)}).then(function(){return h.broadcast(e[e.USER_ENERGY_REWARD_GRANTED],a),b.getEnergy()}).then(function(a){return h.broadcast(e[e.USER_ENERGY_UPDATED],a),a})},b.prototype.requestMoreEnergy=function(){return Promise.resolve("dummy-response-for-requestMoreEnergy")},b}(g),k=function(a){function b(b){a.call(this),this._lifeParamName="dummy.user-life-storage.life.param-name.d9f442c6-a54f-4b06-9f41-4224d3f31fa8.0bf1561d-7873-4f77-a777-f301e835f9d6",this._lastRewardGrantedTimeParamName="dummy.user-life-storage.last-reward-granted-time.6d0e74f4-c60b-4da5-a346-aeabc319dc4d.d861e77b-f6a6-444d-a1b9-23113f91a4ff",this.config=b,this.config.rewardInterval=+this.config.rewardInterval,this.config.rewardSize=this.config.rewardSize||1}return __extends(b,a),b.prototype.getPrefix=function(){return"dummy-user-life-storage"},b.prototype.getTimeLeftToNextReward=function(){return this.getNextRewardTime().then(function(a){return+a-Date.now()})},b.prototype.getTimePassedSinceLastRewardGranted=function(){return this.getLastRewardGrantedTime().then(function(a){return Date.now()-+a})},b.prototype.getNextRewardSize=function(){var a=this;return this.getIntervalsPassedSinceLastReward().then(function(b){return void 0===b&&(b=0),+b*+a.config.rewardSize})},b.prototype.getIntervalsPassedSinceLastReward=function(){var a=this;return this.getTimePassedSinceLastRewardGranted().then(function(b){Date.now();return 0==a.config.rewardInterval?0:0|+b/+a.config.rewardInterval})},b.prototype.getLastRewardGrantedTime=function(){var a=this;return this.get(this._lastRewardGrantedTimeParamName).then(function(b){return b?+b:(b=+Date.now(),a.set(a._lastRewardGrantedTimeParamName,b).then(function(){return b}))})},b.prototype.getPrevRewardTime=function(){var a=this;return Promise.all([this.getLastRewardGrantedTime(),this.getIntervalsPassedSinceLastReward()]).spread(function(b,c){return+b+ +c*+a.config.rewardInterval}).then(function(a){return a})},b.prototype.getNextRewardTime=function(){var a=this;return this.getPrevRewardTime().then(function(b){return b+ +a.config.rewardInterval})},b.prototype.checkTimePassedAndGrantReward=function(){var a=this;return Promise.all([this.getPrevRewardTime(),this.getNextRewardSize(),this._getLifes()]).spread(function(b,c,d){var e=+d+ +c;a.config.rewardLimit&&(e=Math.max(0,Math.min(e,a.config.rewardLimit)));var f=Math.max(0,e-d);return a.rewardLifes(f).then(function(){return a.set(a._lastRewardGrantedTimeParamName,b)}).then(function(){return f})}).then(function(a){return a})},b.prototype.getLifes=function(){var a=this;return this.checkTimePassedAndGrantReward().then(function(){return a._getLifes()})},b.prototype._getLifes=function(){return this.get(this._lifeParamName).then(function(a){return+a})},b.prototype.setLifes=function(a){var b=this;return this.set(this._lifeParamName,a).then(function(){return b._getLifes()}).then(function(a){return h.broadcast(e[e.USER_LIFE_UPDATED],a),a})},b.prototype.rewardLifes=function(a){var b=this;return a=+a,0!==a?this._getLifes().then(function(c){var d=a+ +c;return h.broadcast(e[e.USER_LIFE_REWARD_GRANTED],a),b.setLifes(d).then(function(){return d})}):this._getLifes()},b}(g),l=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.getPrefix=function(){return"dummy-user-storage"},b}(g),m=function(){function a(a){this.userLifeStorage=a}return a.prototype.shareGame=function(a){return h.broadcast(e[e.SHARE_GAME_SENT],this),this.userLifeStorage.rewardLifes(25)},a}(),n=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.getPrefix=function(){return"dummy-user-store-items-storage"},b.prototype.getStoreItems=function(a){var b=this;void 0===a&&(a=[]);var c=a.map(function(a){return b.get(a)});return Promise.all(c).then(function(a){return void 0===a&&(a=[]),a})},b.prototype.removeStoreItems=function(a){var b=this;void 0===a&&(a=[]);
var c=a.map(function(a){return b.remove(a)});return Promise.all(c).then(function(){return a})},b.prototype.saveStoreItems=function(a){var b=this;void 0===a&&(a=[]);var c=a.map(function(a){return b.set(a.id,a)});return Promise.all(c).then(function(a){return void 0===a&&(a=[]),a})},b.prototype.hasStoreItem=function(a){return this.getStoreItem(a).then(function(a){return!!a})},b.prototype.getStoreItem=function(a){return this.getStoreItems([a]).then(function(a){return void 0===a&&(a=[]),a.shift()})},b.prototype.removeStoreItem=function(a){return this.removeStoreItems([a]).then(function(a){return void 0===a&&(a=[]),a.shift()})},b.prototype.saveStoreItem=function(a){return this.saveStoreItems([a]).then(function(a){return void 0===a&&(a=[]),a.shift()})},b}(g),o=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.getPrefix=function(){return"dummy-game-storage"},b.prototype.query=function(a,b,c){return Promise.resolve([])},b}(g),p=function(){function a(){}return a.prototype.getId=function(){return Promise.resolve("this-is-dummy-store-id")},a.prototype.getAllItems=function(){return Promise.resolve([{id:"this-is-dummy-item-id",type:null,name:"this-is-dummy-item-name",price:0,bought:!1,quantity:0,order:0,description:"this-is-dummy-item-description",storeId:"this-is-dummy-item-storeId"}])},a.prototype.getFilteredItems=function(a){return Promise.resolve([])},a.prototype.openStore=function(a,b){var c=this,d=200;return Promise.resolve().delay(d).then(function(){h.broadcast(e[e.STORE_OPENED],c)}).delay(d).then(function(){return c.buyItem(a.selectedItemId,1).then(function(a){b(a)})}).delay(d).then(function(){h.broadcast(e[e.STORE_CLOSED],c)})},a.prototype.getItem=function(a){if(void 0===a&&(a=""),a=String(a),"_"===a.charAt(0))return null;var b=d();return b.id=a,Promise.resolve(b)},a.prototype.buyItems=function(a,b){var c=this;void 0===a&&(a=[]),void 0===b&&(b=[]);var d=a.map(function(a,d){var e=0|b[d];return c.userStoreItemsStorage.getStoreItem(a).then(function(b){return b?b:c.getItem(a).then(function(b){if(b)return b.quantity=0,b;throw new Error('Item not found "'+a+'"')})}).then(function(a){return a.quantity=+a.quantity+e,a})});return Promise.all(d).then(function(a){return void 0===a&&(a=[]),a.forEach(function(a){h.broadcast(e[e.ITEM_BOUGHT],a)}),c.userStoreItemsStorage.saveStoreItems(a)})},a.prototype.buyItem=function(a,b){return this.buyItems([a],[b]).then(function(a){return void 0===a&&(a=[]),a.shift()})},a.prototype.consumeItem=function(a,b){var c=this;return b=+b,this.userStoreItemsStorage.getStoreItem(a).then(function(d){if(!d)throw new Error("You don't own item \""+a+'"');if(+d.quantity<b)throw new Error("Insufficient resources. You have "+ +d.quantity+", you want to consume "+b);return d.quantity-=b,c.userStoreItemsStorage.saveStoreItem(d)})},a}();h.on(e[e.GAME_STARTING],function(b){window.setTimeout(function(){var c,d,g=new o,q=new j,r=new l,s=new n,t=new p;t.userStoreItemsStorage=s,h.once(e[e.SOCIAL_REGISTRY_READY],function(){c?(d=new m(c),h.broadcast(e[e.PUBLISHER_HAS_OWN_SOCIAL],d)):h.once(e[e.PUBLISHER_HAS_OWN_USER_LIFE_STORAGE],function(a){d=new m(a),h.broadcast(e[e.PUBLISHER_HAS_OWN_SOCIAL],d)})}),h.once(e[e.GAME_STORAGE_REGISTRY_READY],function(){h.broadcast(e[e.PUBLISHER_HAS_OWN_GAME_STORAGE],g)}),h.once(f[f.USER_ENERGY_STORAGE_REGISTRY_READY],function(){h.broadcast(f[f.PUBLISHER_HAS_OWN_USER_ENERGY_STORAGE],q)}),h.once(f[f.USER_LIFE_STORAGE_REGISTRY_READY],function(a){h.broadcast(f[f.PUBLISHER_HAS_OWN_USER_LIFE_STORAGE],c=new k(a))}),h.once(f[f.USER_META_DATA_STORAGE_REGISTRY_READY],function(){h.broadcast(f[f.PUBLISHER_HAS_OWN_USER_META_DATA_STORAGE],r)}),h.once(f[f.USER_STORE_ITEMS_STORAGE_REGISTRY_READY],function(){h.broadcast(f[f.PUBLISHER_HAS_OWN_USER_STORE_ITEMS_STORAGE],s)}),h.once(e[e.STORE_REGISTRY_READY],function(){h.broadcast(e[e.PUBLISHER_HAS_OWN_STORE],t)}),h.once(f[f.NETWORK_REGISTRY_READY],function(b){h.once(i[i.NETWORK_CONNECT_SUCCESS],function(){h.broadcast(f[f.PUBLISHER_HAS_OWN_NETWORK],a.PLUGINS.NETWORK.NUGGETA.nuggetaNetwork)}),h.broadcast(i[i.NETWORK_REQUESTED_START],b)}),h.broadcast(e[e.PUBLISHER_STARTED],b.allowLoader)},0)}),h.on(e[e.GAME_REQUESTED_START],function(){window.setTimeout(function(){h.broadcast(e[e.GAME_START],null)},0)}),h.on(e[e.GAME_REQUESTED_NEW],function(){window.setTimeout(function(){h.broadcast(e[e.GAME_NEW],null)},0)}),h.on(e[e.GAME_REQUESTED_END],function(){window.setTimeout(function(){h.broadcast(e[e.GAME_END],null)},0)}),h.on(e[e.GAME_REQUESTED_QUIT],function(){window.setTimeout(function(){h.broadcast(e[e.GAME_QUIT],null)},0)}),h.on(e[e.GAME_REQUESTED_SAVE_SCORE],function(){window.setTimeout(function(){h.broadcast(e[e.GAME_SAVED_SCORE],null)},0)}),h.on(e[e.GAME_REQUESTED_ACHIEVEMENT],function(){window.setTimeout(function(){h.broadcast(e[e.GAME_ACHIEVED_ACHIEVEMENT],null)},0)}),h.on(e[e.PUBLISHER_REQUESTED_PAUSE],function(){window.setTimeout(function(){h.broadcast(e[e.PUBLISHER_REQUESTED_RESUME],null)},2e3)})}(c=b.dummy||(b.dummy={}))}(c=b.PUBLISHERS||(b.PUBLISHERS={}))}(c=b.PUBLISHERAPI||(b.PUBLISHERAPI={}))}(b=a.PLUGINS||(a.PLUGINS={}))}(DUST||(DUST={}));var axios=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){a.exports=c(1)},function(a,b,c){"use strict";var d=c(3),e=c(4),f=c(5),g=c(6),h=c(7);!function(){var a=c(2);a&&"function"==typeof a.polyfill&&a.polyfill()}();var i=a.exports=function j(a){a=e.merge({method:"get",headers:{},transformRequest:d.transformRequest,transformResponse:d.transformResponse},a),a.withCredentials=a.withCredentials||d.withCredentials;var b=[g,void 0],c=Promise.resolve(a);for(j.interceptors.request.forEach(function(a){b.unshift(a.fulfilled,a.rejected)}),j.interceptors.response.forEach(function(a){b.push(a.fulfilled,a.rejected)});b.length;)c=c.then(b.shift(),b.shift());return c.success=function(a){return f("success","then","https://github.com/mzabriskie/axios/blob/master/README.md#response-api"),c.then(function(b){a(b.data,b.status,b.headers,b.config)}),c},c.error=function(a){return f("error","catch","https://github.com/mzabriskie/axios/blob/master/README.md#response-api"),c.then(null,function(b){a(b.data,b.status,b.headers,b.config)}),c},c};i.defaults=d,i.all=function(a){return Promise.all(a)},i.spread=c(8),i.interceptors={request:new h,response:new h},function(){function a(){e.forEach(arguments,function(a){i[a]=function(b,c){return i(e.merge(c||{},{method:a,url:b}))}})}function b(){e.forEach(arguments,function(a){i[a]=function(b,c,d){return i(e.merge(d||{},{method:a,url:b,data:c}))}})}a("delete","get","head"),b("post","put","patch")}()},function(a){a.exports={Promise:Promise}},function(a,b,c){"use strict";var d=c(4),e=/^\)\]\}',?\n/,f={"Content-Type":"application/x-www-form-urlencoded"};a.exports={transformRequest:[function(a,b){return d.isFormData(a)?a:d.isArrayBuffer(a)?a:d.isArrayBufferView(a)?a.buffer:!d.isObject(a)||d.isFile(a)||d.isBlob(a)?a:(!d.isUndefined(b)&&d.isUndefined(b["Content-Type"])&&(b["Content-Type"]="application/json;charset=utf-8"),JSON.stringify(a))}],transformResponse:[function(a){if("string"==typeof a){a=a.replace(e,"");try{a=JSON.parse(a)}catch(b){}}return a}],headers:{common:{Accept:"application/json, text/plain, */*"},patch:d.merge(f),post:d.merge(f),put:d.merge(f)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"}},function(a){"use strict";function b(a){return"[object Array]"===p.call(a)}function c(a){return"[object ArrayBuffer]"===p.call(a)}function d(a){return"[object FormData]"===p.call(a)}function e(a){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer&&a.buffer instanceof ArrayBuffer}function f(a){return"string"==typeof a}function g(a){return"number"==typeof a}function h(a){return"undefined"==typeof a}function i(a){return null!==a&&"object"==typeof a}function j(a){return"[object Date]"===p.call(a)}function k(a){return"[object File]"===p.call(a)}function l(a){return"[object Blob]"===p.call(a)}function m(a){return a.replace(/^\s*/,"").replace(/\s*$/,"")}function n(a,c){if(null!==a&&"undefined"!=typeof a){var d=b(a)||"object"==typeof a&&!isNaN(a.length);if("object"==typeof a||d||(a=[a]),d)for(var e=0,f=a.length;f>e;e++)c.call(null,a[e],e,a);else for(var g in a)a.hasOwnProperty(g)&&c.call(null,a[g],g,a)}}function o(){var a={};return n(arguments,function(b){n(b,function(b,c){a[c]=b})}),a}var p=Object.prototype.toString;a.exports={isArray:b,isArrayBuffer:c,isFormData:d,isArrayBufferView:e,isString:f,isNumber:g,isObject:i,isUndefined:h,isDate:j,isFile:k,isBlob:l,forEach:n,merge:o,trim:m}},function(a){"use strict";a.exports=function(a,b,c){try{console.warn("DEPRECATED method `"+a+"`."+(b?" Use `"+b+"` instead.":"")+" This method will be removed in a future release."),c&&console.warn("For more information about usage see "+c)}catch(d){}}},function(a,b,c){(function(b){"use strict";a.exports=function(a){return new Promise(function(d,e){try{"undefined"!=typeof window?c(9)(d,e,a):"undefined"!=typeof b&&c(9)(d,e,a)}catch(f){e(f)}})}}).call(b,c(10))},function(a,b,c){"use strict";function d(){this.handlers=[]}var e=c(4);d.prototype.use=function(a,b){return this.handlers.push({fulfilled:a,rejected:b}),this.handlers.length-1},d.prototype.eject=function(a){this.handlers[a]&&(this.handlers[a]=null)},d.prototype.forEach=function(a){e.forEach(this.handlers,function(b){null!==b&&a(b)})},a.exports=d},function(a){"use strict";a.exports=function(a){return function(b){a.apply(null,b)}}},function(a,b,c){"use strict";var d=c(3),e=c(4),f=c(11),g=c(12),h=c(13),i=c(14),j=c(15);a.exports=function(a,b,c){var k=i(c.data,c.headers,c.transformRequest),l=e.merge(d.headers.common,d.headers[c.method]||{},c.headers||{});e.isFormData(k)&&delete l["Content-Type"];var m=new(XMLHttpRequest||ActiveXObject)("Microsoft.XMLHTTP");m.open(c.method.toUpperCase(),f(c.url,c.params),!0),m.onreadystatechange=function(){if(m&&4===m.readyState){var d=h(m.getAllResponseHeaders()),e=-1!==["text",""].indexOf(c.responseType||"")?m.responseText:m.response,f={data:i(e,d,c.transformResponse),status:m.status,statusText:m.statusText,headers:d,config:c};(m.status>=200&&m.status<300?a:b)(f),m=null}};var n=j(c.url)?g.read(c.xsrfCookieName||d.xsrfCookieName):void 0;if(n&&(l[c.xsrfHeaderName||d.xsrfHeaderName]=n),e.forEach(l,function(a,b){k||"content-type"!==b.toLowerCase()?m.setRequestHeader(b,a):delete l[b]}),c.withCredentials&&(m.withCredentials=!0),c.responseType)try{m.responseType=c.responseType}catch(o){if("json"!==m.responseType)throw o}e.isArrayBuffer(k)&&(k=new DataView(k)),m.send(k)}},function(a){function b(){if(!f){f=!0;for(var a,b=e.length;b;){a=e,e=[];for(var c=-1;++c<b;)a[c]();b=e.length}f=!1}}function c(){}var d=a.exports={},e=[],f=!1;d.nextTick=function(a){e.push(a),f||setTimeout(b,0)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(a,b,c){"use strict";function d(a){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}var e=c(4);a.exports=function(a,b){if(!b)return a;var c=[];return e.forEach(b,function(a,b){null!==a&&"undefined"!=typeof a&&(e.isArray(a)||(a=[a]),e.forEach(a,function(a){e.isDate(a)?a=a.toISOString():e.isObject(a)&&(a=JSON.stringify(a)),c.push(d(b)+"="+d(a))}))}),c.length>0&&(a+=(-1===a.indexOf("?")?"?":"&")+c.join("&")),a}},function(a,b,c){"use strict";var d=c(4);a.exports={write:function(a,b,c,e,f,g){var h=[];h.push(a+"="+encodeURIComponent(b)),d.isNumber(c)&&h.push("expires="+new Date(c).toGMTString()),d.isString(e)&&h.push("path="+e),d.isString(f)&&h.push("domain="+f),g===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(a){var b=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return b?decodeURIComponent(b[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}},function(a,b,c){"use strict";var d=c(4);a.exports=function(a){var b,c,e,f={};return a?(d.forEach(a.split("\n"),function(a){e=a.indexOf(":"),b=d.trim(a.substr(0,e)).toLowerCase(),c=d.trim(a.substr(e+1)),b&&(f[b]=f[b]?f[b]+", "+c:c)}),f):f}},function(a,b,c){"use strict";var d=c(4);a.exports=function(a,b,c){return d.forEach(c,function(c){a=c(a,b)}),a}},function(a,b,c){"use strict";function d(a){var b=a;return g&&(h.setAttribute("href",b),b=h.href),h.setAttribute("href",b),{href:h.href,protocol:h.protocol?h.protocol.replace(/:$/,""):"",host:h.host,search:h.search?h.search.replace(/^\?/,""):"",hash:h.hash?h.hash.replace(/^#/,""):"",hostname:h.hostname,port:h.port,pathname:"/"===h.pathname.charAt(0)?h.pathname:"/"+h.pathname}}var e,f=c(4),g=/(msie|trident)/i.test(navigator.userAgent),h=document.createElement("a");e=d(window.location.href),a.exports=function(a){var b=f.isString(a)?d(a):a;return b.protocol===e.protocol&&b.host===e.host}}]);!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d;!function(a){a[a.cantarell_white=0]="cantarell_white"}(d||(d={})),c.Fonts=d},{}],2:[function(a,b,c){function d(a,b){return void 0===a&&(a=0),void 0===b&&(b=1),function(c){var d=c.prototype;d.onBeforeAttach=function(){this.sprite.alpha=0},d.onAfterAttach=function(c){var d=this;window.setTimeout(function(){d.animationEnable(),d.sprite.speed=1.2*b,d.sprite.acceleration=.8*b,d.sprite.animate.fade(1,function(){c(),d.animationDisable()})},a)},d.onBeforeRemove=function(c){var d=this;window.setTimeout(function(){d.animationEnable(),d.sprite.speed=1.2*b,d.sprite.acceleration=.8*b,d.sprite.animate.fade(0,function(){c(),d.animationDisable()})},a)}}}c.FadeInOut=d},{}],3:[function(a,b,c){function d(a,b,c){return void 0===a&&(a=0),void 0===b&&(b=1),void 0===c&&(c=1),function(d){var e=d.prototype;e.onBeforeAttach=function(){this.sprite.scale.x=this.sprite.scale.y=0},e.onAfterAttach=function(d){var e=this;window.setTimeout(function(){e.animationEnable(),e.sprite.speed=2*b,e.sprite.acceleration=.8*b,e.sprite.animate.zoom(1.2*c,function(){e.sprite.speed=1*b,e.sprite.acceleration=.8*b,e.sprite.animate.zoom(1*c,function(){d(),e.animationDisable()})})},a)},e.onBeforeRemove=function(d){var e=this;window.setTimeout(function(){e.animationEnable(),e.sprite.speed=2*b,e.sprite.acceleration=.8*b,e.sprite.animate.zoom(1.4*c,function(){e.sprite.speed=2*b,e.sprite.acceleration=1.6*b,e.sprite.animate.zoom(0,function(){d(),e.animationDisable()})})},a)}}}c.ZoomInOut=d},{}],4:[function(a,b,c){var d={nugplay:{gameId:null,s2sEnabled:!1,debugPlayerId:null}};c.api=d},{}],5:[function(a,b,c){var d={audio:[],audioSprite:[],graphic:["game/assets/images/game-0.json","game/assets/images/game-0.png","game/assets/fonts/cantarell_white.xml","game/assets/fonts/cantarell_white.png"]};c.assetList=d},{}],6:[function(a,b,c){function d(){return e||(e=new o),e}var e,f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},g=PIXI.Graphics,h=DUST.isMobileDevice,i=DUST.GRAPHIC.Entity,j=DUST.GRAPHIC.EntityOptions,k=DUST.GRAPHIC.mainScene,l=a("../../layers/bottom"),m=a("../../viewPort"),n=function(a){function b(){a.call(this),this.container=l.bottom,this.name="background-image",this.type="spriteFromFrame",this.asset="bg.jpg",this.anchor={x:.5,y:0}}return f(b,a),b}(j),o=function(a){function b(){a.call(this,new n),this.selfAttach(),h()||(this.desktopMask=new g,this.desktopMask.beginFill(0,1),this.desktopMask.drawRect(-this.sprite.width/2,0,this.sprite.width,m.viewPort.height),this.desktopMask.endFill(),k.addChild(this.desktopMask),k.mask=this.desktopMask)}return f(b,a),b}(i);c.background=d},{"../../layers/bottom":34,"../../viewPort":51}],7:[function(a,b,c){function d(){return e||(e=new n),e}var e,f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},g=DUST.COMPONENT.EntityTextAlign,h=DUST.COMPONENT.EntityTextOptions,i=DUST.COMPONENT.FontSettings,j=DUST.COMPONENT.Text,k=a("../../Fonts"),l=a("../../version"),m=function(a){function b(b){a.call(this,b),this.name="versionText",this.font=new i(16,k.Fonts[k.Fonts.cantarell_white]),this.align=g.CENTER,this.x=0,this.y=40}return f(b,a),b}(h),n=function(a){function b(){a.call(this,new m(l.version))}return f(b,a),b}(j);c.versionText=d},{"../../Fonts":1,"../../version":50}],8:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=DUST.GRAPHIC.Entity,f=DUST.PLUGINS.UUID.RFC4122.uuid,g=a("./LottoBallInterfaces"),h=a("./LottoBallOptions"),i=a("./LottoBallInactive"),j=a("./LottoBallActivating"),k=a("./LottoBallActiveLucky"),l=a("./LottoBallActiveUnlucky"),m=function(a){function b(b){this.id=f.v4(),this.ballNumber=b,a.call(this,new h.LottoBallOptions(this.id)),this.buildStates(),this.setState(g.LottoBallStates.inactive),this.interact()}return d(b,a),b.prototype.interact=function(){var a=this;this.makeInteractive(!0),this.onInteractionStart(function(){a.handleInput()})},b.prototype.setState=function(a){var b=this;return this.state=a,this.clearState().then(function(){return b.ballStates[g.LottoBallStates[a]].enable()}).then(function(){return b})},b.prototype.handleInput=function(){return this.ballStates[g.LottoBallStates[this.state]].inputHandler()},b.prototype.clearState=function(){return Promise.all([this.ballStates.inactive.disable(),this.ballStates.activating.disable(),this.ballStates.activeLucky.disable(),this.ballStates.activeUnlucky.disable()])},b.prototype.buildStates=function(){this.ballStates={inactive:new i.LottoBallInactive(this,this.id),activating:new j.LottoBallActivating(this,this.id),activeLucky:new k.LottoBallActiveLucky(this,this.id),activeUnlucky:new l.LottoBallActiveUnlucky(this,this.id)}},b}(e);c.LottoBall=m},{"./LottoBallActivating":9,"./LottoBallActiveLucky":10,"./LottoBallActiveUnlucky":11,"./LottoBallInactive":12,"./LottoBallInterfaces":13,"./LottoBallOptions":14}],9:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("../../../gameApi"),f=a("./LottoBallInterfaces"),g=a("./LottoBallOptions"),h=a("./LottoBallStateEntity"),i=function(a){function b(b,c){a.call(this,new g.LottoBallActivatingOptions(b,c)),this.ball=b}return d(b,a),b.prototype.enableHandler=function(){var a=this;return e.gameApi.pick([this.ball.ballNumber]).then(function(b){return b.results[0].lucky?a.ball.setState(f.LottoBallStates.activeLucky):a.ball.setState(f.LottoBallStates.activeUnlucky)}).then(function(){return{stateItem:a,result:null}})},b}(h.LottoBallStateEntity);c.LottoBallActivating=i},{"../../../gameApi":27,"./LottoBallInterfaces":13,"./LottoBallOptions":14,"./LottoBallStateEntity":15}],10:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./LottoBallOptions"),f=a("./LottoBallStateEntity"),g=function(a){function b(b,c){a.call(this,new e.LottoBallActiveLuckyOptions(b,c)),this.ball=b}return d(b,a),b}(f.LottoBallStateEntity);c.LottoBallActiveLucky=g},{"./LottoBallOptions":14,"./LottoBallStateEntity":15}],11:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./LottoBallOptions"),f=a("./LottoBallStateEntity"),g=function(a){function b(b,c){a.call(this,new e.LottoBallActiveUnluckyOptions(b,c)),this.ball=b}return d(b,a),b}(f.LottoBallStateEntity);c.LottoBallActiveUnlucky=g},{"./LottoBallOptions":14,"./LottoBallStateEntity":15}],12:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./LottoBallInterfaces"),f=a("./LottoBallOptions"),g=a("./LottoBallStateEntity"),h=function(a){function b(b,c){a.call(this,new f.LottoBallInactiveOptions(b,c)),this.ball=b}return d(b,a),b.prototype.inputHandler=function(){var a=this;return Promise.resolve({stateItem:this,result:null}).then(function(){return a.ball.setState(e.LottoBallStates.activating)}).then(function(){return{stateItem:a,result:null}})},b}(g.LottoBallStateEntity);c.LottoBallInactive=h},{"./LottoBallInterfaces":13,"./LottoBallOptions":14,"./LottoBallStateEntity":15}],13:[function(a,b,c){var d;!function(a){a[a.inactive=0]="inactive",a[a.activating=1]="activating",a[a.activeLucky=2]="activeLucky",a[a.activeUnlucky=3]="activeUnlucky"}(d||(d={})),c.LottoBallStates=d},{}],14:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=DUST.GRAPHIC.EntityOptions,f=a("../../../layers/middle"),g=a("./LottoBallInterfaces"),h=function(a){function b(b){a.call(this),this.container=f.middle,this.name="lottoBall/"+b,this.type="container"}return d(b,a),b}(e);c.LottoBallOptions=h;var i=function(a){function b(b,c){a.call(this),this.container=b,this.name=c+"/"+g.LottoBallStates[g.LottoBallStates.inactive],this.type="spriteFromFrame",this.asset="lottoBall/"+g.LottoBallStates[g.LottoBallStates.inactive]+".png"}return d(b,a),b}(e);c.LottoBallInactiveOptions=i;var j=function(a){function b(b,c){a.call(this),this.container=b,this.name=c+"/"+g.LottoBallStates[g.LottoBallStates.activating],this.type="spriteFromFrame",this.asset="lottoBall/"+g.LottoBallStates[g.LottoBallStates.activating]+".png"}return d(b,a),b}(e);c.LottoBallActivatingOptions=j;var k=function(a){function b(b,c){a.call(this),this.container=b,this.name=c+"/"+g.LottoBallStates[g.LottoBallStates.activeLucky],this.type="spriteFromFrame",this.asset="lottoBall/"+g.LottoBallStates[g.LottoBallStates.activeLucky]+".png"}return d(b,a),b}(e);c.LottoBallActiveLuckyOptions=k;var l=function(a){function b(b,c){a.call(this),this.container=b,this.name=c+"/"+g.LottoBallStates[g.LottoBallStates.activeUnlucky],this.type="spriteFromFrame",this.asset="lottoBall/"+g.LottoBallStates[g.LottoBallStates.activeUnlucky]+".png"}return d(b,a),b}(e);c.LottoBallActiveUnluckyOptions=l},{"../../../layers/middle":35,"./LottoBallInterfaces":13}],15:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=DUST.GRAPHIC.Entity,f=function(a){function b(b){a.call(this,b)}return d(b,a),b.prototype.selfRemove=function(b){var c=this;return a.prototype.selfRemove.call(this,b).then(function(){return c})},b.prototype.selfAttach=function(b){var c=this;return a.prototype.selfAttach.call(this,b).then(function(){return c})},b.prototype.inputHandler=function(){return Promise.resolve({stateItem:this,result:null})},b.prototype.enableHandler=function(){return Promise.resolve({stateItem:this,result:null})},b.prototype.disableHandler=function(){return Promise.resolve({stateItem:this,result:null})},b.prototype.enable=function(){var a=this;return this.selfAttach().then(function(){return a.enableHandler()}).then(function(){return a})},b.prototype.disable=function(){var a=this;return Promise.resolve().then(function(){return a.disableHandler()}).then(function(){return a.selfRemove()})},b}(e);c.LottoBallStateEntity=f},{}],16:[function(a,b,c){function d(){if(!i.length)for(var a=f.viewPort.width/7,b=f.viewPort.height/7,c=1;49>=c;c+=1){var d=-f.viewPort.width/2+a*((c-1)%7)+a/2,e=b*Math.floor((c-1)/7)+b/2;i.push(new h(c,d,e))}return i}var e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=a("../../viewPort"),g=a("./LottoBall/LottoBall"),h=function(a){function b(b,c,d){a.call(this,b),this.y=d,this.x=c}return e(b,a),b}(g.LottoBall),i=[];c.exampleLottoBalls=d},{"../../viewPort":51,"./LottoBall/LottoBall":8}],17:[function(a,b,c){function d(){return e||(e=new l),e}var e,f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},g=DUST.event,h=DUST.COMPONENT.ButtonIcon,i=a("../../../layers/middle"),j=a("../../../viewPort"),k=a("../../../flow/Events"),l=function(a){function b(){a.call(this,"buttons/button",[],i.middle),this.y=j.viewPort.height/2}return f(b,a),b.prototype.action=function(){this.makeStatic(),g.broadcast(k.Events[k.Events.gameRequestedStart],null)},b}(h);c.startGameButton=d},{"../../../flow/Events":18,"../../../layers/middle":35,"../../../viewPort":51}],18:[function(a,b,c){var d;!function(a){a[a.gameSetupSingle=0]="gameSetupSingle",a[a.gameRequestedStart=1]="gameRequestedStart",a[a.gameStarted=2]="gameStarted",a[a.gameRequestedEnd=3]="gameRequestedEnd",a[a.gameEnded=4]="gameEnded",a[a.matchRequestedStart=5]="matchRequestedStart",a[a.matchStared=6]="matchStared",a[a.matchSceneStarted=7]="matchSceneStarted",a[a.matchRequestedEnd=8]="matchRequestedEnd",a[a.matchEnded=9]="matchEnded"}(d||(d={})),c.Events=d},{}],19:[function(a,b,c){var d;!function(a){a[a.single=0]="single"}(d||(d={})),c.GameTypes=d},{}],20:[function(a,b,c){var d=DUST.event,e=a("./Events"),f=function(){function a(){this.players=[]}return a.prototype.start=function(){d.broadcast(e.Events[e.Events.matchStared],null)},a.prototype.stop=function(){d.broadcast(e.Events[e.Events.matchEnded],null)},a.prototype.addPlayer=function(a){return this.players.push(a),a},a.prototype.removePlayer=function(a){var b=this.players.indexOf(a);return-1!==b?this.players.splice(b,1)[0]:null},a}();c.Match=f},{"./Events":18}],21:[function(a,b,c){var d=function(){function a(a){this.meta={name:a.name,id:a.id}}return a}();c.Player=d},{}],22:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./Player"),f=function(a){function b(b){a.call(this,b)}return d(b,a),b}(e.Player);c.PlayerLocal=f},{"./Player":21}],23:[function(a,b,c){},{}],24:[function(a,b,c){var d=DUST.event,e=DUST.scenes,f=a("../scenes/List"),g=a("./Match"),h=a("./Events"),i=a("./state"),j=a("./GameTypes"),k=a("./PlayerLocal"),l=a("../gameApi");d.on(h.Events[h.Events.gameSetupSingle],function(){i.state.gameType=j.GameTypes.single}),d.on(h.Events[h.Events.gameRequestedStart],function(){l.gameApi.sessionGuest().then(function(){return l.gameApi.config()}).then(function(){d.broadcast(h.Events[h.Events.gameStarted],null)})["catch"](function(a){})}),d.on(h.Events[h.Events.gameStarted],function(){d.broadcast(h.Events[h.Events.matchRequestedStart],null)}),d.on(h.Events[h.Events.matchRequestedStart],function(){l.gameApi.start().then(function(a){i.state.match=new g.Match,i.state.match.addPlayer(new k.PlayerLocal({id:"me",name:"Me"})),e["switch"](f.List[f.List.match])})["catch"](function(a){})}),d.on(h.Events[h.Events.matchRequestedEnd],function(){l.gameApi.forfeit().then(function(){i.state.match.stop()})["catch"](function(a){})}),d.on(h.Events[h.Events.matchEnded],function(){i.state.match=null,d.broadcast(h.Events[h.Events.gameRequestedEnd],null)}),d.on(h.Events[h.Events.gameRequestedEnd],function(){d.broadcast(h.Events[h.Events.gameEnded],null)}),d.on(h.Events[h.Events.gameEnded],function(){e["switch"](f.List[f.List.standings])})},{"../gameApi":27,"../scenes/List":44,"./Events":18,"./GameTypes":19,"./Match":20,"./PlayerLocal":22,"./state":25}],25:[function(a,b,c){var d=function(){function a(){}return Object.defineProperty(a.prototype,"match",{get:function(){if(this._match)return this._match;throw new Error("No match created")},set:function(a){if(a){if(this._match)throw new Error("Match already created");this._match=a}else{if(!this._match)throw new Error("No match created");delete this._match}},enumerable:!0,configurable:!0}),a}(),e=new d;c.state=e},{}],26:[function(a,b,c){function d(){e.play("silence",!0),g.layers(),h.loop(),m.background(),i.match(),j.lobby(),k.standings(),l.welcome(),f.soundScreen().show()}var e=DUST.ASSETS.AUDIO.init,f=a("./plugins/soundScreen"),g=a("./layers"),h=a("./loop"),i=a("./scenes/match"),j=a("./scenes/lobby"),k=a("./scenes/standings"),l=a("./scenes/welcome"),m=a("./components/common/background");c.game=d},{"./components/common/background":6,"./layers":33,"./loop":38,"./plugins/soundScreen":41,"./scenes/lobby":45,"./scenes/match":46,"./scenes/standings":47,"./scenes/welcome":48}],27:[function(a,b,c){var d=a("./gameApi/GameApiRemote"),e=new d.GameApiRemote(100,"LOSERS_LOTTO","https://bornlucky-test.gamevy.com","x-gamevy-session-token","459d2e60-ff41-4237-937c-f5a2242dcafe",null);c.gameApi=e},{"./gameApi/GameApiRemote":29}],28:[function(a,b,c){},{}],29:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./RemoteResource"),f=function(a){function b(b,c,d,e,f,g){a.call(this,d,e,g),this.gameBet={CASH:0},this.urls={config:"/losers-lotto/config",start:"/losers-lotto/start",ongoing:"/losers-lotto/ongoing",pick:"/losers-lotto/pick",forfeit:"/losers-lotto/forfeit",sessionGuest:"/losers-lotto-session/guest",sessionUser:"/losers-lotto-session/create"},this.gameCode=c,this.gameClientToken=f,this.gameBet.CASH=b}return d(b,a),b.prototype.config=function(){var a=this;return this.get(this.urls.config).then(function(b){return a.gameVersion=b.version,a.gamePayTable=b.payTable,b})},b.prototype.start=function(){var a=this,b={version:this.gameVersion,bet:this.gameBet};return this.post(this.urls.start,b).then(function(b){return a.gameInstanceId=b.gameInstanceId,b})},b.prototype.ongoing=function(){return this.get(this.urls.ongoing)},b.prototype.pick=function(a){var b={gameInstanceId:this.gameInstanceId,scratchedNumbers:a};return this.post(this.urls.pick,b)},b.prototype.forfeit=function(){return this.post(this.urls.forfeit)},b.prototype.sessionGuest=function(){var a=this;return this.post(this.urls.sessionGuest).then(function(b){return a.sessionId=b.sessionToken,b})},b.prototype.sessionUser=function(){var a=this;({clientToken:this.gameClientToken,gameCode:this.gameCode});return this.post(this.urls.sessionGuest).then(function(b){return a.sessionId=b.sessionToken,b})},b}(e.RemoteResource);c.GameApiRemote=f},{"./RemoteResource":30}],30:[function(a,b,c){var d=function(){function a(a,b,c){this.urls={},this.requestUrl=a,this.sessionHeaderName=b,this.sessionId=c}return a.prototype._getHeaders=function(){var a={};return a[this.sessionHeaderName]=this.sessionId,a},a.prototype.get=function(a,b){return axios.get(this.requestUrl+a,{headers:this._getHeaders(),params:b}).then(function(a){return Promise.resolve(a.data)})},a.prototype.post=function(a,b){return axios.post(this.requestUrl+a,b,{headers:this._getHeaders()
}).then(function(a){return Promise.resolve(a.data)})},a}();c.RemoteResource=d},{}],31:[function(a,b,c){var d={WELCOME:"Welcome to a new game"};c.i18n=d},{}],32:[function(a,b,c){var d=DUST.PLUGINS.PUBLISHERAPI.events,e=DUST.PLUGINS.LOADERS.Hog,f=DUST.PLUGINS.ROTATION.classic,g=a("./game"),h=a("./assetList"),i=a("./viewPort"),j=a("./api"),k=function(){var a={name:"playground",assetList:h.assetList,loaderAssetPath:"build",viewPort:i.viewPort,game:function(){f().handleRotation(),g.game()},events:{GAME_STARTING:d.GAME_STARTING,GAME_REQUESTED_START:d.GAME_REQUESTED_START,GAME_START:d.GAME_START,DEPENDENCIES_STARTED:d.PUBLISHER_STARTED},api:j.api};return f({viewPort:a.viewPort,orientationAssetPath:"build"}),new e(a)}();c.init=k},{"./api":4,"./assetList":5,"./game":26,"./viewPort":51}],33:[function(a,b,c){var d=a("./layers/bottom"),e=a("./layers/middle"),f=a("./layers/top"),g=a("./layers/overlay"),h=function(){return{bottom:d.bottom,middle:e.middle,top:f.top,overlay:g.overlay}};c.layers=h},{"./layers/bottom":34,"./layers/middle":35,"./layers/overlay":36,"./layers/top":37}],34:[function(a,b,c){var d=DUST.COMPONENT.Layer,e=function(){function a(){this._instance=new d("bottom",0)}return Object.defineProperty(a.prototype,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),a}(),f=(new e).instance;c.bottom=f},{}],35:[function(a,b,c){var d=DUST.COMPONENT.Layer,e=function(){function a(){this._instance=new d("middle",1)}return Object.defineProperty(a.prototype,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),a}(),f=(new e).instance;c.middle=f},{}],36:[function(a,b,c){var d=DUST.COMPONENT.Layer,e=function(){function a(){this._instance=new d("overlay",3)}return Object.defineProperty(a.prototype,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),a}(),f=(new e).instance;c.overlay=f},{}],37:[function(a,b,c){var d=DUST.COMPONENT.Layer,e=function(){function a(){this._instance=new d("top",2)}return Object.defineProperty(a.prototype,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),a}(),f=(new e).instance;c.top=f},{}],38:[function(a,b,c){function d(){}DUST.PHYSICS.bodies,a("./world");c.loop=d},{"./world":52}],39:[function(a,b,c){function d(){return e||(e=new f(g.overlay,h.version),e.x=0,e.y=0,e.setArea(100,100)),e}var e,f=DUST.PLUGINS.DebugTrigger,g=a("../layers/overlay"),h=a("../version");c.debugTrigger=d},{"../layers/overlay":36,"../version":50}],40:[function(a,b,c){function d(){return e||(e=new r),e}var e,f=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},g=this&&this.__decorate||function(a,b,c,d){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(a,b,c,d);switch(arguments.length){case 2:return a.reduceRight(function(a,b){return b&&b(a)||a},b);case 3:return a.reduceRight(function(a,d){return void(d&&d(b,c))},void 0);case 4:return a.reduceRight(function(a,d){return d&&d(b,c,a)||a},d)}},h=DUST.PLUGINS.FullScreenButton,i=DUST.PLUGINS.FullScreenButtonOptions,j=DUST.COMPONENT.Button,k=DUST.COMPONENT.EntityButtonOptions,l=a("../layers/top"),m=a("../animations/FadeInOut"),n=function(a){function b(){a.call(this),this.name="dust.plugins.fullScreenButton/buttonOn",this.container=l.top,this.buttonAssets={normal:"buttons/button_fullscreen.png",press:"buttons/button_fullscreen_pressed.png",hover:"buttons/button_fullscreen_hover.png"}}return f(b,a),b}(k),o=function(a){function b(){a.call(this),this.name="dust.plugins.fullScreenButton/buttonOff",this.container=l.top,this.buttonAssets={normal:"buttons/button_fullscreenOff.png",press:"buttons/button_fullscreenOff_pressed.png",hover:"buttons/button_fullscreenOff_hover.png"}}return f(b,a),b}(k),p=function(a){function b(){a.call(this,new n)}return f(b,a),b}(j),q=function(a){function b(){a.call(this,new o)}return f(b,a),b}(j),r=function(a){function b(){a.call(this,new i({container:l.top,fullScreenButtonOn:new p,fullScreenButtonOff:new q})),this.x=450,this.y=38.5,this.sprite.scale.x=this.sprite.scale.y=.7}return f(b,a),b=g([m.FadeInOut()],b)}(h);c.fullScreen=d},{"../animations/FadeInOut":2,"../layers/top":37}],41:[function(a,b,c){function d(){return w||(w=new l(new u,new v,"welcome",[new t])),w}var e=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},f=this&&this.__decorate||function(a,b,c,d){if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)return Reflect.decorate(a,b,c,d);switch(arguments.length){case 2:return a.reduceRight(function(a,b){return b&&b(a)||a},b);case 3:return a.reduceRight(function(a,d){return void(d&&d(b,c))},void 0);case 4:return a.reduceRight(function(a,d){return d&&d(b,c,a)||a},d)}},g=DUST.COMPONENT.Button,h=DUST.COMPONENT.EntityButtonOptions,i=DUST.COMPONENT.Text,j=DUST.COMPONENT.FontSettings,k=DUST.COMPONENT.EntityTextOptions,l=DUST.PLUGINS.SoundScreen,m=a("../layers/overlay"),n=a("../animations/FadeInOut"),o=a("../animations/ZoomInOut"),p=a("../Fonts"),q=function(a){function b(){a.call(this),this.name="dust.plugins.soundScreen/buttonOn",this.container=m.overlay,this.buttonAssets={normal:"buttons/button_music.png",press:"buttons/button_music_pressed.png",hover:"buttons/button_music_hover.png"},this.x=70,this.y=300}return e(b,a),b}(h),r=function(a){function b(){a.call(this),this.name="dust.plugins.soundScreen/buttonOff",this.container=m.overlay,this.buttonAssets={normal:"buttons/button_musicOff.png",press:"buttons/button_musicOff_pressed.png",hover:"buttons/button_musicOff_hover.png"},this.x=-70,this.y=300}return e(b,a),b}(h),s=function(a){function b(){var b=String("Sound?"),c=new j(56,p.Fonts[p.Fonts.cantarell_white]);a.call(this,b,c),this.name="dust.plugins.soundScreen/text",this.container=m.overlay,this.y=100}return e(b,a),b}(k),t=function(a){function b(){a.call(this,new s)}return e(b,a),b=f([n.FadeInOut()],b)}(i);c.SoundScreenLabel=t;var u=function(a){function b(){a.call(this,new q),this.makeInteractive(!0)}return e(b,a),b=f([o.ZoomInOut()],b)}(g);c.SoundScreenButtonOn=u;var v=function(a){function b(){a.call(this,new r),this.makeInteractive(!0)}return e(b,a),b=f([o.ZoomInOut()],b)}(g);c.SoundScreenButtonOff=v;var w;c.soundScreen=d},{"../Fonts":1,"../animations/FadeInOut":2,"../animations/ZoomInOut":3,"../layers/overlay":36}],42:[function(a,b,c){var d=DUST.PLUGINS.PUBLISHERAPI.STORAGE,e=DUST.PLUGINS.PUBLISHERAPI.STORE,f=DUST.PLUGINS.PUBLISHERAPI.SOCIAL,g=function(){function a(){this._chipsDepositeParamName="chips-deposite",this.bindEvents()}return Object.defineProperty(a.prototype,"social",{get:function(){return f.getSocial()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"userMetaDataStorage",{get:function(){return d.getUserMetaDataStorage()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"userEnergyStorage",{get:function(){return d.getUserEnergyStorage()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"gameStorage",{get:function(){return d.getGameStorage()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"userLifeStorage",{get:function(){return d.getUserLifeStorage()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"userStoreItemsStorage",{get:function(){return d.getUserStoreItemsStorage()},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"store",{get:function(){return e.getStore()},enumerable:!0,configurable:!0}),a.prototype.checkAndTakeChips=function(a){var b=this;return this.userLifeStorage.getLifes().then(function(c){return a>c?b.openChipsStore().then(function(){return!1}):b.userLifeStorage.rewardLifes(-Math.abs(a)).then(function(){return b.addChipsToDeposite(Math.abs(a))}).then(function(){return!0})})},a.prototype.addChipsToDeposite=function(a){var b=this;return this.getChipsInDeposite().then(function(c){return b.setChipsInDeposite(c+ +a)})},a.prototype.getChipsInDeposite=function(){return this.userLifeStorage.get(this._chipsDepositeParamName).then(function(a){return+a})},a.prototype.setChipsInDeposite=function(a){var b=this;return this.userLifeStorage.set(this._chipsDepositeParamName,a).then(function(){return b.getChipsInDeposite()})},a.prototype.withdrawDeposite=function(){var a=this;return this.getChipsInDeposite().then(function(b){return void 0===b&&(b=0),a.emptyDeposite().then(function(){a.userLifeStorage.rewardLifes(~~b)})})},a.prototype.emptyDeposite=function(){return this.setChipsInDeposite(0)},a.prototype.openChipsStore=function(){return Promise.resolve()},a.prototype.bindEvents=function(){},a}(),h=new g;c.publisher=h},{}],43:[function(a,b,c){var d=DUST.PLUGINS.PUBLISHERAPI.STORAGE,e=DUST.PLUGINS.PUBLISHERAPI.STORE,f=DUST.PLUGINS.PUBLISHERAPI.SOCIAL,g=DUST.event,h=DUST.PLUGINS.PUBLISHERAPI.Events;g.once(h[h.PUBLISHER_STARTED],function(){g.once(h[h.PUBLISHER_HAS_OWN_SOCIAL],function(a){f.registerSocial(a)}),g.once(h[h.PUBLISHER_HAS_OWN_GAME_STORAGE],function(a){d.registerGameStorage(a)}),g.once(h[h.PUBLISHER_HAS_OWN_USER_LIFE_STORAGE],function(a){d.registerUserLifeStorage(a)}),g.once(h[h.PUBLISHER_HAS_OWN_USER_STORE_ITEMS_STORAGE],function(a){d.registerUserStoreItemsStorage(a)}),g.once(h[h.PUBLISHER_HAS_OWN_USER_META_DATA_STORAGE],function(a){d.registerUserMetaDataStorage(a)}),g.once(h[h.PUBLISHER_HAS_OWN_USER_ENERGY_STORAGE],function(a){d.registerUserEnergyStorage(a)}),g.once(h[h.PUBLISHER_HAS_OWN_STORE],function(a){e.registerStore(a)}),g.broadcast(h[h.SOCIAL_REGISTRY_READY],null),g.broadcast(h[h.GAME_STORAGE_REGISTRY_READY],null),g.broadcast(h[h.USER_STORE_ITEMS_STORAGE_REGISTRY_READY],null),g.broadcast(h[h.USER_META_DATA_STORAGE_REGISTRY_READY],null),g.broadcast(h[h.USER_ENERGY_STORAGE_REGISTRY_READY],null);var a={},b={rewardInterval:12e4,rewardSize:1,rewardLimit:90};g.broadcast(h[h.USER_LIFE_STORAGE_REGISTRY_READY],b),g.broadcast(h[h.STORE_REGISTRY_READY],a)})},{}],44:[function(a,b,c){var d;!function(a){a[a.lobby=0]="lobby",a[a.match=1]="match",a[a.standings=2]="standings",a[a.welcome=3]="welcome"}(d||(d={})),c.List=d},{}],45:[function(a,b,c){function d(){}function e(a){a()}var f,g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},h=DUST.Scene,i=a("./List"),j=function(a){function b(b){a.call(this,b)}return g(b,a),b}(h),k={};k.objects=[],k.onShow=d,k.onHide=e,k.name=i.List[i.List.lobby];var l=function(){return f||(f=new j(k)),f};c.lobby=l},{"./List":44}],46:[function(a,b,c){function d(){}function e(a){a()}var f,g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},h=DUST.Scene,i=a("./List"),j=a("../components/match/exampleLottoBalls"),k=function(a){function b(b){a.call(this,b)}return g(b,a),b}(h),l={};l.objects=[j.exampleLottoBalls],l.onShow=d,l.onHide=e,l.name=i.List[i.List.match];var m=function(){return f||(f=new k(l)),f};c.match=m},{"../components/match/exampleLottoBalls":16,"./List":44}],47:[function(a,b,c){function d(){}function e(a){a()}var f,g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},h=DUST.Scene,i=a("./List"),j=function(a){function b(b){a.call(this,b)}return g(b,a),b}(h),k={};k.objects=[],k.onShow=d,k.onHide=e,k.name=i.List[i.List.standings];var l=function(){return f||(f=new j(k)),f};c.standings=l},{"./List":44}],48:[function(a,b,c){function d(){}function e(a){a()}var f,g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},h=DUST.Scene,i=a("../components/common/versionText"),j=a("../plugins/fullScreen"),k=a("../plugins/debugTrigger"),l=a("./List"),m=a("../components/welcome/buttons/startGameButton"),n=function(a){function b(b){a.call(this,b)}return g(b,a),b}(h),o={};o.objects=[k.debugTrigger,j.fullScreen,i.versionText,m.startGameButton],o.onShow=d,o.onHide=e,o.name=l.List[l.List.welcome];var p=function(){return f||(f=new n(o)),f};c.welcome=p},{"../components/common/versionText":7,"../components/welcome/buttons/startGameButton":17,"../plugins/debugTrigger":39,"../plugins/fullScreen":40,"./List":44}],49:[function(a,b,c){var d=a("./publisherApi/publisher"),e=function(){function a(){this._prefix="user_stats",this.gamesWonStatName="games_won",this.gamesLostStatName="games_lost",this.wasTutorialStartedStat="was_tutorial_started"}return a.prototype.setStat=function(a,b){return d.publisher.userMetaDataStorage.set(this._prefix+"."+a,b)},a.prototype.getStat=function(a){return d.publisher.userMetaDataStorage.get(this._prefix+"."+a)},a.prototype.getGamesWon=function(){return this.getStat(this.gamesWonStatName).then(function(a){return+~~a})},a.prototype.setGamesWon=function(a){return this.setStat(this.gamesWonStatName,a)},a.prototype.getGamesLost=function(){return this.getStat(this.gamesLostStatName).then(function(a){return+~~a})},a.prototype.setGamesLost=function(a){return this.setStat(this.gamesLostStatName,a)},a.prototype.getGamesPlayed=function(){return Promise.props({won:this.getGamesWon(),lost:this.getGamesLost()}).then(function(a){return+a.won+ +a.lost})},a.prototype.getWasTutorialStarted=function(){return this.getStat(this.wasTutorialStartedStat)},a.prototype.setWasTutorialStarted=function(a){return void 0===a&&(a=!0),this.setStat(this.wasTutorialStartedStat,a)},a}(),f=new e;c.userStats=f},{"./publisherApi/publisher":42}],50:[function(a,b,c){var d="0.1.1";c.version=d},{}],51:[function(a,b,c){var d={width:1024,height:768,orientation:"landscape"};c.viewPort=d},{}],52:[function(a,b,c){var d=DUST.PHYSICS.world;d&&d.solver&&(d.gravity=[0,0],d.applyDamping=!0,d.applyGravity=!1,d.defaultContactMaterial.restitution=1,d.defaultContactMaterial.friction=0,d.solver.frictionIterations=1,d.solver.tolerance=2,d.solver.iterations=2,d.on("impact",function(a){a.bodyA.impactHandler&&a.bodyA.impactHandler(a),a.bodyB.impactHandler&&a.bodyB.impactHandler(a)}));var e=d;c.world=e},{}],53:[function(a,b,c){},{}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53]);